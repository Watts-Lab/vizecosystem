var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(l(e,n))}function u(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function h(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function p(t,e,n,r,i,o){if(i){const a=f(e,n,r,o);t.p(a,i)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function m(t){return null==t?"":t}function g(t,e,n){return t.set(n),e}function v(e){return e&&a(e.destroy)?e.destroy:t}const y="undefined"!=typeof window;let b=y?()=>window.performance.now():()=>Date.now(),w=y?t=>requestAnimationFrame(t):t;const x=new Set;function $(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&w($)}function _(t){let e;return 0===x.size&&w($),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function M(t,e){t.appendChild(e)}function k(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function C(t){const e=T("style");return function(t,e){M(t.head||t,e)}(k(t),e),e.sheet}function N(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode.removeChild(t)}function S(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function D(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function z(){return j(" ")}function E(){return j("")}function L(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t){return function(e){return e.preventDefault(),t.call(this,e)}}function R(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function q(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function U(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let H;function Y(){if(void 0===H){H=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){H=!0}}return H}function V(t,e,n){t.classList[n?"add":"remove"](e)}function B(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}const W=new Map;let Z,X=0;function G(t,e,n,r,i,o,a,s=0){const l=16.666/r;let c="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*o(t);c+=100*t+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,h=k(t),{stylesheet:p,rules:d}=W.get(h)||function(t,e){const n={stylesheet:C(e),rules:{}};return W.set(t,n),n}(h,t);d[f]||(d[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${i}ms 1 both`,X+=1,f}function K(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),X-=i,X||w((()=>{X||(W.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),W.clear())})))}function Q(n,r,i,o){if(!r)return t;const a=n.getBoundingClientRect();if(r.left===a.left&&r.right===a.right&&r.top===a.top&&r.bottom===a.bottom)return t;const{delay:s=0,duration:l=300,easing:c=e,start:u=b()+s,end:f=u+l,tick:h=t,css:p}=i(n,{from:r,to:a},o);let d,m=!0,g=!1;function v(){p&&K(n,d),m=!1}return _((t=>{if(!g&&t>=u&&(g=!0),g&&t>=f&&(h(1,0),v()),!m)return!1;if(g){const e=0+1*c((t-u)/l);h(e,1-e)}return!0})),p&&(d=G(n,0,1,l,s,c,p)),s||(g=!0),h(0,1),v}function J(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,i)}}function tt(t){Z=t}function et(){if(!Z)throw new Error("Function called outside component initialization");return Z}function nt(t){et().$$.on_mount.push(t)}function rt(){const t=et();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=B(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function it(t){return et().$$.context.get(t)}const ot=[],at=[],st=[],lt=[],ct=Promise.resolve();let ut=!1;function ft(t){st.push(t)}function ht(t){lt.push(t)}const pt=new Set;let dt,mt=0;function gt(){const t=Z;do{for(;mt<ot.length;){const t=ot[mt];mt++,tt(t),vt(t.$$)}for(tt(null),ot.length=0,mt=0;at.length;)at.pop()();for(let t=0;t<st.length;t+=1){const e=st[t];pt.has(e)||(pt.add(e),e())}st.length=0}while(ot.length);for(;lt.length;)lt.pop()();ut=!1,pt.clear(),tt(t)}function vt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ft)}}function yt(){return dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt}function bt(t,e,n){t.dispatchEvent(B(`${e?"intro":"outro"}${n}`))}const wt=new Set;let xt;function $t(){xt={r:0,c:[],p:xt}}function _t(){xt.r||o(xt.c),xt=xt.p}function Mt(t,e){t&&t.i&&(wt.delete(t),t.i(e))}function kt(t,e,n,r){if(t&&t.o){if(wt.has(t))return;wt.add(t),xt.c.push((()=>{wt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const Ct={duration:0};function Nt(n,r,i){let o,s,l=r(n,i),c=!1,u=0;function f(){o&&K(n,o)}function h(){const{delay:r=0,duration:i=300,easing:a=e,tick:h=t,css:p}=l||Ct;p&&(o=G(n,0,1,i,r,a,p,u++)),h(0,1);const d=b()+r,m=d+i;s&&s.abort(),c=!0,ft((()=>bt(n,!0,"start"))),s=_((t=>{if(c){if(t>=m)return h(1,0),bt(n,!0,"end"),f(),c=!1;if(t>=d){const e=a((t-d)/i);h(e,1-e)}}return c}))}let p=!1;return{start(){p||(p=!0,K(n),a(l)?(l=l(),yt().then(h)):h())},invalidate(){p=!1},end(){c&&(f(),c=!1)}}}function At(t,e){t.f(),function(t,e){t.d(1),e.delete(t.key)}(t,e)}function St(t,e,n,r,i,o,a,s,l,c,u,f){let h=t.length,p=o.length,d=h;const m={};for(;d--;)m[t[d].key]=d;const g=[],v=new Map,y=new Map;for(d=p;d--;){const t=f(i,o,d),s=n(t);let l=a.get(s);l?r&&l.p(t,e):(l=c(s,t),l.c()),v.set(s,g[d]=l),s in m&&y.set(s,Math.abs(d-m[s]))}const b=new Set,w=new Set;function x(t){Mt(t,1),t.m(s,u),a.set(t.key,t),u=t.first,p--}for(;h&&p;){const e=g[p-1],n=t[h-1],r=e.key,i=n.key;e===n?(u=e.first,h--,p--):v.has(i)?!a.has(r)||b.has(r)?x(e):w.has(i)?h--:y.get(r)>y.get(i)?(w.add(r),x(e)):(b.add(i),h--):(l(n,a),h--)}for(;h--;){const e=t[h];v.has(e.key)||l(e,a)}for(;p;)x(g[p-1]);return g}function Tt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Dt(t){t&&t.c()}function jt(t,e,n,i){const{fragment:s,on_mount:l,on_destroy:c,after_update:u}=t.$$;s&&s.m(e,n),i||ft((()=>{const e=l.map(r).filter(a);c?c.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(ft)}function zt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(ot.push(t),ut||(ut=!0,ct.then(gt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Lt(e,n,r,a,s,l,c,u=[-1]){const f=Z;tt(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(h.root);let p=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),p&&Et(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(A)}else h.fragment&&h.fragment.c();n.intro&&Mt(e.$$.fragment),jt(e,n.target,n.anchor,n.customElement),gt()}tt(f)}class Pt{$destroy(){zt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Rt(e){let n,r,i,o,a,s,l,c,u,f,h,p,d;return{c(){n=T("header"),r=T("div"),i=T("div"),i.innerHTML='<a class="logo_anchor svelte-14bps0i" href="https://css.seas.upenn.edu/"><img class="logo_img svelte-14bps0i" src="https://css.seas.upenn.edu/wp-content/uploads/2021/09/WEBSITE-LOGO.png" alt="Computational Social Science Lab" id="logo"/></a>',o=z(),a=T("div"),a.innerHTML='<nav id="top-menu-nav"><ul id="top-menu" class="nav svelte-14bps0i"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2731 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu svelte-14bps0i"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1554 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2232 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1747 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-37 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu svelte-14bps0i"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-735 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-292 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-344 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li></ul></nav>',s=z(),l=T("div"),c=T("nav"),u=T("div"),u.innerHTML='<div class="line svelte-14bps0i"></div> \n                    <div class="line svelte-14bps0i"></div> \n                    <div class="line svelte-14bps0i"></div>',f=z(),h=T("ul"),h.innerHTML='<li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu-mobile"><li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu-mobile"><li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li>',I(i,"class","logo_container svelte-14bps0i"),I(a,"id","et-top-navigation"),I(a,"class","svelte-14bps0i"),I(u,"class","icon svelte-14bps0i"),I(h,"id","nav-mobile"),I(h,"class","nav-mobile nav-mobile-hidden svelte-14bps0i"),I(c,"id","top-menu-nav-mobile"),I(c,"class","svelte-14bps0i"),I(l,"id","et-top-navigation-mobile"),I(l,"class","svelte-14bps0i"),I(r,"class","container clearfix et_menu_container svelte-14bps0i"),I(n,"id","main-header"),I(n,"data-height-onload","84"),I(n,"data-height-loaded","true"),I(n,"data-fixed-height-onload","84"),F(n,"top","0px"),I(n,"class","svelte-14bps0i")},m(t,m){N(t,n,m),M(n,r),M(r,i),M(r,o),M(r,a),M(r,s),M(r,l),M(l,c),M(c,u),M(c,f),M(c,h),p||(d=L(u,"click",e[0]),p=!0)},p:t,i:t,o:t,d(t){t&&A(n),p=!1,d()}}}function It(t){let e=null;return nt((()=>{e=document.getElementById("nav-mobile")})),[function(t){const{classList:n}=e;n.contains("nav-mobile-active")?(n.remove("nav-mobile-active"),n.add("nav-mobile-hidden")):(n.add("nav-mobile-active"),n.remove("nav-mobile-hidden"))}]}class Ot extends Pt{constructor(t){super(),Lt(this,t,It,Rt,s,{})}}function Ft(e){let n;return{c(){n=T("footer"),n.innerHTML='<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_footer et_pb_with_background et_section_regular et_pb_section--with-menu svelte-m2njio"><div class="et_pb_row et_pb_row_0_tb_footer et_pb_row--with-menu et_pb_row_4col svelte-m2njio" style="z-index: 3;"><div class="et_pb_column et_pb_column_1_4 et_pb_column_0_tb_footer global-footer-column-1 et_pb_css_mix_blend_mode_passthrough svelte-m2njio"><div class="et_pb_module et_pb_image et_pb_image_0_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.seas.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3438 svelte-m2njio"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_1_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.asc.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3440 svelte-m2njio"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_2_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.wharton.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="111" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton-300x69.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3439 svelte-m2njio"/></span></a></div></div> \n\n            <div class="et_pb_column et_pb_column_1_4 et_pb_column_1_tb_footer global-footer-column-2 et_pb_css_mix_blend_mode_passthrough et_pb_column--with-menu svelte-m2njio"><div class="et_pb_module et_pb_text et_pb_text_0_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><h2 class="svelte-m2njio">Navigate</h2></div></div> \n                <div class="et_pb_module et_pb_divider et_pb_divider_0_tb_footer et_pb_divider_position_ et_pb_space svelte-m2njio"><div class="et_pb_divider_internal svelte-m2njio"></div></div> \n                <div class="et_pb_module et_pb_menu et_pb_menu_0_tb_footer footer-vertical-menu et_pb_bg_layout_light et_pb_text_align_left et_dropdown_animation_fade et_pb_menu--without-logo et_pb_menu--style-left_aligned svelte-m2njio"><div class="et_pb_menu_inner_container clearfix"><div class="et_pb_menu__wrap"><div class="et_pb_menu__menu svelte-m2njio"><nav class="et-menu-nav svelte-m2njio"><ul id="menu-footer-menu-new" class="et-menu nav svelte-m2njio"><li id="menu-item-3425" class="et_pb_menu_page_id-2233 menu-item menu-item-type-post_type menu-item-object-page menu-item-3425 svelte-m2njio"><a href="https://css.seas.upenn.edu/about/" class="svelte-m2njio">About</a></li> \n                                        <li id="menu-item-3426" class="et_pb_menu_page_id-1732 menu-item menu-item-type-post_type menu-item-object-page menu-item-3426 svelte-m2njio"><a href="https://css.seas.upenn.edu/people/" class="svelte-m2njio">People</a></li> \n                                        <li id="menu-item-3430" class="et_pb_menu_page_id-22 menu-item menu-item-type-post_type menu-item-object-page menu-item-3430 svelte-m2njio"><a href="https://css.seas.upenn.edu/research/" class="svelte-m2njio">Research</a></li> \n                                        <li id="menu-item-3428" class="et_pb_menu_page_id-65 menu-item menu-item-type-post_type menu-item-object-page menu-item-3428 svelte-m2njio"><a href="https://css.seas.upenn.edu/partnerships/" class="svelte-m2njio">Partners</a></li> \n                                        <li id="menu-item-3429" class="et_pb_menu_page_id-52 menu-item menu-item-type-post_type menu-item-object-page menu-item-3429 svelte-m2njio"><a href="https://css.seas.upenn.edu/publications/" class="svelte-m2njio">Publications</a></li> \n                                        <li id="menu-item-3427" class="et_pb_menu_page_id-92 menu-item menu-item-type-post_type menu-item-object-page menu-item-3427 svelte-m2njio"><a href="https://css.seas.upenn.edu/blog-news-events/" class="svelte-m2njio">News</a></li></ul></nav></div></div></div></div></div> \n    \n    <div class="et_pb_column et_pb_column_1_4 et_pb_column_2_tb_footer global-footer-column-3 et_pb_css_mix_blend_mode_passthrough svelte-m2njio"><div class="et_pb_module et_pb_text et_pb_text_1_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><h2 class="svelte-m2njio">Contact</h2></div></div> \n        <div class="et_pb_module et_pb_divider et_pb_divider_1_tb_footer et_pb_divider_position_ et_pb_space svelte-m2njio"><div class="et_pb_divider_internal svelte-m2njio"></div></div> \n        <div class="et_pb_module et_pb_text et_pb_text_2_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p class="svelte-m2njio">3401 Walnut Street<br/>Suite 417B<br/>Philadelphia PA, 19104</p> \n                <p class="svelte-m2njio">CSSLab@seas.upenn.edu</p> \n                <p class="svelte-m2njio">(215) 573-7098</p></div></div></div></div> \n    <div class="et_pb_row et_pb_row_1_tb_footer et_pb_equal_columns svelte-m2njio"><div class="et_pb_column et_pb_column_4_4 et_pb_column_4_tb_footer et_pb_css_mix_blend_mode_passthrough et-last-child"><div class="et_pb_module et_pb_text et_pb_text_4_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p style="text-align: center;" class="svelte-m2njio"><a href="https://www.upenn.edu/" class="svelte-m2njio">Penn Homepage</a> \n                        <a href="https://www.upenn.edu/about/disclaimer" class="svelte-m2njio">Disclaimer</a> \n                        <a href="https://www.publicsafety.upenn.edu/contact/" class="svelte-m2njio">Emergency Services</a> \n                        <a href="https://www.upenn.edu/about/privacy-policy" class="svelte-m2njio">Privacy Policy</a> \n                        <a href="https://accessibility.web-resources.upenn.edu/get-help" class="svelte-m2njio">Report Accessibility Issues and Get Help</a> \n                        <a href="https://www.upenn.edu/about/report-copyright-infringement" class="svelte-m2njio">Report Copyright Infringement</a></p></div></div> \n            <div class="et_pb_module et_pb_text et_pb_text_5_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p style="text-align: center;" class="svelte-m2njio"><em><strong></strong></em></p> \n                    <p style="text-align: center;" class="svelte-m2njio"><em><a href="https://css.seas.upenn.edu/research-assistant-positions/" class="svelte-m2njio"><strong>Interested in working at the CSSLab?</strong> Click here to view opportunities for Penn students</a></em></p></div></div></div></div></div></div>',I(n,"class","et-l et-l--footer svelte-m2njio")},m(t,e){N(t,n,e)},p:t,i:t,o:t,d(t){t&&A(n)}}}class qt extends Pt{constructor(t){super(),Lt(this,t,null,Ft,s,{})}}var Ut={},Ht={};function Yt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Vt(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Bt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Wt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Bt(-t,6):t>9999?"+"+Bt(t,6):Bt(t,4)}(t.getUTCFullYear())+"-"+Bt(t.getUTCMonth()+1,2)+"-"+Bt(t.getUTCDate(),2)+(i?"T"+Bt(e,2)+":"+Bt(n,2)+":"+Bt(r,2)+"."+Bt(i,3)+"Z":r?"T"+Bt(e,2)+":"+Bt(n,2)+":"+Bt(r,2)+"Z":n||e?"T"+Bt(e,2)+":"+Bt(n,2)+"Z":"")}var Zt=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return Ht;if(c)return c=!1,Ut;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==Ht;){for(var f=[];r!==Ut&&r!==Ht;)f.push(r),r=u();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Wt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Yt(t);return function(r,i){return e(n(r),i,t)}}(t,e):Yt(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Vt(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Vt(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),Xt=Zt.parse;function Gt(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Kt&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const Kt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Qt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Jt(t,e){return fetch(t,e).then(Qt)}var te,ee=(te=Xt,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Jt(t,e).then((function(t){return te(t,n)}))});function ne(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function re(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ie(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=ne,n=(e,n)=>ne(t(e),n),r=(e,n)=>t(e)-n):(e=t===ne||t===re?t:oe,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function oe(){return 0}const ae=ie(ne).right;ie((function(t){return null===t?NaN:+t})).center;var se=ae;function le(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class ce{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}class ue extends Map{constructor(t,e=he){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(fe(this,t))}has(t){return super.has(fe(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function fe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function he(t){return null!==t&&"object"==typeof t?t.valueOf():t}function pe(t){return t}function de(t,...e){return ve(t,pe,pe,e)}function me(t,...e){return ve(t,Array.from,pe,e)}function ge(t,e,...n){return ve(t,pe,e,n)}function ve(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new ue,s=r[o++];let l=-1;for(const t of i){const e=s(t,++l,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function ye(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}var be=Math.sqrt(50),we=Math.sqrt(10),xe=Math.sqrt(2);function $e(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=be?10:o>=we?5:o>=xe?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=be?10:o>=we?5:o>=xe?2:1)}function _e(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=be?i*=10:o>=we?i*=5:o>=xe&&(i*=2),e<t?-i:i}function Me(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function ke(t,e=ne){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=ne);const i=(t,r)=>e(n[t],n[r]);let o,a;return Uint32Array.from(n,((t,e)=>e)).sort(e===ne?(t,e)=>ye(n[t],n[e]):function(t=ne){if(t===ne)return ye;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}(i)).forEach(((t,e)=>{const n=i(t,void 0===o?t:o);n>=0?((void 0===o||n>0)&&(o=t,a=e),r[t]=a):r[t]=NaN})),r}function Ce(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Ne(t){if(!(i=t.length))return[];for(var e=-1,n=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(t,Ae),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Ae(t){return t.length}function Se(){return Ne(arguments)}var Te=[{state:"Maine",abbr:"ME",row:1,col:11},{state:"Wisconsin",abbr:"WI",row:2,col:6},{state:"Vermont",abbr:"VT",row:2,col:10},{state:"New Hampshire",abbr:"NH",row:2,col:11},{state:"Washington",abbr:"WA",row:3,col:1},{state:"Idaho",abbr:"ID",row:3,col:2},{state:"Montana",abbr:"MT",row:3,col:3},{state:"North Dakota",abbr:"ND",row:3,col:4},{state:"Minnesota",abbr:"MN",row:3,col:5},{state:"Illinois",abbr:"IL",row:3,col:6},{state:"Michigan",abbr:"MI",row:3,col:7},{state:"New York",abbr:"NY",row:3,col:9},{state:"Massachusetts",abbr:"MA",row:3,col:10},{state:"Oregon",abbr:"OR",row:4,col:1},{state:"Nevada",abbr:"NV",row:4,col:2},{state:"Wyoming",abbr:"WY",row:4,col:3},{state:"South Dakota",abbr:"SD",row:4,col:4},{state:"Iowa",abbr:"IA",row:4,col:5},{state:"Indiana",abbr:"IN",row:4,col:6},{state:"Ohio",abbr:"OH",row:4,col:7},{state:"Pennsylvania",abbr:"PA",row:4,col:8},{state:"New Jersey",abbr:"NJ",row:4,col:9},{state:"Connecticut",abbr:"CT",row:4,col:10},{state:"Rhode Island",abbr:"RI",row:4,col:11},{state:"California",abbr:"CA",row:5,col:1},{state:"Utah",abbr:"UT",row:5,col:2},{state:"Colorado",abbr:"CO",row:5,col:3},{state:"Nebraska",abbr:"NE",row:5,col:4},{state:"Missouri",abbr:"MO",row:5,col:5},{state:"Kentucky",abbr:"KY",row:5,col:6},{state:"West Virginia",abbr:"WV",row:5,col:7},{state:"Virginia",abbr:"VA",row:5,col:8},{state:"Maryland",abbr:"MD",row:5,col:9},{state:"Delaware",abbr:"DE",row:5,col:10},{state:"Arizona",abbr:"AZ",row:6,col:2},{state:"New Mexico",abbr:"NM",row:6,col:3},{state:"Kansas",abbr:"KS",row:6,col:4},{state:"Arkansas",abbr:"AR",row:6,col:5},{state:"Tennessee",abbr:"TN",row:6,col:6},{state:"North Carolina",abbr:"NC",row:6,col:7},{state:"South Carolina",abbr:"SC",row:6,col:8},{state:"District of Columbia",abbr:"DC",row:6,col:9},{state:"Oklahoma",abbr:"OK",row:7,col:4},{state:"Louisiana",abbr:"LA",row:7,col:5},{state:"Mississippi",abbr:"MS",row:7,col:6},{state:"Alabama",abbr:"AL",row:7,col:7},{state:"Georgia",abbr:"GA",row:7,col:8},{state:"Hawaii",abbr:"HI",row:8,col:1},{state:"Alaska",abbr:"AK",row:8,col:2},{state:"Texas",abbr:"TX",row:8,col:4},{state:"Florida",abbr:"FL",row:8,col:9}],De={title:"Mapping the (Political) Information Ecosystem",controls:{medium:{title:"Medium",description:"Internet or TV"},partisanship:{title:"Partisanship",description:"On the web, we use a popular, Twitter-based method to give each news domain a partisanship score. Lenient means that websites more to the left of TheGuardian.com, and to the right of FoxNews.com are counted as highly partisan. Stringent means that Slate.com and Breitbart.com—more less centrist news sources—define “highly partisan”."},"node-size":{title:"Node size",description:"Audience size or average consumption"}},intro:[{type:"text",value:"Where do Americans get their news? Who is the typical consumer of news? And how many people are really in partisan “echo chambers”? We had these questions in mind when putting together the four interactive charts on this page."},{type:"text",value:"The analyses here are mostly reproductions of figures from two Science Advances articles published in 2020 and 2022. The underlying datasets are derived from large panels (50-100k) of individuals who agreed to having their desktop internet browsing and TV viewing behavior passively tracked."},{type:"buttons",value:[{title:"The fake news problem",url:"https://www.science.org/doi/10.1126/sciadv.aay3539"},{title:"Partisan news diets",url:"https://www.science.org/doi/10.1126/sciadv.abn0083"}]},{type:"tiles",value:[{title:"Overall News Consumption",tag:"overall-news-consumption"},{title:"Echo Chambers part 1",tag:"echo-chambers-part1"},{title:"Echo Chambers part 2",tag:"echo-chambers-part2"},{title:"Changing TV Audiences",tag:"changing-tv-audiences"}]}],"overall-news-consumption":[{type:"title",value:"Overall News Consumption"},{type:"text",value:"In the first figure, we tally the average time spent watching news and non-news on TV; online content is analyzed in terms of a larger set of categories, including social media platforms and hyper-partisan and fake sites. The clearest pattern is that older Americans spend much more time on news than younger Americans. Moreover, across all age groups, and especially for older Americans, TV news dominates online news articles in terms of total time spent."},{type:"text",value:"When we talk about traditional news audiences in the US, we are primarily talking about older people watching TV."},{type:"chart",value:{type:"line-area",title:"Chart title 1 - overall news consumption",captions:"Minutes per person per day spent with news and other categories of content on TV and desktop browsing. *Local TV News is not included."}}],"echo-chambers-part1":[{type:"title",value:'On partisan "Echo Chambers"'},{type:"text",value:"The 2022 article was inspired by all the talk about “echo chambers,” or the idea that social media has led people to be exposed to overwhelmingly partisan and like-minded news content. To gauge the scale of the echo chamber problem, we asked: how many people have a news diet that is made of majority highly partisan sources? The design of the figure below is somewhat unique because we present results corresponding to multiple definitions of “majority”--50% and 75% of an individual’s total news consumption. You can also toggle the definition of what content counts as “highly partisan” with the lenient/stringent button."},{type:"text",value:"While most people think of echo chambers in terms of social media and the internet, we find that cable TV, especially Fox News, is more responsible for the partisan segregation in news audiences than any combination of far-right or far-left sites circulating the internet. For example, between 10%-15% of Americans aged 55 and older get the majority of their news from Fox News, depending on the month and the definition chosen. The desktop web echo chambers never eclipse even 5% of US internet users for the same age group."},{type:"text",value:"It is important to note that we only capture internet browsing on desktop computers—not mobile devices. So it is conceivable that people see even less or much more partisan content on their mobile devices."},{type:"chart",value:{type:"line-area",title:"Chart title 2 - echo chambers part 1",captions:"The monthly percent of Americans experiencing partisan segregation via TV or Web news. Bounds represent a range of percentages—from 50 to 75—of individual-level news diets that must be partisan for partisan segregation."}}],"echo-chambers-part2":[{type:"title",value:'"Echo Chambers" by state'},{type:"text",value:"In this map, the size of each semi-circle represents the number of people with segregated news diets—or the size of the echo chamber—in that state. You can click on a state for more information, including the most watched news programs & domains. The blue and red shading of each circle indicates how common partisan segregation is in each state, independent of total state population."},{type:"text",value:"When we break the TV audience segregation measurements down like this, we see surprisingly minimal geographic variation. In the “lenient” view, where CNN is counted as left-wing partisan, the Fox News echo chamber still dominates that of the left in nearly every state, with New York and California being notable exceptions. If we count only MSNBC as leftwing partisan, then Fox News easily dominates in every single state (though not Washington DC)."},{type:"chart",value:{type:"line-area",title:"Chart title 3 - echo chambers part 2",captions:"Each state is represented in terms of the total number of residents whose news diets are dominated by right-wing and left-wing partisan sources. The shades of red and blue indicate the percentage of residents. Click on a state for more info."}},{type:"caption1",value:"State-level timeline of echo chamber size as % of total population with TV/desktop computers."},{type:"caption2",value:"We define audience size on the program and domain level as our estimate of the number of people spent at least one hour in a given month"}],"changing-tv-audiences":[{type:"title",value:"Changing TV news audiences"},{type:"text",value:"In this final figure we introduce a final concept: the news consumption archetype. Rather than assume there to be a singularly typical news viewer, we surface 8 archetypes of news consumption by clustering panelists with similarly distributed news diets. We can then measure the size of each archetype as well as individual-level changes from one type of behavior to another by assigning panelists each month to the cluster/archetype to which their news diet is most similar."},{type:"text",value:"It turns out that each archetypal news diet is dominated by a single category of news. In the figure, each archetype is represented by a node whose size corresponds to the number of people exhibiting that archetypal behavior and whose label is the dominant category. We also include a special archetype called “no news”, which represents all of the panelists that spend 30 minutes or less on news in a given month. The arrows between nodes represent “net flow” between archetypes, a metric of pairwise inflow minus outflow designed to capture viewership migrations."},{type:"text",value:"Two major trends characterize the dynamics of TV News Audiences. First, huge numbers—tens of millions—of Americans are ceasing to get news from TV altogether, a mass exodus that is surely due in part to cord-cutting and the rise of streaming services. Second, those continuing to watch news on TV are increasingly becoming followers of the partisan cable news channels, MSNBC and Fox News. In summary, the TV news audience is getting smaller and more polarized."},{type:"chart",value:{type:"flow-chart",title:"Chart title 4 - changing audiences",captions:"Television news consumption archetypes are each labeled according to the category of news most prominently consumed within the archetype, along with a large ninth group of people who are exposed to less than 30 min of news in a month, calculated independently in each month over the 4 years of analysis. The figure represents the direction and magnitude of turnover between each pair of archetypes. For example, if—over a given period of time—1M individuals moved from archetype A to archetype B, and over the same period of time 4M individuals did the reverse and moved from archetype B to A, then the net flow over that time period would be 3M from B to A."}}]};function je(e){let n,r;return{c(){n=T("h1"),r=j(e[0]),I(n,"class","svelte-ap59h2")},m(t,e){N(t,n,e),M(n,r)},p(t,[e]){1&e&&O(r,t[0])},i:t,o:t,d(t){t&&A(n)}}}function ze(t,e,n){let{title:r}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title)},[r]}class Ee extends Pt{constructor(t){super(),Lt(this,t,ze,je,s,{title:0})}}function Le(e){let n,r,i,o,a,s,l,c;return{c(){n=T("div"),r=T("a"),i=j(e[0]),o=z(),a=D("svg"),s=D("path"),l=D("polyline"),c=D("line"),I(s,"d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"),I(l,"points","15 3 21 3 21 9"),I(c,"x1","10"),I(c,"y1","14"),I(c,"x2","21"),I(c,"y2","3"),I(a,"xmlns","http://www.w3.org/2000/svg"),I(a,"viewBox","0 0 24 24"),I(a,"fill","none"),I(a,"stroke","currentColor"),I(a,"stroke-width","2"),I(a,"stroke-linecap","round"),I(a,"stroke-linejoin","round"),I(a,"class","feather feather-external-link svelte-lwabh4"),I(r,"class","btn svelte-lwabh4"),I(r,"href",e[1]),I(r,"target","_top"),I(n,"class","btn-container svelte-lwabh4")},m(t,e){N(t,n,e),M(n,r),M(r,i),M(r,o),M(r,a),M(a,s),M(a,l),M(a,c)},p(t,[e]){1&e&&O(i,t[0]),2&e&&I(r,"href",t[1])},i:t,o:t,d(t){t&&A(n)}}}function Pe(t,e,n){let{title:r}=e,{url:i}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"url"in t&&n(1,i=t.url)},[r,i]}class Re extends Pt{constructor(t){super(),Lt(this,t,Pe,Le,s,{title:0,url:1})}}function Ie(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function Oe(t,e,n){const r=t.slice();return r[4]=e[n],r}function Fe(e){let n,r,i,o,a=e[1].value+"",s=0===e[3]&&function(t){let e;return{c(){e=T("a"),e.textContent="Read more about the data.",I(e,"href","#supplementary")},m(t,n){N(t,e,n)},d(t){t&&A(e)}}}();return{c(){n=T("p"),r=j(a),i=z(),s&&s.c(),o=z(),I(n,"class","svelte-whrgi8")},m(t,e){N(t,n,e),M(n,r),M(n,i),s&&s.m(n,null),M(n,o)},p(t,e){1&e&&a!==(a=t[1].value+"")&&O(r,a)},i:t,o:t,d(t){t&&A(n),s&&s.d()}}}function qe(t){let e,n,r,i,o=t[1].value,a=[];for(let e=0;e<o.length;e+=1)a[e]=Ue(Oe(t,o,e));const s=t=>kt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=T("div"),n=j("Read the original research:\n\n\t\t\t\t");for(let t=0;t<a.length;t+=1)a[t].c();r=z(),I(e,"class","svelte-whrgi8")},m(t,o){N(t,e,o),M(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);M(e,r),i=!0},p(t,n){if(1&n){let i;for(o=t[1].value,i=0;i<o.length;i+=1){const s=Oe(t,o,i);a[i]?(a[i].p(s,n),Mt(a[i],1)):(a[i]=Ue(s),a[i].c(),Mt(a[i],1),a[i].m(e,r))}for($t(),i=o.length;i<a.length;i+=1)s(i);_t()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)Mt(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)kt(a[t]);i=!1},d(t){t&&A(e),S(a,t)}}}function Ue(t){let e,r;const i=[t[4]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Re({props:o}),{c(){Dt(e.$$.fragment)},m(t,n){jt(e,t,n),r=!0},p(t,n){const r=1&n?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(i,[(o=t[4],"object"==typeof o&&null!==o?o:{})]):{};var o;e.$set(r)},i(t){r||(Mt(e.$$.fragment,t),r=!0)},o(t){kt(e.$$.fragment,t),r=!1},d(t){zt(e,t)}}}function He(t){let e,n,r,i;const o=[qe,Fe],a=[];function s(t,e){return"buttons"===t[1].type?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=E()},m(t,n){a[e].m(t,n),N(t,r,n),i=!0},p(t,i){let l=e;e=s(t),e===l?a[e].p(t,i):($t(),kt(a[l],1,1,(()=>{a[l]=null})),_t(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),Mt(n,1),n.m(r.parentNode,r))},i(t){i||(Mt(n),i=!0)},o(t){kt(n),i=!1},d(t){a[e].d(t),t&&A(r)}}}function Ye(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=He(Ie(t,r,e));const o=t=>kt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=T("div");for(let t=0;t<i.length;t+=1)i[t].c();I(e,"class","standfirst-wrapper svelte-whrgi8")},m(t,r){N(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(1&n){let a;for(r=t[0],a=0;a<r.length;a+=1){const o=Ie(t,r,a);i[a]?(i[a].p(o,n),Mt(i[a],1)):(i[a]=He(o),i[a].c(),Mt(i[a],1),i[a].m(e,null))}for($t(),a=r.length;a<i.length;a+=1)o(a);_t()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Mt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)kt(i[t]);n=!1},d(t){t&&A(e),S(i,t)}}}function Ve(t,e,n){let{standfirst:r}=e;return t.$$set=t=>{"standfirst"in t&&n(0,r=t.standfirst)},[r]}class Be extends Pt{constructor(t){super(),Lt(this,t,Ve,Ye,s,{standfirst:0})}}function We(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function Ze(t,e,n){const r=t.slice();return r[4]=e[n],r}function Xe(t){let e,n,r=t[4]+"";return{c(){e=T("p"),n=j(r),I(e,"class","detail-list-value svelte-evlqar")},m(t,r){N(t,e,r),M(e,n)},p(t,e){1&e&&r!==(r=t[4]+"")&&O(n,r)},d(t){t&&A(e)}}}function Ge(t){let e,n,r,i,a,s,l,c,u,f=t[1].name+"",h=t[1].detail,p=[];for(let e=0;e<h.length;e+=1)p[e]=Xe(Ze(t,h,e));return{c(){e=T("div"),n=T("p"),r=j(f),i=z(),a=T("div"),s=T("div");for(let t=0;t<p.length;t+=1)p[t].c();l=z(),I(n,"class","author-name svelte-evlqar"),I(s,"class","detail-list svelte-evlqar"),I(a,"class","detail svelte-evlqar"),I(e,"class","author-container svelte-evlqar")},m(t,o){N(t,e,o),M(e,n),M(n,r),M(e,i),M(e,a),M(a,s);for(let t=0;t<p.length;t+=1)p[t].m(s,null);M(e,l),c||(u=[L(e,"mouseover",Qe),L(e,"focus",Qe),L(e,"mouseout",Je),L(e,"blur",Je)],c=!0)},p(t,e){if(1&e&&f!==(f=t[1].name+"")&&O(r,f),1&e){let n;for(h=t[1].detail,n=0;n<h.length;n+=1){const r=Ze(t,h,n);p[n]?p[n].p(r,e):(p[n]=Xe(r),p[n].c(),p[n].m(s,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=h.length}},d(t){t&&A(e),S(p,t),c=!1,o(u)}}}function Ke(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ge(We(e,r,t));return{c(){n=T("div");for(let t=0;t<i.length;t+=1)i[t].c();I(n,"class","authors svelte-evlqar")},m(t,e){N(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(1&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const a=We(t,r,o);i[o]?i[o].p(a,e):(i[o]=Ge(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&A(n),S(i,t)}}}function Qe(t){t.target.classList.add("active")}function Je(t){t.target.classList.remove("active")}function tn(t,e,n){let{authors:r}=e;return t.$$set=t=>{"authors"in t&&n(0,r=t.authors)},[r]}class en extends Pt{constructor(t){super(),Lt(this,t,tn,Ke,s,{authors:0})}}function nn(e){let n,r,i;return{c(){n=T("div"),r=T("div"),r.innerHTML='<div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div> \n    <div class="svelte-zg9i93"></div>',I(r,"class","lds-roller svelte-zg9i93"),I(n,"class","chart-placeholder svelte-zg9i93"),I(n,"style",i=`--row: ${e[0]}`)},m(t,e){N(t,n,e),M(n,r)},p(t,[e]){1&e&&i!==(i=`--row: ${t[0]}`)&&I(n,"style",i)},i:t,o:t,d(t){t&&A(n)}}}function rn(t,e,n){let{row:r}=e;return t.$$set=t=>{"row"in t&&n(0,r=t.row)},[r]}class on extends Pt{constructor(t){super(),Lt(this,t,rn,nn,s,{row:0})}}function an(e){let n,r,i,a,s,l,c,u,f,h,p,d,m,g,v,y,b,w,x,$,_,k,C,S,D=e[3][0]+"",E=e[3][1]+"";return{c(){n=T("div"),r=T("div"),i=j(e[2]),a=z(),s=T("span"),s.textContent="?",l=z(),c=T("div"),u=j(D),h=z(),p=T("label"),d=T("input"),m=z(),g=T("span"),v=z(),y=T("div"),b=j(E),x=z(),$=T("div"),_=j(e[4]),I(s,"class","info svelte-w9wtv0"),I(r,"class","control-title svelte-w9wtv0"),I(c,"class",f="control-label "+(e[0]?"":"active")+" svelte-w9wtv0"),I(d,"type","checkbox"),I(d,"id","medium"),I(d,"name","medium"),I(d,"class","svelte-w9wtv0"),I(g,"class","slider svelte-w9wtv0"),F(g,"--colorFalse",e[5][1]),F(g,"--colorTrue",e[5][0]),I(p,"class","switch svelte-w9wtv0"),I(y,"class",w="control-label "+(e[0]?"active":"")+" svelte-w9wtv0"),I($,"class",k="info-detail "+e[7]+" svelte-w9wtv0"),I(n,"id",e[1]),I(n,"class","control control-switch svelte-w9wtv0")},m(t,o){N(t,n,o),M(n,r),M(r,i),M(r,a),M(r,s),M(n,l),M(n,c),M(c,u),M(n,h),M(n,p),M(p,d),d.checked=e[0],M(p,m),M(p,g),M(n,v),M(n,y),M(y,b),M(n,x),M(n,$),M($,_),C||(S=[L(s,"mouseenter",e[8]),L(s,"mouseleave",e[9]),L(d,"change",e[10])],C=!0)},p(t,[e]){4&e&&O(i,t[2]),8&e&&D!==(D=t[3][0]+"")&&O(u,D),1&e&&f!==(f="control-label "+(t[0]?"":"active")+" svelte-w9wtv0")&&I(c,"class",f),1&e&&(d.checked=t[0]),32&e&&F(g,"--colorFalse",t[5][1]),32&e&&F(g,"--colorTrue",t[5][0]),8&e&&E!==(E=t[3][1]+"")&&O(b,E),1&e&&w!==(w="control-label "+(t[0]?"active":"")+" svelte-w9wtv0")&&I(y,"class",w),16&e&&O(_,t[4]),128&e&&k!==(k="info-detail "+t[7]+" svelte-w9wtv0")&&I($,"class",k),2&e&&I(n,"id",t[1])},i:t,o:t,d(t){t&&A(n),C=!1,o(S)}}}function sn(t,e,n){let r,i,{id:o=""}=e,{title:a="Title"}=e,{labels:s=["False","True"]}=e,{info:l=""}=e,{checked:c=!0}=e,{colors:u=["#ccc","#555"]}=e;return t.$$set=t=>{"id"in t&&n(1,o=t.id),"title"in t&&n(2,a=t.title),"labels"in t&&n(3,s=t.labels),"info"in t&&n(4,l=t.info),"checked"in t&&n(0,c=t.checked),"colors"in t&&n(5,u=t.colors)},t.$$.update=()=>{64&t.$$.dirty&&n(7,i=r?"active":"")},n(6,r=!1),[c,o,a,s,l,u,r,i,()=>{n(6,r=!0)},()=>{n(6,r=!1)},function(){c=this.checked,n(0,c)}]}class ln extends Pt{constructor(t){super(),Lt(this,t,sn,an,s,{id:1,title:2,labels:3,info:4,checked:0,colors:5})}}const cn=[];function un(e,n=t){let r;const i=new Set;function o(t){if(s(e,t)&&(e=t,r)){const t=!cn.length;for(const t of i)t[1](),cn.push(t,e);if(t){for(let t=0;t<cn.length;t+=2)cn[t][0](cn[t+1]);cn.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.add(l),1===i.size&&(r=n(o)||t),a(e),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function fn(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,c=n.length<2;return u=e=>{let r=!1;const u=[];let f=0,h=t;const p=()=>{if(f)return;h();const r=n(i?u[0]:u,e);c?e(r):h=a(r)?r:t},d=s.map(((t,e)=>l(t,(t=>{u[e]=t,f&=~(1<<e),r&&p()}),(()=>{f|=1<<e}))));return r=!0,p(),function(){o(d),h()}},{subscribe:un(r,u).subscribe};var u}function hn(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function pn(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function dn(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),i=r.length;let o,a,s,l,c,u,f,h;const p=t.length;for(o=0;o<i;o+=1){for(l=r[o],f=e[l],c=null,u=null,a=0;a<p;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(s=0;s<t;s+=1)!1!==h[s]&&void 0!==h[s]&&null!==h[s]&&!1===Number.isNaN(h[s])&&((null===c||h[s]<c)&&(c=h[s]),(null===u||h[s]>u)&&(u=h[s]))}else!1!==h&&null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===u||h>u)&&(u=h));n[l]=[c,u]}return n}function mn(t,e,n){const r=Object.keys(n).reduce(((t,r)=>{const i=function(t){return"function"==typeof t.bandwidth?"ordinal":(e=Object.keys(t),n=["domain","range","unknown","copy"],e.length===n.length&&e.every((t=>n.includes(t)))?"ordinal":"other");var e,n}(n[r]);return t[i]||(t[i]={}),t[i][r]=e[r],t}),{ordinal:!1,other:!1});let i={};return r.ordinal&&(i=function(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},i=Object.keys(e),o=i.length;let a,s,l,c,u,f,h;const p=t.length;for(a=0;a<o;a+=1){for(h=new Set,c=i[a],u=e[c],s=0;s<p;s+=1)if(f=u(t[s]),Array.isArray(f)){const t=f.length;for(l=0;l<t;l+=1)h.add(f[l])}else h.add(f);const o=Array.from(h);r[c]=!0===n?o.sort():o}return r}(t,r.ordinal)),r.other&&(i={...i,...dn(t,r.other)}),i}function gn(t){return function([e,n]){return"function"==typeof n&&(n=n(e[t])),e?function(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}(e[t],n):n}}function vn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function yn(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const bn=Symbol("implicit");function wn(){var t=new ue,e=[],n=[],r=bn;function i(i){let o=t.get(i);if(void 0===o){if(r!==bn)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new ue;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return wn(e,n).unknown(r)},vn.apply(i,arguments),i}function xn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _n(){}var Mn=.7,kn=1/Mn,Cn="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sn=/^#([0-9a-f]{3,8})$/,Tn=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),Dn=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),jn=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${Nn}\\)$`),zn=new RegExp(`^rgba\\(${An},${An},${An},${Nn}\\)$`),En=new RegExp(`^hsl\\(${Nn},${An},${An}\\)$`),Ln=new RegExp(`^hsla\\(${Nn},${An},${An},${Nn}\\)$`),Pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rn(){return this.rgb().formatHex()}function In(){return this.rgb().formatRgb()}function On(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fn(e):3===n?new Yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?qn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?qn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Tn.exec(t))?new Yn(e[1],e[2],e[3],1):(e=Dn.exec(t))?new Yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jn.exec(t))?qn(e[1],e[2],e[3],e[4]):(e=zn.exec(t))?qn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=En.exec(t))?Gn(e[1],e[2]/100,e[3]/100,1):(e=Ln.exec(t))?Gn(e[1],e[2]/100,e[3]/100,e[4]):Pn.hasOwnProperty(t)?Fn(Pn[t]):"transparent"===t?new Yn(NaN,NaN,NaN,0):null}function Fn(t){return new Yn(t>>16&255,t>>8&255,255&t,1)}function qn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yn(t,e,n,r)}function Un(t){return t instanceof _n||(t=On(t)),t?new Yn((t=t.rgb()).r,t.g,t.b,t.opacity):new Yn}function Hn(t,e,n,r){return 1===arguments.length?Un(t):new Yn(t,e,n,null==r?1:r)}function Yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Vn(){return`#${Xn(this.r)}${Xn(this.g)}${Xn(this.b)}`}function Bn(){const t=Wn(this.opacity);return`${1===t?"rgb(":"rgba("}${Zn(this.r)}, ${Zn(this.g)}, ${Zn(this.b)}${1===t?")":`, ${t})`}`}function Wn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xn(t){return((t=Zn(t))<16?"0":"")+t.toString(16)}function Gn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qn(t,e,n,r)}function Kn(t){if(t instanceof Qn)return new Qn(t.h,t.s,t.l,t.opacity);if(t instanceof _n||(t=On(t)),!t)return new Qn;if(t instanceof Qn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Qn(a,s,l,t.opacity)}function Qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Jn(t){return(t=(t||0)%360)<0?t+360:t}function tr(t){return Math.max(0,Math.min(1,t||0))}function er(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}xn(_n,On,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rn,formatHex:Rn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Kn(this).formatHsl()},formatRgb:In,toString:In}),xn(Yn,Hn,$n(_n,{brighter(t){return t=null==t?kn:Math.pow(kn,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Mn:Math.pow(Mn,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yn(Zn(this.r),Zn(this.g),Zn(this.b),Wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vn,formatHex:Vn,formatHex8:function(){return`#${Xn(this.r)}${Xn(this.g)}${Xn(this.b)}${Xn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bn,toString:Bn})),xn(Qn,(function(t,e,n,r){return 1===arguments.length?Kn(t):new Qn(t,e,n,null==r?1:r)}),$n(_n,{brighter(t){return t=null==t?kn:Math.pow(kn,t),new Qn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Mn:Math.pow(Mn,t),new Qn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yn(er(t>=240?t-240:t+120,i,r),er(t,i,r),er(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qn(Jn(this.h),tr(this.s),tr(this.l),Wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wn(this.opacity);return`${1===t?"hsl(":"hsla("}${Jn(this.h)}, ${100*tr(this.s)}%, ${100*tr(this.l)}%${1===t?")":`, ${t})`}`}}));var nr=t=>()=>t;function rr(t){return 1==(t=+t)?ir:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):nr(isNaN(e)?n:e)}}function ir(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):nr(isNaN(t)?e:t)}var or=function t(e){var n=rr(e);function r(t,e){var r=n((t=Hn(t)).r,(e=Hn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ir(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ar(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function sr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=dr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function lr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ur(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=dr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hr=new RegExp(fr.source,"g");function pr(t,e){var n,r,i,o=fr.lastIndex=hr.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=fr.exec(t))&&(r=hr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:cr(n,r)})),o=hr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function dr(t,e){var n,r=typeof e;return null==e||"boolean"===r?nr(e):("number"===r?cr:"string"===r?(n=On(e))?(e=n,or):pr:e instanceof On?or:e instanceof Date?lr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ar:Array.isArray(e)?sr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ur:cr)(t,e)}function mr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function gr(t,e){void 0===e&&(e=t,t=dr);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function vr(t){return+t}var yr=[0,1];function br(t){return t}function wr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function xr(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=wr(i,r),o=n(a,o)):(r=wr(r,i),o=n(o,a)),function(t){return o(r(t))}}function $r(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=wr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=se(t,e,1,r)-1;return o[n](i[n](e))}}function _r(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mr(){var t,e,n,r,i,o,a=yr,s=yr,l=dr,c=br;function u(){var t=Math.min(a.length,s.length);return c!==br&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?$r:xr,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),cr)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,vr),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=mr,u()},f.clamp=function(t){return arguments.length?(c=!!t||br,u()):c!==br},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function kr(){return Mr()(br,br)}function Cr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nr(t){return(t=Cr(Math.abs(t)))?t[1]:NaN}var Ar,Sr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tr(t){if(!(e=Sr.exec(t)))throw new Error("invalid format: "+t);var e;return new Dr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Dr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function jr(t,e){var n=Cr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Tr.prototype=Dr.prototype,Dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var zr={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jr(100*t,e),r:jr,s:function(t,e){var n=Cr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ar=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cr(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Er(t){return t}var Lr,Pr,Rr,Ir=Array.prototype.map,Or=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Er:(e=Ir.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Er:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ir.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Tr(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):zr[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?l:"",x=zr[y],$=/[defgprs%]/.test(y);function _(t){var i,o,l,h=b,_=w;if("c"===y)_=x(t)+_,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:c:"-"===f||"("===f?"":f)+h,_=("s"===y?Or[8+Ar/3]:"")+_+(M&&"("===f?")":""),$)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){_=(46===l?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var k=h.length+t.length+_.length,C=k<d?new Array(d-k+1).join(e):"";switch(m&&p&&(t=r(C+t,C.length?d-_.length:1/0),C=""),n){case"<":t=h+t+_+C;break;case"=":t=h+C+t+_;break;case"^":t=C.slice(0,k=C.length>>1)+h+t+_+C.slice(k);break;default:t=C+h+t+_}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=Tr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Nr(e)/3))),i=Math.pow(10,-r),o=Or[8+r/3];return function(t){return n(i*t)+o}}}}function qr(t,e,n,r){var i,o=_e(t,e,n);switch((r=Tr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nr(e)/3)))-Nr(Math.abs(t)))}(o,a))||(r.precision=i),Rr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nr(e)-Nr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Nr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Pr(r)}function Ur(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=$e(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return qr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=$e(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Hr(){var t=kr();return t.copy=function(){return _r(t,Hr())},vn.apply(t,arguments),Ur(t)}function Yr(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vr(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Br(t){return t<0?-t*t:t*t}function Wr(t){var e=t(br,br),n=1;function r(){return 1===n?t(br,br):.5===n?t(Vr,Br):t(Yr(n),Yr(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Ur(e)}function Zr(){var t=Wr(Mr());return t.copy=function(){return _r(t,Zr()).exponent(t.exponent())},vn.apply(t,arguments),t}function Xr(){return Zr.apply(null,arguments).exponent(.5)}function Gr(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[se(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Gr().domain(e).range(n).unknown(t)},vn.apply(i,arguments)}Lr=Fr({thousands:",",grouping:[3],currency:["$",""]}),Pr=Lr.format,Rr=Lr.formatPrefix;var Kr=new Date,Qr=new Date;function Jr(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Jr((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Kr.setTime(+e),Qr.setTime(+r),t(Kr),t(Qr),Math.floor(n(Kr,Qr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var ti=Jr((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ti.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Jr((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ti:null};var ei=ti;ti.range;const ni=1e3,ri=6e4,ii=36e5,oi=864e5,ai=6048e5,si=2592e6,li=31536e6;var ci=Jr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*ni)}),(function(t,e){return(e-t)/ni}),(function(t){return t.getUTCSeconds()})),ui=ci;ci.range;var fi=Jr((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni)}),(function(t,e){t.setTime(+t+e*ri)}),(function(t,e){return(e-t)/ri}),(function(t){return t.getMinutes()})),hi=fi;fi.range;var pi=Jr((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni-t.getMinutes()*ri)}),(function(t,e){t.setTime(+t+e*ii)}),(function(t,e){return(e-t)/ii}),(function(t){return t.getHours()})),di=pi;pi.range;var mi=Jr((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ri)/oi),(t=>t.getDate()-1)),gi=mi;function vi(t){return Jr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ri)/ai}))}mi.range;var yi=vi(0),bi=vi(1),wi=vi(2),xi=vi(3),$i=vi(4),_i=vi(5),Mi=vi(6);yi.range,bi.range,wi.range,xi.range,$i.range,_i.range,Mi.range;var ki=Jr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Ci=ki;ki.range;var Ni=Jr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ni.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Jr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ai=Ni;Ni.range;var Si=Jr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/oi}),(function(t){return t.getUTCDate()-1})),Ti=Si;function Di(t){return Jr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/ai}))}Si.range;var ji=Di(0),zi=Di(1),Ei=Di(2),Li=Di(3),Pi=Di(4),Ri=Di(5),Ii=Di(6);ji.range,zi.range,Ei.range,Li.range,Pi.range,Ri.range,Ii.range;var Oi=Jr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Oi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Jr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Fi=Oi;Oi.range;const[qi,Ui]=function(t,e,n,r,i,o){const a=[[ui,1,ni],[ui,5,5e3],[ui,15,15e3],[ui,30,3e4],[o,1,ri],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,ii],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,oi],[r,2,1728e5],[n,1,ai],[e,1,si],[e,3,7776e6],[t,1,li]];function s(e,n,r){const i=Math.abs(n-e)/r,o=ie((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(_e(e/li,n/li,r));if(0===o)return ei.every(Math.max(_e(e,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}(Ai,Ci,yi,gi,di,hi);function Hi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Bi,Wi,Zi={"-":"",_:" ",0:"0"},Xi=/^\s*\d+/,Gi=/^%/,Ki=/[\\^$*+?|[\]().{}]/g;function Qi(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ji(t){return t.replace(Ki,"\\$&")}function to(t){return new RegExp("^(?:"+t.map(Ji).join("|")+")","i")}function eo(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function no(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ro(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function io(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oo(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ao(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function so(t,e,n){var r=Xi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function co(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uo(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function fo(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ho(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function po(t,e,n){var r=Xi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mo(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function go(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vo(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yo(t,e,n){var r=Xi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bo(t,e,n){var r=Xi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wo(t,e,n){var r=Gi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xo(t,e,n){var r=Xi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $o(t,e,n){var r=Xi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _o(t,e){return Qi(t.getDate(),e,2)}function Mo(t,e){return Qi(t.getHours(),e,2)}function ko(t,e){return Qi(t.getHours()%12||12,e,2)}function Co(t,e){return Qi(1+gi.count(Ai(t),t),e,3)}function No(t,e){return Qi(t.getMilliseconds(),e,3)}function Ao(t,e){return No(t,e)+"000"}function So(t,e){return Qi(t.getMonth()+1,e,2)}function To(t,e){return Qi(t.getMinutes(),e,2)}function Do(t,e){return Qi(t.getSeconds(),e,2)}function jo(t){var e=t.getDay();return 0===e?7:e}function zo(t,e){return Qi(yi.count(Ai(t)-1,t),e,2)}function Eo(t){var e=t.getDay();return e>=4||0===e?$i(t):$i.ceil(t)}function Lo(t,e){return t=Eo(t),Qi($i.count(Ai(t),t)+(4===Ai(t).getDay()),e,2)}function Po(t){return t.getDay()}function Ro(t,e){return Qi(bi.count(Ai(t)-1,t),e,2)}function Io(t,e){return Qi(t.getFullYear()%100,e,2)}function Oo(t,e){return Qi((t=Eo(t)).getFullYear()%100,e,2)}function Fo(t,e){return Qi(t.getFullYear()%1e4,e,4)}function qo(t,e){var n=t.getDay();return Qi((t=n>=4||0===n?$i(t):$i.ceil(t)).getFullYear()%1e4,e,4)}function Uo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Qi(e/60|0,"0",2)+Qi(e%60,"0",2)}function Ho(t,e){return Qi(t.getUTCDate(),e,2)}function Yo(t,e){return Qi(t.getUTCHours(),e,2)}function Vo(t,e){return Qi(t.getUTCHours()%12||12,e,2)}function Bo(t,e){return Qi(1+Ti.count(Fi(t),t),e,3)}function Wo(t,e){return Qi(t.getUTCMilliseconds(),e,3)}function Zo(t,e){return Wo(t,e)+"000"}function Xo(t,e){return Qi(t.getUTCMonth()+1,e,2)}function Go(t,e){return Qi(t.getUTCMinutes(),e,2)}function Ko(t,e){return Qi(t.getUTCSeconds(),e,2)}function Qo(t){var e=t.getUTCDay();return 0===e?7:e}function Jo(t,e){return Qi(ji.count(Fi(t)-1,t),e,2)}function ta(t){var e=t.getUTCDay();return e>=4||0===e?Pi(t):Pi.ceil(t)}function ea(t,e){return t=ta(t),Qi(Pi.count(Fi(t),t)+(4===Fi(t).getUTCDay()),e,2)}function na(t){return t.getUTCDay()}function ra(t,e){return Qi(zi.count(Fi(t)-1,t),e,2)}function ia(t,e){return Qi(t.getUTCFullYear()%100,e,2)}function oa(t,e){return Qi((t=ta(t)).getUTCFullYear()%100,e,2)}function aa(t,e){return Qi(t.getUTCFullYear()%1e4,e,4)}function sa(t,e){var n=t.getUTCDay();return Qi((t=n>=4||0===n?Pi(t):Pi.ceil(t)).getUTCFullYear()%1e4,e,4)}function la(){return"+0000"}function ca(){return"%"}function ua(t){return+t}function fa(t){return Math.floor(+t/1e3)}function ha(t){return new Date(t)}function pa(t){return t instanceof Date?+t:+new Date(+t)}function da(t,e,n,r,i,o,a,s,l,c){var u=kr(),f=u.invert,h=u.domain,p=c(".%L"),d=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(t){return(l(t)<t?p:s(t)<t?d:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?v:y:n(t)<t?b:w)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?h(Array.from(t,pa)):h().map(ha)},u.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(n,t)):u},u.copy=function(){return _r(u,da(t,e,n,r,i,o,a,s,l,c))},u}function ma(){return vn.apply(da(qi,Ui,Ai,Ci,yi,gi,di,hi,ui,Wi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ga(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function va(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=1,f=br,h=!1;function p(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function d(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=gr(t,[n,r,i]),p):[f(0),f(.5),f(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,t=o(s=+s),e=o(l=+l),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,p):[s,l,c]},p.clamp=function(t){return arguments.length?(h=!!t,p):h},p.interpolator=function(t){return arguments.length?(f=t,p):f},p.range=d(dr),p.rangeRound=d(mr),p.unknown=function(t){return arguments.length?(a=t,p):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,p}}function ya(){var t=Ur(va()(br));return t.copy=function(){return ga(t,ya())},yn.apply(t,arguments)}!function(t){Bi=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=to(i),u=eo(i),f=to(o),h=eo(o),p=to(a),d=eo(a),m=to(s),g=eo(s),v=to(l),y=eo(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:_o,e:_o,f:Ao,g:Oo,G:qo,H:Mo,I:ko,j:Co,L:No,m:So,M:To,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ua,s:fa,S:Do,u:jo,U:zo,V:Lo,w:Po,W:Ro,x:null,X:null,y:Io,Y:Fo,Z:Uo,"%":ca},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ho,e:Ho,f:Zo,g:oa,G:sa,H:Yo,I:Vo,j:Bo,L:Wo,m:Xo,M:Go,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ua,s:fa,S:Ko,u:Qo,U:Jo,V:ea,w:na,W:ra,x:null,X:null,y:ia,Y:aa,Z:la,"%":ca},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:ho,e:ho,f:bo,g:lo,G:so,H:mo,I:mo,j:po,L:yo,m:fo,M:go,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:uo,Q:xo,s:$o,S:vo,u:ro,U:io,V:oo,w:no,W:ao,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:lo,Y:so,Z:co,"%":wo};function $(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=Zi[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function _(t,e){return function(n){var r,i,o=Vi(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Yi(Vi(o.y,0,1))).getUTCDay(),r=i>4||0===i?zi.ceil(r):zi(r),r=Ti.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Hi(Vi(o.y,0,1))).getDay(),r=i>4||0===i?bi.ceil(r):bi(r),r=gi.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Yi(Vi(o.y,0,1)).getUTCDay():Hi(Vi(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Yi(o)):Hi(o)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Zi?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=$(n,b),b.X=$(r,b),b.c=$(e,b),w.x=$(n,w),w.X=$(r,w),w.c=$(e,w),{format:function(t){var e=$(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=$(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}(t),Wi=Bi.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ba={x:Hr,y:Hr,z:Hr,r:Xr};function wa(t){return t}function xa(t){return e=>Math.log(t*e)}function $a(t){return e=>t*Math.exp(e)}function _a(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Ma(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function ka(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ca(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:xa(n),ground:$a(n),scaleType:e}}if("pow"===e){const t=1;return{lift:ka(t),ground:ka(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:ka(t),ground:ka(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:_a(t),ground:Ma(t),scaleType:e}}return{lift:wa,ground:wa,scaleType:e}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,f=e[1]||0,h=(s-a)/(Math.abs(c-l)-u-f);return[a-u*h,f*h+s].map((t=>r(o?new Date(t):t)))}function Na(t){return function([e,n,r,i,o,a,s,l,c,u]){if(null===n)return null;const f=function(t,e,n,r,i,o){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===r?[a,o]:[o,a]}(t,e,n,r,o)}(t,s,l,a,c,u),h=e===ba[t]?e():e.copy();return h.domain(r),(!h.interpolator||"function"==typeof h.interpolator&&h.interpolator().name.startsWith("identity"))&&h.range(f),i&&h.domain(Ca(h,i)),!0!==o&&"number"!=typeof o||("function"==typeof h.nice?h.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function Aa([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function Sa([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ta=t=>({element:4&t[0],width:256&t[0],height:512&t[0],aspectRatio:1024&t[0],containerWidth:128&t[0],containerHeight:64&t[0]}),Da=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function ja(t){let e,n,r;const i=t[90].default,o=u(i,t,t[89],Da);return{c(){e=T("div"),o&&o.c(),I(e,"class","layercake-container svelte-1ll0j6t"),ft((()=>t[92].call(e))),F(e,"position",t[5],!1),F(e,"top","absolute"===t[5]?"0":null,!1),F(e,"right","absolute"===t[5]?"0":null,!1),F(e,"bottom","absolute"===t[5]?"0":null,!1),F(e,"left","absolute"===t[5]?"0":null,!1),F(e,"pointer-events",!1===t[4]?"none":null,!1)},m(i,a){N(i,e,a),o&&o.m(e,null),t[91](e),n=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=T("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Y();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=L(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=L(n.contentWindow,"resize",e)}),M(t,n),()=>{(r||i&&n.contentWindow)&&i(),A(n)}}(e,t[92].bind(e)),r=!0},p(t,n){o&&o.p&&(!r||1988&n[0]|134217728&n[2])&&p(o,i,t,t[89],r?h(i,t[89],n,Ta):d(t[89]),Da),32&n[0]&&F(e,"position",t[5],!1),32&n[0]&&F(e,"top","absolute"===t[5]?"0":null,!1),32&n[0]&&F(e,"right","absolute"===t[5]?"0":null,!1),32&n[0]&&F(e,"bottom","absolute"===t[5]?"0":null,!1),32&n[0]&&F(e,"left","absolute"===t[5]?"0":null,!1),16&n[0]&&F(e,"pointer-events",!1===t[4]?"none":null,!1)},i(t){r||(Mt(o,t),r=!0)},o(t){kt(o,t),r=!1},d(r){r&&A(e),o&&o.d(r),t[91](null),n()}}}function za(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&ja(t);return{c(){r&&r.c(),e=E()},m(t,i){r&&r.m(t,i),N(t,e,i),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&Mt(r,1)):(r=ja(t),r.c(),Mt(r,1),r.m(e.parentNode,e)):r&&($t(),kt(r,1,1,(()=>{r=null})),_t())},i(t){n||(Mt(r),n=!0)},o(t){kt(r),n=!1},d(t){r&&r.d(t),t&&A(e)}}}function Ea(t,e,n){let r,i,o,a,s,l,u,f,h,p,d,m,v,y,b,w,x,$,_,M,k,C,N,A,S,T,D,j,z,E,L,P,R,I,O,F,q,U,H,Y,V,{$$slots:B={},$$scope:W}=e,{ssr:Z=!1}=e,{pointerEvents:X=!0}=e,{position:G="relative"}=e,{percentRange:K=!1}=e,{width:Q}=e,{height:J}=e,{containerWidth:tt=Q||100}=e,{containerHeight:rt=J||100}=e,{element:it}=e,{x:ot}=e,{y:st}=e,{z:lt}=e,{r:ct}=e,{data:ut=[]}=e,{xDomain:ft}=e,{yDomain:ht}=e,{zDomain:pt}=e,{rDomain:dt}=e,{xNice:mt=!1}=e,{yNice:gt=!1}=e,{zNice:vt=!1}=e,{rNice:yt=!1}=e,{xPadding:bt}=e,{yPadding:wt}=e,{zPadding:xt}=e,{rPadding:$t}=e,{xScale:_t=ba.x}=e,{yScale:Mt=ba.y}=e,{zScale:kt=ba.z}=e,{rScale:Ct=ba.r}=e,{xRange:Nt}=e,{yRange:At}=e,{zRange:St}=e,{rRange:Tt}=e,{xReverse:Dt=!1}=e,{yReverse:jt="function"!=typeof Mt.bandwidth}=e,{zReverse:zt=!1}=e,{rReverse:Et=!1}=e,{padding:Lt={}}=e,{extents:Pt={}}=e,{flatData:Rt}=e,{custom:It={}}=e,Ot=!1;nt((()=>{Ot=!0}));const Ft={},qt=un(K);c(t,qt,(t=>n(128,U=t)));const Ut=un(tt);c(t,Ut,(t=>n(7,q=t)));const Ht=un(rt);c(t,Ht,(t=>n(6,F=t)));const Yt=un(pn(Pt));c(t,Yt,(t=>n(127,O=t)));const Vt=un(ut);c(t,Vt,(t=>n(126,I=t)));const Bt=un(Rt||ut);c(t,Bt,(t=>n(125,R=t)));const Wt=un(Lt);c(t,Wt,(t=>n(124,P=t)));const Zt=un(hn(ot));c(t,Zt,(t=>n(123,L=t)));const Xt=un(hn(st));c(t,Xt,(t=>n(122,E=t)));const Gt=un(hn(lt));c(t,Gt,(t=>n(121,z=t)));const Kt=un(hn(ct));c(t,Kt,(t=>n(120,j=t)));const Qt=un(ft);c(t,Qt,(t=>n(119,D=t)));const Jt=un(ht);c(t,Jt,(t=>n(118,T=t)));const te=un(pt);c(t,te,(t=>n(117,S=t)));const ee=un(dt);c(t,ee,(t=>n(116,A=t)));const ne=un(mt);c(t,ne,(t=>n(115,N=t)));const re=un(gt);c(t,re,(t=>n(114,C=t)));const ie=un(vt);c(t,ie,(t=>n(113,k=t)));const oe=un(yt);c(t,oe,(t=>n(112,M=t)));const ae=un(Dt);c(t,ae,(t=>n(111,_=t)));const se=un(jt);c(t,se,(t=>n(110,$=t)));const le=un(zt);c(t,le,(t=>n(109,x=t)));const ce=un(Et);c(t,ce,(t=>n(108,w=t)));const ue=un(bt);c(t,ue,(t=>n(107,b=t)));const fe=un(wt);c(t,fe,(t=>n(106,y=t)));const he=un(xt);c(t,he,(t=>n(105,v=t)));const pe=un($t);c(t,pe,(t=>n(104,m=t)));const de=un(Nt);c(t,de,(t=>n(103,d=t)));const me=un(At);c(t,me,(t=>n(102,p=t)));const ge=un(St);c(t,ge,(t=>n(101,h=t)));const ve=un(Tt);c(t,ve,(t=>n(100,f=t)));const ye=un(_t);c(t,ye,(t=>n(99,u=t)));const be=un(Mt);c(t,be,(t=>n(98,l=t)));const we=un(kt);c(t,we,(t=>n(97,s=t)));const xe=un(Ct);c(t,xe,(t=>n(96,a=t)));const $e=un(Ft);c(t,$e,(t=>n(94,i=t)));const _e=un(It);c(t,_e,(t=>n(95,o=t)));const Me=fn([Zt,Xt,Gt,Kt],(([t,e,n,r])=>{const i={};return t&&(i.x=t),e&&(i.y=e),n&&(i.z=n),r&&(i.r=r),i})),ke=fn([Wt,Ut,Ht],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ce=fn([Ut,Ht,ke],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&!0===Ot&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&!0===Ot&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ne=fn([Ce],(([t])=>t.width));c(t,Ne,(t=>n(8,H=t)));const Ae=fn([Ce],(([t])=>t.height));c(t,Ae,(t=>n(9,Y=t)));const Se=fn([Bt,Me,Yt,ye,be,xe,we],(([t,e,n,r,i,o,a])=>{const s={x:r,y:i,r:o,z:a},l=pn(e,n),c=Object.fromEntries(Object.keys(l).map((t=>[t,s[t]])));if(Object.keys(l).length>0){return{...mn(t,l,c),...n}}return{}})),Te=fn([Se,Qt],gn("x")),De=fn([Se,Jt],gn("y")),je=fn([Se,te],gn("z")),ze=fn([Se,ee],gn("r")),Ee=fn([ye,Se,Te,ue,ne,ae,Ne,Ae,de,qt],Na("x")),Le=fn([Zt,Ee],Aa),Pe=fn([be,Se,De,fe,re,se,Ne,Ae,me,qt],Na("y")),Re=fn([Xt,Pe],Aa),Ie=fn([we,Se,je,he,ie,le,Ne,Ae,ge,qt],Na("z")),Oe=fn([Gt,Ie],Aa),Fe=fn([xe,Se,ze,pe,oe,ce,Ne,Ae,ve,qt],Na("r")),qe=fn([Kt,Fe],Aa),Ue=fn([Ee],Sa),He=fn([Pe],Sa),Ye=fn([Ie],Sa),Ve=fn([Fe],Sa),Be=fn([Ne,Ae],(([t,e])=>t/e));return c(t,Be,(t=>n(10,V=t))),t.$$set=t=>{"ssr"in t&&n(3,Z=t.ssr),"pointerEvents"in t&&n(4,X=t.pointerEvents),"position"in t&&n(5,G=t.position),"percentRange"in t&&n(51,K=t.percentRange),"width"in t&&n(52,Q=t.width),"height"in t&&n(53,J=t.height),"containerWidth"in t&&n(0,tt=t.containerWidth),"containerHeight"in t&&n(1,rt=t.containerHeight),"element"in t&&n(2,it=t.element),"x"in t&&n(54,ot=t.x),"y"in t&&n(55,st=t.y),"z"in t&&n(56,lt=t.z),"r"in t&&n(57,ct=t.r),"data"in t&&n(58,ut=t.data),"xDomain"in t&&n(59,ft=t.xDomain),"yDomain"in t&&n(60,ht=t.yDomain),"zDomain"in t&&n(61,pt=t.zDomain),"rDomain"in t&&n(62,dt=t.rDomain),"xNice"in t&&n(63,mt=t.xNice),"yNice"in t&&n(64,gt=t.yNice),"zNice"in t&&n(65,vt=t.zNice),"rNice"in t&&n(66,yt=t.rNice),"xPadding"in t&&n(67,bt=t.xPadding),"yPadding"in t&&n(68,wt=t.yPadding),"zPadding"in t&&n(69,xt=t.zPadding),"rPadding"in t&&n(70,$t=t.rPadding),"xScale"in t&&n(71,_t=t.xScale),"yScale"in t&&n(72,Mt=t.yScale),"zScale"in t&&n(73,kt=t.zScale),"rScale"in t&&n(74,Ct=t.rScale),"xRange"in t&&n(75,Nt=t.xRange),"yRange"in t&&n(76,At=t.yRange),"zRange"in t&&n(77,St=t.zRange),"rRange"in t&&n(78,Tt=t.rRange),"xReverse"in t&&n(79,Dt=t.xReverse),"yReverse"in t&&n(80,jt=t.yReverse),"zReverse"in t&&n(81,zt=t.zReverse),"rReverse"in t&&n(82,Et=t.rReverse),"padding"in t&&n(83,Lt=t.padding),"extents"in t&&n(84,Pt=t.extents),"flatData"in t&&n(85,Rt=t.flatData),"custom"in t&&n(86,It=t.custom),"$$scope"in t&&n(89,W=t.$$scope)},t.$$.update=()=>{8388608&t.$$.dirty[1]&&ot&&n(87,Ft.x=ot,Ft),16777216&t.$$.dirty[1]&&st&&n(87,Ft.y=st,Ft),33554432&t.$$.dirty[1]&&lt&&n(87,Ft.z=lt,Ft),67108864&t.$$.dirty[1]&&ct&&n(87,Ft.r=ct,Ft),268435456&t.$$.dirty[1]&&ft&&n(87,Ft.xDomain=ft,Ft),536870912&t.$$.dirty[1]&&ht&&n(87,Ft.yDomain=ht,Ft),1073741824&t.$$.dirty[1]&&pt&&n(87,Ft.zDomain=pt,Ft),1&t.$$.dirty[2]&&dt&&n(87,Ft.rDomain=dt,Ft),8192&t.$$.dirty[2]&&Nt&&n(87,Ft.xRange=Nt,Ft),16384&t.$$.dirty[2]&&At&&n(87,Ft.yRange=At,Ft),32768&t.$$.dirty[2]&&St&&n(87,Ft.zRange=St,Ft),65536&t.$$.dirty[2]&&Tt&&n(87,Ft.rRange=Tt,Ft),1048576&t.$$.dirty[1]&&g(qt,U=K,U),1&t.$$.dirty[0]&&g(Ut,q=tt,q),2&t.$$.dirty[0]&&g(Ht,F=rt,F),4194304&t.$$.dirty[2]&&g(Yt,O=pn(Pt),O),134217728&t.$$.dirty[1]&&g(Vt,I=ut,I),134217728&t.$$.dirty[1]|8388608&t.$$.dirty[2]&&g(Bt,R=Rt||ut,R),2097152&t.$$.dirty[2]&&g(Wt,P=Lt,P),8388608&t.$$.dirty[1]&&g(Zt,L=hn(ot),L),16777216&t.$$.dirty[1]&&g(Xt,E=hn(st),E),33554432&t.$$.dirty[1]&&g(Gt,z=hn(lt),z),67108864&t.$$.dirty[1]&&g(Kt,j=hn(ct),j),268435456&t.$$.dirty[1]&&g(Qt,D=ft,D),536870912&t.$$.dirty[1]&&g(Jt,T=ht,T),1073741824&t.$$.dirty[1]&&g(te,S=pt,S),1&t.$$.dirty[2]&&g(ee,A=dt,A),2&t.$$.dirty[2]&&g(ne,N=mt,N),4&t.$$.dirty[2]&&g(re,C=gt,C),8&t.$$.dirty[2]&&g(ie,k=vt,k),16&t.$$.dirty[2]&&g(oe,M=yt,M),131072&t.$$.dirty[2]&&g(ae,_=Dt,_),262144&t.$$.dirty[2]&&g(se,$=jt,$),524288&t.$$.dirty[2]&&g(le,x=zt,x),1048576&t.$$.dirty[2]&&g(ce,w=Et,w),32&t.$$.dirty[2]&&g(ue,b=bt,b),64&t.$$.dirty[2]&&g(fe,y=wt,y),128&t.$$.dirty[2]&&g(he,v=xt,v),256&t.$$.dirty[2]&&g(pe,m=$t,m),8192&t.$$.dirty[2]&&g(de,d=Nt,d),16384&t.$$.dirty[2]&&g(me,p=At,p),32768&t.$$.dirty[2]&&g(ge,h=St,h),65536&t.$$.dirty[2]&&g(ve,f=Tt,f),512&t.$$.dirty[2]&&g(ye,u=_t,u),1024&t.$$.dirty[2]&&g(be,l=Mt,l),2048&t.$$.dirty[2]&&g(we,s=kt,s),4096&t.$$.dirty[2]&&g(xe,a=Ct,a),16777216&t.$$.dirty[2]&&g(_e,o=It,o),33554432&t.$$.dirty[2]&&g($e,i=Ft,i),67108864&t.$$.dirty[2]&&function(t,e){et().$$.context.set(t,e)}("LayerCake",r)},n(88,r={activeGetters:Me,width:Ne,height:Ae,percentRange:qt,aspectRatio:Be,containerWidth:Ut,containerHeight:Ht,x:Zt,y:Xt,z:Gt,r:Kt,custom:_e,data:Vt,xNice:ne,yNice:re,zNice:ie,rNice:oe,xReverse:ae,yReverse:se,zReverse:le,rReverse:ce,xPadding:ue,yPadding:fe,zPadding:he,rPadding:pe,padding:ke,flatData:Bt,extents:Se,xDomain:Te,yDomain:De,zDomain:je,rDomain:ze,xRange:Ue,yRange:He,zRange:Ye,rRange:Ve,config:$e,xScale:Ee,xGet:Le,yScale:Pe,yGet:Re,zScale:Ie,zGet:Oe,rScale:Fe,rGet:qe}),[tt,rt,it,Z,X,G,F,q,H,Y,V,qt,Ut,Ht,Yt,Vt,Bt,Wt,Zt,Xt,Gt,Kt,Qt,Jt,te,ee,ne,re,ie,oe,ae,se,le,ce,ue,fe,he,pe,de,me,ge,ve,ye,be,we,xe,$e,_e,Ne,Ae,Be,K,Q,J,ot,st,lt,ct,ut,ft,ht,pt,dt,mt,gt,vt,yt,bt,wt,xt,$t,_t,Mt,kt,Ct,Nt,At,St,Tt,Dt,jt,zt,Et,Lt,Pt,Rt,It,Ft,r,W,B,function(t){at[t?"unshift":"push"]((()=>{it=t,n(2,it)}))},function(){tt=this.clientWidth,rt=this.clientHeight,n(0,tt),n(1,rt)}]}class La extends Pt{constructor(t){super(),Lt(this,t,Ea,za,s,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xPadding:67,yPadding:68,zPadding:69,rPadding:70,xScale:71,yScale:72,zScale:73,rScale:74,xRange:75,yRange:76,zRange:77,rRange:78,xReverse:79,yReverse:80,zReverse:81,rReverse:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const Pa=t=>({element:1&t}),Ra=t=>({element:t[0]});function Ia(t){let e,n;const r=t[6].default,i=u(r,t,t[5],Ra);return{c(){e=T("div"),i&&i.c(),I(e,"class","layercake-layout-html svelte-1u9nfei"),F(e,"z-index",t[1],!1),F(e,"pointer-events",!1===t[2]?"none":null,!1),F(e,"top",t[3].top+"px",!1),F(e,"right",t[3].right+"px",!1),F(e,"bottom",t[3].bottom+"px",!1),F(e,"left",t[3].left+"px",!1)},m(r,o){N(r,e,o),i&&i.m(e,null),t[7](e),n=!0},p(t,[o]){i&&i.p&&(!n||33&o)&&p(i,r,t,t[5],n?h(r,t[5],o,Pa):d(t[5]),Ra),2&o&&F(e,"z-index",t[1],!1),4&o&&F(e,"pointer-events",!1===t[2]?"none":null,!1),8&o&&F(e,"top",t[3].top+"px",!1),8&o&&F(e,"right",t[3].right+"px",!1),8&o&&F(e,"bottom",t[3].bottom+"px",!1),8&o&&F(e,"left",t[3].left+"px",!1)},i(t){n||(Mt(i,t),n=!0)},o(t){kt(i,t),n=!1},d(n){n&&A(e),i&&i.d(n),t[7](null)}}}function Oa(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{element:a}=e,{zIndex:s}=e,{pointerEvents:l}=e;const{padding:u}=it("LayerCake");return c(t,u,(t=>n(3,r=t))),t.$$set=t=>{"element"in t&&n(0,a=t.element),"zIndex"in t&&n(1,s=t.zIndex),"pointerEvents"in t&&n(2,l=t.pointerEvents),"$$scope"in t&&n(5,o=t.$$scope)},[a,s,l,r,u,o,i,function(t){at[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class Fa extends Pt{constructor(t){super(),Lt(this,t,Oa,Ia,s,{element:0,zIndex:1,pointerEvents:2})}}const qa=t=>({element:1&t}),Ua=t=>({element:t[0]}),Ha=t=>({element:1&t}),Ya=t=>({element:t[0]});function Va(t){let e,n,r,i,o;const a=t[12].defs,s=u(a,t,t[11],Ya),l=t[12].default,c=u(l,t,t[11],Ua);return{c(){e=D("svg"),n=D("defs"),s&&s.c(),r=D("g"),c&&c.c(),I(r,"class","layercake-layout-svg_g"),I(r,"transform",i="translate("+t[7].left+", "+t[7].top+")"),I(e,"class","layercake-layout-svg svelte-17l4rdd"),I(e,"viewBox",t[4]),I(e,"width",t[5]),I(e,"height",t[6]),F(e,"z-index",t[2],!1),F(e,"pointer-events",!1===t[3]?"none":null,!1)},m(i,a){N(i,e,a),M(e,n),s&&s.m(n,null),M(e,r),c&&c.m(r,null),t[13](r),t[14](e),o=!0},p(t,[n]){s&&s.p&&(!o||2049&n)&&p(s,a,t,t[11],o?h(a,t[11],n,Ha):d(t[11]),Ya),c&&c.p&&(!o||2049&n)&&p(c,l,t,t[11],o?h(l,t[11],n,qa):d(t[11]),Ua),(!o||128&n&&i!==(i="translate("+t[7].left+", "+t[7].top+")"))&&I(r,"transform",i),(!o||16&n)&&I(e,"viewBox",t[4]),(!o||32&n)&&I(e,"width",t[5]),(!o||64&n)&&I(e,"height",t[6]),4&n&&F(e,"z-index",t[2],!1),8&n&&F(e,"pointer-events",!1===t[3]?"none":null,!1)},i(t){o||(Mt(s,t),Mt(c,t),o=!0)},o(t){kt(s,t),kt(c,t),o=!1},d(n){n&&A(e),s&&s.d(n),c&&c.d(n),t[13](null),t[14](null)}}}function Ba(t,e,n){let r,i,o,{$$slots:a={},$$scope:s}=e,{element:l}=e,{innerElement:u}=e,{zIndex:f}=e,{pointerEvents:h}=e,{viewBox:p}=e;const{containerWidth:d,containerHeight:m,padding:g}=it("LayerCake");return c(t,d,(t=>n(5,r=t))),c(t,m,(t=>n(6,i=t))),c(t,g,(t=>n(7,o=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"innerElement"in t&&n(1,u=t.innerElement),"zIndex"in t&&n(2,f=t.zIndex),"pointerEvents"in t&&n(3,h=t.pointerEvents),"viewBox"in t&&n(4,p=t.viewBox),"$$scope"in t&&n(11,s=t.$$scope)},[l,u,f,h,p,r,i,o,d,m,g,s,a,function(t){at[t?"unshift":"push"]((()=>{u=t,n(1,u)}))},function(t){at[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Wa extends Pt{constructor(t){super(),Lt(this,t,Ba,Va,s,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function Za(t){if(Array.isArray(t)&&Array.isArray(t[0])){let e=[];const n=t.length;for(let r=0;r<n;r+=1)e=e.concat(t[r]);return e}return t}const Xa=Math.PI,Ga=2*Xa,Ka=1e-6,Qa=Ga-Ka;function Ja(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ts(){return new Ja}function es(t){return function(){return t}}function ns(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function rs(t){this._context=t}function is(t){return new rs(t)}function os(t){return t[0]}function as(t){return t[1]}function ss(t,e){var n=es(!0),r=null,i=is,o=null;function a(a){var s,l,c,u=(a=ns(a)).length,f=!1;for(null==r&&(o=i(c=ts())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?os:es(t),e="function"==typeof e?e:void 0===e?as:es(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:es(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:es(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:es(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function ls(t,e,n){var r=null,i=es(!0),o=null,a=is,s=null;function l(l){var c,u,f,h,p,d=(l=ns(l)).length,m=!1,g=new Array(d),v=new Array(d);for(null==o&&(s=a(p=ts())),c=0;c<=d;++c){if(!(c<d&&i(h=l[c],c,l))===m)if(m=!m)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=u;--f)s.point(g[f],v[f]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+t(h,c,l),v[c]=+e(h,c,l),s.point(r?+r(h,c,l):g[c],n?+n(h,c,l):v[c]))}if(p)return s=null,p+""||null}function c(){return ss().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?os:es(+t),e="function"==typeof e?e:es(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?as:es(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:es(+e),r=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:es(+e),l):t},l.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:es(+t),l):r},l.y=function(t){return arguments.length?(e="function"==typeof t?t:es(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:es(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:es(+t),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:es(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}function cs(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function us(t){this._context=t}function fs(t){return new us(t)}function hs(t){this._context=t}function ps(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ds(t){return new hs(t)}function ms(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function gs(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vs(t,e){return t[e]}function ys(t){const e=[];return e.key=t,e}function bs(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function ws(t){return function(t){var e=t.map(bs);return gs(t).sort((function(t,n){return e[t]-e[n]}))}(t).reverse()}function xs(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function $s(t){let e,n,r;return{c(){e=D("line"),I(e,"class","gridline svelte-6edweo"),I(e,"x2","100%"),I(e,"y1",n=t[4]+(t[8]?t[9].bandwidth()/2:0)),I(e,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){N(t,e,n)},p(t,i){784&i&&n!==(n=t[4]+(t[8]?t[9].bandwidth()/2:0))&&I(e,"y1",n),784&i&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&I(e,"y2",r)},d(t){t&&A(e)}}}function _s(t){let e,n,r,i;return{c(){e=D("line"),I(e,"class","tick-mark svelte-6edweo"),I(e,"x1","0"),I(e,"x2",n=t[8]?-6:6),I(e,"y1",r=t[4]+(t[8]?t[9].bandwidth()/2:0)),I(e,"y2",i=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){N(t,e,n)},p(t,o){256&o&&n!==(n=t[8]?-6:6)&&I(e,"x2",n),784&o&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&I(e,"y1",r),784&o&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&I(e,"y2",i)},d(t){t&&A(e)}}}function Ms(t){let e,n,r,i,o,a,s,l,c,u=t[2](t[17],t[19],t[10].length)+"",f=!1!==t[0]&&$s(t),h=!0===t[1]&&_s(t);return{c(){e=D("g"),f&&f.c(),n=E(),h&&h.c(),r=D("text"),i=j(u),I(r,"x",t[3]),I(r,"y",o=t[4]+(t[8]?t[9].bandwidth()/2:0)),I(r,"dx",a=t[8]?-9:t[5]),I(r,"dy",s=t[8]?4:t[6]),F(r,"text-anchor",t[8]?"end":t[7]),I(r,"class","svelte-6edweo"),I(e,"class",l="tick tick-"+t[17]+" svelte-6edweo"),I(e,"transform",c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")},m(t,o){N(t,e,o),f&&f.m(e,null),M(e,n),h&&h.m(e,null),M(e,r),M(r,i)},p(t,p){!1!==t[0]?f?f.p(t,p):(f=$s(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),!0===t[1]?h?h.p(t,p):(h=_s(t),h.c(),h.m(e,r)):h&&(h.d(1),h=null),1028&p&&u!==(u=t[2](t[17],t[19],t[10].length)+"")&&O(i,u),8&p&&I(r,"x",t[3]),784&p&&o!==(o=t[4]+(t[8]?t[9].bandwidth()/2:0))&&I(r,"y",o),288&p&&a!==(a=t[8]?-9:t[5])&&I(r,"dx",a),320&p&&s!==(s=t[8]?4:t[6])&&I(r,"dy",s),384&p&&F(r,"text-anchor",t[8]?"end":t[7]),1024&p&&l!==(l="tick tick-"+t[17]+" svelte-6edweo")&&I(e,"class",l),7936&p&&c!==(c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&I(e,"transform",c)},d(t){t&&A(e),f&&f.d(),h&&h.d()}}}function ks(e){let n,r,i=e[10],o=[];for(let t=0;t<i.length;t+=1)o[t]=Ms(xs(e,i,t));return{c(){n=D("g");for(let t=0;t<o.length;t+=1)o[t].c();I(n,"class","axis y-axis"),I(n,"transform",r="translate("+-e[11].left+", 0)")},m(t,e){N(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(8191&e){let r;for(i=t[10],r=0;r<i.length;r+=1){const a=xs(t,i,r);o[r]?o[r].p(a,e):(o[r]=Ms(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}2048&e&&r!==(r="translate("+-t[11].left+", 0)")&&I(n,"transform",r)},i:t,o:t,d(t){t&&A(n),S(o,t)}}}function Cs(t,e,n){let r,i,o,a,s;const{padding:l,xRange:u,yScale:f}=it("LayerCake");c(t,l,(t=>n(11,a=t))),c(t,u,(t=>n(12,s=t))),c(t,f,(t=>n(9,o=t)));let{gridlines:h=!0}=e,{tickMarks:p=!1}=e,{formatTick:d=(t=>t)}=e,{ticks:m=4}=e,{xTick:g=0}=e,{yTick:v=0}=e,{dxTick:y=0}=e,{dyTick:b=-4}=e,{textAnchor:w="start"}=e;return t.$$set=t=>{"gridlines"in t&&n(0,h=t.gridlines),"tickMarks"in t&&n(1,p=t.tickMarks),"formatTick"in t&&n(2,d=t.formatTick),"ticks"in t&&n(16,m=t.ticks),"xTick"in t&&n(3,g=t.xTick),"yTick"in t&&n(4,v=t.yTick),"dxTick"in t&&n(5,y=t.dxTick),"dyTick"in t&&n(6,b=t.dyTick),"textAnchor"in t&&n(7,w=t.textAnchor)},t.$$.update=()=>{512&t.$$.dirty&&n(8,r="function"==typeof o.bandwidth),66304&t.$$.dirty&&n(10,i=Array.isArray(m)?m:r?o.domain():"function"==typeof m?m(o.ticks()):o.ticks(m))},[h,p,d,g,v,y,b,w,r,o,i,a,s,l,u,f,m]}Ja.prototype=ts.prototype={constructor:Ja,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Ka)if(Math.abs(u*s-l*c)>Ka&&i){var h=n-o,p=r-a,d=s*s+l*l,m=h*h+p*p,g=Math.sqrt(d),v=Math.sqrt(f),y=i*Math.tan((Xa-Math.acos((d+f-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>Ka&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*p)+","+(this._x1=t+w*s)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Ka||Math.abs(this._y1-c)>Ka)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Ga+Ga),f>Qa?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Ka&&(this._+="A"+n+","+n+",0,"+ +(f>=Xa)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cs(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=ps(t),i=ps(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};class Ns extends Pt{constructor(t){super(),Lt(this,t,Cs,ks,s,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}function As(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Ss(t){let e,n;return{c(){e=D("line"),I(e,"class","gridline svelte-11s23aw"),I(e,"y1",n=-1*t[11]),I(e,"y2","0"),I(e,"x1","0"),I(e,"x2","0")},m(t,n){N(t,e,n)},p(t,r){2048&r&&n!==(n=-1*t[11])&&I(e,"y1",n)},d(t){t&&A(e)}}}function Ts(t){let e,n,r;return{c(){e=D("line"),I(e,"class","tick-mark svelte-11s23aw"),I(e,"y1",0),I(e,"y2",6),I(e,"x1",n=t[5]||t[7]?t[8].bandwidth()/2:0),I(e,"x2",r=t[5]||t[7]?t[8].bandwidth()/2:0)},m(t,n){N(t,e,n)},p(t,i){416&i&&n!==(n=t[5]||t[7]?t[8].bandwidth()/2:0)&&I(e,"x1",n),416&i&&r!==(r=t[5]||t[7]?t[8].bandwidth()/2:0)&&I(e,"x2",r)},d(t){t&&A(e)}}}function Ds(t){let e,n,r,i,o,a,s,l,c=t[4](t[19])+"",u=!1!==t[0]&&Ss(t),f=!0===t[1]&&Ts(t);return{c(){e=D("g"),u&&u.c(),n=E(),f&&f.c(),r=D("text"),i=j(c),I(r,"x",o=t[5]||t[7]?t[8].bandwidth()/2:0),I(r,"y",t[6]),I(r,"dx",""),I(r,"dy",""),I(r,"text-anchor",a=t[17](t[21])),I(r,"class","svelte-11s23aw"),I(e,"class",s="tick tick-"+t[21]+" svelte-11s23aw"),I(e,"transform",l="translate("+t[8](t[19])+","+t[10][0]+")")},m(t,o){N(t,e,o),u&&u.m(e,null),M(e,n),f&&f.m(e,null),M(e,r),M(r,i)},p(t,a){!1!==t[0]?u?u.p(t,a):(u=Ss(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?f?f.p(t,a):(f=Ts(t),f.c(),f.m(e,r)):f&&(f.d(1),f=null),528&a&&c!==(c=t[4](t[19])+"")&&O(i,c),416&a&&o!==(o=t[5]||t[7]?t[8].bandwidth()/2:0)&&I(r,"x",o),64&a&&I(r,"y",t[6]),1792&a&&l!==(l="translate("+t[8](t[19])+","+t[10][0]+")")&&I(e,"transform",l)},d(t){t&&A(e),u&&u.d(),f&&f.d()}}}function js(t){let e,n,r;return{c(){e=D("line"),I(e,"class","baseline svelte-11s23aw"),I(e,"y1",n=t[11]+.5),I(e,"y2",r=t[11]+.5),I(e,"x1","0"),I(e,"x2",t[12])},m(t,n){N(t,e,n)},p(t,i){2048&i&&n!==(n=t[11]+.5)&&I(e,"y1",n),2048&i&&r!==(r=t[11]+.5)&&I(e,"y2",r),4096&i&&I(e,"x2",t[12])},d(t){t&&A(e)}}}function zs(e){let n,r,i=e[9],o=[];for(let t=0;t<i.length;t+=1)o[t]=Ds(As(e,i,t));let a=!0===e[2]&&js(e);return{c(){n=D("g");for(let t=0;t<o.length;t+=1)o[t].c();r=E(),a&&a.c(),I(n,"class","axis x-axis svelte-11s23aw"),V(n,"snapTicks",e[3])},m(t,e){N(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);M(n,r),a&&a.m(n,null)},p(t,[e]){if(135155&e){let a;for(i=t[9],a=0;a<i.length;a+=1){const s=As(t,i,a);o[a]?o[a].p(s,e):(o[a]=Ds(s),o[a].c(),o[a].m(n,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}!0===t[2]?a?a.p(t,e):(a=js(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),8&e&&V(n,"snapTicks",t[3])},i:t,o:t,d(t){t&&A(n),S(o,t),a&&a.d()}}}function Es(t,e,n){let r,i,o,a,s,l;const{width:u,height:f,xScale:h,yRange:p}=it("LayerCake");c(t,u,(t=>n(12,l=t))),c(t,f,(t=>n(11,s=t))),c(t,h,(t=>n(8,o=t))),c(t,p,(t=>n(10,a=t)));let{gridlines:d=!0}=e,{tickMarks:m=!1}=e,{baseline:g=!1}=e,{snapTicks:v=!1}=e,{formatTick:y=(t=>t)}=e,{ticks:b}=e,{xTick:w=0}=e,{yTick:x=16}=e;return t.$$set=t=>{"gridlines"in t&&n(0,d=t.gridlines),"tickMarks"in t&&n(1,m=t.tickMarks),"baseline"in t&&n(2,g=t.baseline),"snapTicks"in t&&n(3,v=t.snapTicks),"formatTick"in t&&n(4,y=t.formatTick),"ticks"in t&&n(18,b=t.ticks),"xTick"in t&&n(5,w=t.xTick),"yTick"in t&&n(6,x=t.yTick)},t.$$.update=()=>{256&t.$$.dirty&&n(7,r="function"==typeof o.bandwidth),262528&t.$$.dirty&&n(9,i=Array.isArray(b)?b:r?o.domain():"function"==typeof b?b(o.ticks()):o.ticks(b))},[d,m,g,v,y,w,x,r,o,i,a,s,l,u,f,h,p,function(t){if(!0===v){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},b]}class Ls extends Pt{constructor(t){super(),Lt(this,t,Es,zs,s,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function Ps(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Rs(t){let e,n,r,i;return{c(){e=D("g"),n=D("path"),I(n,"class","path-area svelte-1oyvjie"),I(n,"d",r=t[0](t[9])),I(n,"fill",i=t[2](t[9])),I(e,"class","area-group")},m(t,r){N(t,e,r),M(e,n)},p(t,e){3&e&&r!==(r=t[0](t[9]))&&I(n,"d",r),6&e&&i!==(i=t[2](t[9]))&&I(n,"fill",i)},d(t){t&&A(e)}}}function Is(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Rs(Ps(e,r,t));return{c(){n=D("g");for(let t=0;t<i.length;t+=1)i[t].c();I(n,"class","vis")},m(t,e){N(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(7&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=Ps(t,r,o);i[o]?i[o].p(a,e):(i[o]=Rs(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&A(n),S(i,t)}}}function Os(t,e,n){let r,i,o,a,s;const{data:l,xGet:u,yScale:f,zGet:h}=it("LayerCake");return c(t,l,(t=>n(1,a=t))),c(t,u,(t=>n(8,o=t))),c(t,f,(t=>n(7,i=t))),c(t,h,(t=>n(2,s=t))),t.$$.update=()=>{384&t.$$.dirty&&n(0,r=ls().x((t=>o(t))).y0((t=>i(t[0]))).y1((t=>i(t[1]))).curve(fs))},[r,a,s,l,u,f,h,i,o]}class Fs extends Pt{constructor(t){super(),Lt(this,t,Os,Is,s,{})}}function qs(e){let n,r,i,o,a,s,l,c,u,f,h;return{c(){n=T("div"),r=T("span"),i=j(e[0]),o=z(),a=T("a"),s=j("Download data "),l=D("svg"),c=D("path"),u=D("polyline"),f=D("line"),I(r,"class","caption-text svelte-1s413p1"),I(c,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),I(u,"points","7 10 12 15 17 10"),I(f,"x1","12"),I(f,"y1","15"),I(f,"x2","12"),I(f,"y2","3"),I(l,"xmlns","http://www.w3.org/2000/svg"),I(l,"width","24"),I(l,"height","24"),I(l,"viewBox","0 0 24 24"),I(l,"fill","none"),I(l,"stroke","currentColor"),I(l,"stroke-width","2"),I(l,"stroke-linecap","round"),I(l,"stroke-linejoin","round"),I(l,"class","feather feather-download svelte-1s413p1"),I(a,"class","download-button svelte-1s413p1"),I(a,"href",e[1]),I(a,"download",""),I(n,"class",h="caption caption-"+e[2]+" svelte-1s413p1")},m(t,e){N(t,n,e),M(n,r),M(r,i),M(n,o),M(n,a),M(a,s),M(a,l),M(l,c),M(l,u),M(l,f)},p(t,[e]){1&e&&O(i,t[0]),2&e&&I(a,"href",t[1]),4&e&&h!==(h="caption caption-"+t[2]+" svelte-1s413p1")&&I(n,"class",h)},i:t,o:t,d(t){t&&A(n)}}}function Us(t,e,n){let{caption:r}=e,{url:i}=e,{type:o}=e;return t.$$set=t=>{"caption"in t&&n(0,r=t.caption),"url"in t&&n(1,i=t.url),"type"in t&&n(2,o=t.type)},[r,i,o]}class Hs extends Pt{constructor(t){super(),Lt(this,t,Us,qs,s,{caption:0,url:1,type:2})}}function Ys(t){let e,n,r,i,o,a;return e=new Ls({props:{gridlines:!1,snapTicks:!1,tickMarks:!0,formatTick:t[6]}}),r=new Ns({props:{formatTick:Zs,ticks:4}}),o=new Fs({}),{c(){Dt(e.$$.fragment),n=z(),Dt(r.$$.fragment),i=z(),Dt(o.$$.fragment)},m(t,s){jt(e,t,s),N(t,n,s),jt(r,t,s),N(t,i,s),jt(o,t,s),a=!0},p(t,n){const r={};64&n&&(r.formatTick=t[6]),e.$set(r)},i(t){a||(Mt(e.$$.fragment,t),Mt(r.$$.fragment,t),Mt(o.$$.fragment,t),a=!0)},o(t){kt(e.$$.fragment,t),kt(r.$$.fragment,t),kt(o.$$.fragment,t),a=!1},d(t){zt(e,t),t&&A(n),zt(r,t),t&&A(i),zt(o,t)}}}function Vs(t){let e,n;return e=new Wa({props:{$$slots:{default:[Ys]},$$scope:{ctx:t}}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};32832&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Bs(t){let e,n;return e=new Hs({props:{caption:t[1],url:t[3],type:"single-cols"}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.caption=t[1]),8&n&&(r.url=t[3]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Ws(t){let e,n,r,i,o;n=new La({props:{padding:t[0],flatData:Za(t[8]),data:t[8],x:Xs,xScale:ma(),y:[0,1],yDomain:t[7],z:"key",zScale:wn(),zDomain:t[4],zRange:t[5],$$slots:{default:[Vs]},$$scope:{ctx:t}}});let a=t[2]&&Bs(t);return{c(){e=T("div"),Dt(n.$$.fragment),r=z(),a&&a.c(),i=E(),I(e,"class",m("chart stacked-area-chart")+" svelte-wrhpuq")},m(t,s){N(t,e,s),jt(n,e,null),N(t,r,s),a&&a.m(t,s),N(t,i,s),o=!0},p(t,[e]){const r={};1&e&&(r.padding=t[0]),256&e&&(r.flatData=Za(t[8])),256&e&&(r.data=t[8]),128&e&&(r.yDomain=t[7]),16&e&&(r.zDomain=t[4]),32&e&&(r.zRange=t[5]),32832&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[2]?a?(a.p(t,e),4&e&&Mt(a,1)):(a=Bs(t),a.c(),Mt(a,1),a.m(i.parentNode,i)):a&&($t(),kt(a,1,1,(()=>{a=null})),_t())},i(t){o||(Mt(n.$$.fragment,t),Mt(a),o=!0)},o(t){kt(n.$$.fragment,t),kt(a),o=!1},d(t){t&&A(e),zt(n),t&&A(r),a&&a.d(t),t&&A(i)}}}const Zs=t=>t,Xs=t=>t.data.date;function Gs(t,e,n){let r,i,o,a,{margins:s={top:20,right:10,bottom:20,left:45}}=e,{caption:l=""}=e,{includeCaption:c=!0}=e,{url:u=""}=e,{data:f}=e,{dataMap:h}=e,{categories:p}=e,{colors:d}=e,{rows:m}=e,{formatter:g}=e,{yDomain:v}=e;return t.$$set=t=>{"margins"in t&&n(0,s=t.margins),"caption"in t&&n(1,l=t.caption),"includeCaption"in t&&n(2,c=t.includeCaption),"url"in t&&n(3,u=t.url),"data"in t&&n(9,f=t.data),"dataMap"in t&&n(10,h=t.dataMap),"categories"in t&&n(4,p=t.categories),"colors"in t&&n(5,d=t.colors),"rows"in t&&n(11,m=t.rows),"formatter"in t&&n(6,g=t.formatter),"yDomain"in t&&n(7,v=t.yDomain)},t.$$.update=()=>{3088&t.$$.dirty&&n(12,r=m.map((t=>{const e={},n=h.get(t);if(void 0!==n)return p.forEach((t=>{n.has(t)&&(e[t]=n.get(t)[0].value)})),Object.assign({date:new Date(t)},e)})).filter((t=>void 0!==t))),4096&t.$$.dirty&&n(14,i=Object.keys(r[0]).filter((t=>"date"!==t))),16384&t.$$.dirty&&n(13,o=function(){var t=es([]),e=gs,n=ms,r=vs;function i(i){var o,a,s=Array.from(t.apply(this,arguments),ys),l=s.length,c=-1;for(const t of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(t,s[o].key,c,i)]).data=t;for(o=0,a=ns(e(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:es(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:es(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?gs:"function"==typeof t?t:es(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?ms:t,i):n},i}().keys(i).order(ws)),12288&t.$$.dirty&&n(8,a=o(r))},[s,l,c,u,p,d,g,v,a,f,h,m,r,o,i]}class Ks extends Pt{constructor(t){super(),Lt(this,t,Gs,Ws,s,{margins:0,caption:1,includeCaption:2,url:3,data:9,dataMap:10,categories:4,colors:5,rows:11,formatter:6,yDomain:7})}}const Qs=Wi("%b-%y"),Js=Wi("%Y"),tl=new Map([["non-news","Non-news"],["news","News"],["non_news","Non-news"],["facebook","Facebook"],["hard_news","Hard news"],["youtube","YouTube"],["twitter","Twitter"],["reddit","Reddit"],["fake_news","Fake News"]]);function el(t,e,n){const r=t.slice();return r[21]=e[n],r}function nl(t,e,n){const r=t.slice();return r[24]=e[n],r}function rl(e){let n,r,i,o=e[24].state+"";return{c(){n=T("option"),r=j(o),n.__value=i=e[24].abbr,n.value=n.__value},m(t,e){N(t,n,e),M(n,r)},p:t,d(t){t&&A(n)}}}function il(t){let e,n,r,i,o,a,s,l=tl.get(t[21][1])+"";return{c(){e=T("div"),n=T("div"),i=z(),o=T("div"),a=j(l),s=z(),I(n,"class",r=m("legend-color")+" svelte-11evggu"),F(n,"--color",t[21][0]),I(e,"class","legend-item svelte-11evggu")},m(t,r){N(t,e,r),M(e,n),M(e,i),M(e,o),M(o,a),M(e,s)},p(t,e){4096&e&&F(n,"--color",t[21][0]),4096&e&&l!==(l=tl.get(t[21][1])+"")&&O(a,l)},d(t){t&&A(e)}}}function ol(e){let n,r;return n=new on({props:{row:0}}),{c(){Dt(n.$$.fragment)},m(t,e){jt(n,t,e),r=!0},p:t,i(t){r||(Mt(n.$$.fragment,t),r=!0)},o(t){kt(n.$$.fragment,t),r=!1},d(t){zt(n,t)}}}function al(t){let e,n;return e=new Ks({props:{dataMap:t[10].get(t[8]).get(t[5]).get(t[6]).get(t[7]),data:t[9],rows:t[11],categories:t[12].order,colors:t[12].colors,yDomain:t[12].yDomain,formatter:Js,caption:t[3][0].value,url:ll}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};1504&n&&(r.dataMap=t[10].get(t[8]).get(t[5]).get(t[6]).get(t[7])),512&n&&(r.data=t[9]),2048&n&&(r.rows=t[11]),4096&n&&(r.categories=t[12].order),4096&n&&(r.colors=t[12].colors),4096&n&&(r.yDomain=t[12].yDomain),8&n&&(r.caption=t[3][0].value),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function sl(t){let e,n,r,i,a,s,l,c,u,f,h,p,d,m,g,v,y,b,w,x,$,_,k,C,D,j,E,P,R,O,F,U,H,Y,V,B,W,Z,X,G,K,Q,J,tt,et;function nt(e){t[13](e)}r=new Ee({props:{title:t[0]}}),a=new Be({props:{standfirst:t[1]}}),l=new en({props:{authors:t[2]}});let rt={id:"medium",title:De.controls.medium.title,labels:["TV","Web"],info:De.controls.medium.description};void 0!==t[4]&&(rt.checked=t[4]),h=new ln({props:rt}),at.push((()=>Tt(h,"checked",nt)));let it=Te.sort(cl),ot=[];for(let e=0;e<it.length;e+=1)ot[e]=rl(nl(t,it,e));let st=Se(t[12].colors,t[12].order),lt=[];for(let e=0;e<st.length;e+=1)lt[e]=il(el(t,st,e));const ct=[al,ol],ut=[];function pt(t,e){return t[9]?0:1}return K=pt(t),Q=ut[K]=ct[K](t),{c(){e=T("main"),n=T("div"),Dt(r.$$.fragment),i=z(),Dt(a.$$.fragment),s=z(),Dt(l.$$.fragment),c=z(),u=T("div"),f=T("div"),Dt(h.$$.fragment),d=z(),m=T("div"),g=T("div"),g.textContent="Location",v=z(),y=T("select"),b=T("option"),b.textContent="US";for(let t=0;t<ot.length;t+=1)ot[t].c();w=z(),x=T("div"),$=T("div"),$.textContent="Age group",_=z(),k=T("select"),C=T("option"),C.textContent="All",D=T("option"),D.textContent="18-24",j=T("option"),j.textContent="25-34",E=T("option"),E.textContent="35-44",P=T("option"),P.textContent="45-54",R=T("option"),R.textContent="55+",O=z(),F=T("div"),U=T("div"),U.textContent="Gender",H=z(),Y=T("select"),V=T("option"),V.textContent="All",B=T("option"),B.textContent="Male",W=T("option"),W.textContent="Female",Z=z(),X=T("div");for(let t=0;t<lt.length;t+=1)lt[t].c();G=z(),Q.c(),I(n,"class","header-wrapper main-column svelte-11evggu"),I(g,"class","control-title svelte-11evggu"),b.__value="US",b.value=b.__value,I(y,"id","age-group-menu"),I(y,"name","location"),I(y,"class","svelte-11evggu"),void 0===t[7]&&ft((()=>t[14].call(y))),I(m,"id","location"),I(m,"class","control control-menu svelte-11evggu"),I($,"class","control-title svelte-11evggu"),C.__value="All",C.value=C.__value,D.__value="18-24",D.value=D.__value,j.__value="25-34",j.value=j.__value,E.__value="35-44",E.value=E.__value,P.__value="45-54",P.value=P.__value,R.__value="55+",R.value=R.__value,I(k,"id","age-group-menu"),I(k,"name","age-group"),I(k,"class","svelte-11evggu"),void 0===t[6]&&ft((()=>t[15].call(k))),I(x,"id","age-group"),I(x,"class","control control-menu svelte-11evggu"),I(U,"class","control-title svelte-11evggu"),V.__value="All",V.value=V.__value,V.selected=!0,B.__value="Male",B.value=B.__value,W.__value="Female",W.value=W.__value,I(Y,"id","gender-menu"),I(Y,"name","location"),I(Y,"class","svelte-11evggu"),void 0===t[5]&&ft((()=>t[16].call(Y))),I(F,"id","gender"),I(F,"class","control control-menu svelte-11evggu"),I(f,"class","controls svelte-11evggu"),I(X,"class","legend svelte-11evggu"),I(u,"class","chart-wrapper"),I(e,"class","svelte-11evggu")},m(o,p){N(o,e,p),M(e,n),jt(r,n,null),M(n,i),jt(a,n,null),M(n,s),jt(l,n,null),M(e,c),M(e,u),M(u,f),jt(h,f,null),M(f,d),M(f,m),M(m,g),M(m,v),M(m,y),M(y,b);for(let t=0;t<ot.length;t+=1)ot[t].m(y,null);q(y,t[7]),M(f,w),M(f,x),M(x,$),M(x,_),M(x,k),M(k,C),M(k,D),M(k,j),M(k,E),M(k,P),M(k,R),q(k,t[6]),M(f,O),M(f,F),M(F,U),M(F,H),M(F,Y),M(Y,V),M(Y,B),M(Y,W),q(Y,t[5]),M(u,Z),M(u,X);for(let t=0;t<lt.length;t+=1)lt[t].m(X,null);M(u,G),ut[K].m(u,null),J=!0,tt||(et=[L(y,"change",t[14]),L(k,"change",t[15]),L(Y,"change",t[16])],tt=!0)},p(t,[e]){const n={};1&e&&(n.title=t[0]),r.$set(n);const i={};2&e&&(i.standfirst=t[1]),a.$set(i);const o={};4&e&&(o.authors=t[2]),l.$set(o);const s={};if(!p&&16&e&&(p=!0,s.checked=t[4],ht((()=>p=!1))),h.$set(s),0&e){let n;for(it=Te.sort(cl),n=0;n<it.length;n+=1){const r=nl(t,it,n);ot[n]?ot[n].p(r,e):(ot[n]=rl(r),ot[n].c(),ot[n].m(y,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=it.length}if(128&e&&q(y,t[7]),64&e&&q(k,t[6]),32&e&&q(Y,t[5]),4096&e){let n;for(st=Se(t[12].colors,t[12].order),n=0;n<st.length;n+=1){const r=el(t,st,n);lt[n]?lt[n].p(r,e):(lt[n]=il(r),lt[n].c(),lt[n].m(X,null))}for(;n<lt.length;n+=1)lt[n].d(1);lt.length=st.length}let c=K;K=pt(t),K===c?ut[K].p(t,e):($t(),kt(ut[c],1,1,(()=>{ut[c]=null})),_t(),Q=ut[K],Q?Q.p(t,e):(Q=ut[K]=ct[K](t),Q.c()),Mt(Q,1),Q.m(u,null))},i(t){J||(Mt(r.$$.fragment,t),Mt(a.$$.fragment,t),Mt(l.$$.fragment,t),Mt(h.$$.fragment,t),Mt(Q),J=!0)},o(t){kt(r.$$.fragment,t),kt(a.$$.fragment,t),kt(l.$$.fragment,t),kt(h.$$.fragment,t),kt(Q),J=!1},d(t){t&&A(e),zt(r),zt(a),zt(l),zt(h),S(ot,t),S(lt,t),ut[K].d(),tt=!1,o(et)}}}const ll="assets/data/EchoCh-national_consumption_tv_and_web.csv",cl=(t,e)=>t.state.localeCompare(e.state);function ul(t,e,n){let r,i,o,a,s,l,c,u,{title:f}=e,{standfirst:h=[{value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Commodi consequatur inventore exercitationem ex perferendis provident, earum cumque maiores quam quidem labore, mollitia odit eaque laborum?"}]}=e,{authors:p}=e,{captions:d}=e,m=!1;nt((async()=>{const t=await ee(ll,Gt);n(9,l=t.map((t=>Object.assign(Object.assign({},t),{date:new Date(t.year,t.month,1)}))).sort(((t,e)=>+t.date-+e.date))),n(10,c=de(l,(t=>t.medium),(t=>t.gender),(t=>t.age_group),(t=>t.state),(t=>+t.date),(t=>t.category))),n(11,u=Array.from(new Set(l.map((t=>+t.date)))))}));const g=new Map([["tv",{order:["non-news","news"],colors:["#a6cee3","#fb9a99"],yDomain:[0,350]}],["web",{order:["non_news","facebook","hard_news","youtube","twitter","reddit","fake_news"],colors:["#a6cee3","#e31a1c","#fb9a99","#cab2d6","#fdbf6f","#ff7f00","#6a3d9a"],yDomain:[0,80]}]]);return t.$$set=t=>{"title"in t&&n(0,f=t.title),"standfirst"in t&&n(1,h=t.standfirst),"authors"in t&&n(2,p=t.authors),"captions"in t&&n(3,d=t.captions)},t.$$.update=()=>{16&t.$$.dirty&&n(8,r=m?"web":"tv"),256&t.$$.dirty&&n(12,s=g.get(r)),128&t.$$.dirty&&"US"!==a&&(n(5,i="All"),n(6,o="All")),96&t.$$.dirty&&("All"===o&&"All"===i||n(7,a="US"))},n(5,i="All"),n(6,o="All"),n(7,a="US"),[f,h,p,d,m,i,o,a,r,l,c,u,s,function(t){m=t,n(4,m)},function(){a=U(this),n(7,a)},function(){o=U(this),n(6,o)},function(){i=U(this),n(5,i)}]}class fl extends Pt{constructor(t){super(),Lt(this,t,ul,sl,s,{title:0,standfirst:1,authors:2,captions:3})}}function hl(t,e={}){let n;const r=r=>{const i=r[0].isIntersecting?"enter":"exit";"enter"===i&&t.dispatchEvent(new CustomEvent(i)),"enter"===i&&e.once&&n.disconnect()},i=({root:e,top:i,bottom:o})=>{const a={root:e,rootMargin:`${i?-1*i:0}px 0px ${o?-1*o:0}px 0px`};n&&n.disconnect(),n=new IntersectionObserver(r,a),n.observe(t)};return i(e),{update(t){i(t)},destroy(){n&&n.disconnect()}}}var pl=1e-6,dl=Math.PI,ml=dl/2,gl=dl/4,vl=2*dl,yl=180/dl,bl=dl/180,wl=Math.abs,xl=Math.atan,$l=Math.atan2,_l=Math.cos,Ml=Math.sin,kl=Math.sign||function(t){return t>0?1:t<0?-1:0},Cl=Math.sqrt;function Nl(t){return t>1?ml:t<-1?-ml:Math.asin(t)}function Al(){}function Sl(t,e){t&&Dl.hasOwnProperty(t.type)&&Dl[t.type](t,e)}var Tl={Feature:function(t,e){Sl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Sl(n[r].geometry,e)}},Dl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){jl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)jl(n[r],e,0)},Polygon:function(t,e){zl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zl(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Sl(n[r],e)}};function jl(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function zl(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)jl(t[n],e,1);e.polygonEnd()}function El(t){return[$l(t[1],t[0]),Nl(t[2])]}function Ll(t){var e=t[0],n=t[1],r=_l(n);return[r*_l(e),r*Ml(e),Ml(n)]}function Pl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Rl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Il(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ol(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fl(t){var e=Cl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ql(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Ul(t,e){return[wl(t)>dl?t+Math.round(-t/vl)*vl:t,e]}function Hl(t){return function(e,n){return[(e+=t)>dl?e-vl:e<-dl?e+vl:e,n]}}function Yl(t){var e=Hl(t);return e.invert=Hl(-t),e}function Vl(t,e){var n=_l(t),r=Ml(t),i=_l(e),o=Ml(e);function a(t,e){var a=_l(e),s=_l(t)*a,l=Ml(t)*a,c=Ml(e),u=c*n+s*r;return[$l(l*i-u*o,s*n-c*r),Nl(u*i+l*o)]}return a.invert=function(t,e){var a=_l(e),s=_l(t)*a,l=Ml(t)*a,c=Ml(e),u=c*i-l*o;return[$l(l*i+c*o,s*n+u*r),Nl(u*n-s*r)]},a}function Bl(t,e){(e=Ll(e))[0]-=t,Fl(e);var n=function(t){return t>1?0:t<-1?dl:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+vl-pl)%vl}function Wl(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Al,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Zl(t,e){return wl(t[0]-e[0])<pl&&wl(t[1]-e[1])<pl}function Xl(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Gl(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Zl(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new Xl(r,t,null,!0)),l.push(n.o=new Xl(r,null,n,!1)),s.push(n=new Xl(a,t,null,!1)),l.push(n.o=new Xl(a,null,n,!0))}})),s.length){for(l.sort(e),Kl(s),Kl(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Kl(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ql(t){return wl(t[0])<=dl?t[0]:kl(t[0])*((wl(t[0])+dl)%vl-dl)}function Jl(t,e,n,r){return function(i){var o,a,s,l=e(i),c=Wl(),u=e(c),f=!1,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=g,a=Me(a);var t=function(t,e){var n=Ql(e),r=e[1],i=Ml(r),o=[Ml(n),-_l(n),0],a=0,s=0,l=new ce;1===i?r=ml+pl:-1===i&&(r=-ml-pl);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,p=f[h-1],d=Ql(p),m=p[1]/2+gl,g=Ml(m),v=_l(m),y=0;y<h;++y,d=w,g=$,v=_,p=b){var b=f[y],w=Ql(b),x=b[1]/2+gl,$=Ml(x),_=_l(x),M=w-d,k=M>=0?1:-1,C=k*M,N=C>dl,A=g*$;if(l.add($l(A*k*Ml(C),v*_+A*_l(C))),a+=N?M+k*vl:M,N^d>=n^w>=n){var S=Rl(Ll(p),Ll(b));Fl(S);var T=Rl(o,S);Fl(T);var D=(N^M>=0?-1:1)*Nl(T[2]);(r>D||r===D&&(S[0]||S[1]))&&(s+=N^M>=0?1:-1)}}return(a<-pl||a<pl&&l<-1e-12)^1&s}(o,r);a.length?(f||(i.polygonStart(),f=!0),Gl(a,ec,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){l.point(t,e)}function m(){h.point=d,l.lineStart()}function g(){h.point=p,l.lineEnd()}function v(t,e){s.push([t,e]),u.point(t,e)}function y(){u.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),h=c.result(),p=h.length;if(s.pop(),o.push(s),s=null,p)if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(tc))}return h}}function tc(t){return t.length>1}function ec(t,e){return((t=t.x)[0]<0?t[1]-ml-pl:ml-t[1])-((e=e.x)[0]<0?e[1]-ml-pl:ml-e[1])}Ul.invert=Ul;var nc=Jl((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?dl:-dl,l=wl(o-n);wl(l-dl)<pl?(t.point(n,r=(r+a)/2>0?ml:-ml),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=dl&&(wl(n-i)<pl&&(n-=i*pl),wl(o-s)<pl&&(o-=s*pl),r=function(t,e,n,r){var i,o,a=Ml(t-n);return wl(a)>pl?xl((Ml(e)*(o=_l(r))*Ml(n)-Ml(r)*(i=_l(e))*Ml(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*ml,r.point(-dl,i),r.point(0,i),r.point(dl,i),r.point(dl,0),r.point(dl,-i),r.point(0,-i),r.point(-dl,-i),r.point(-dl,0),r.point(-dl,i);else if(wl(t[0]-e[0])>pl){var o=t[0]<e[0]?dl:-dl;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-dl,-ml]);function rc(t){var e=_l(t),n=6*bl,r=e>0,i=wl(e)>pl;function o(t,n){return _l(t)*_l(n)>e}function a(t,n,r){var i=[1,0,0],o=Rl(Ll(t),Ll(n)),a=Pl(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var c=e*a/l,u=-e*s/l,f=Rl(i,o),h=Ol(i,c);Il(h,Ol(o,u));var p=f,d=Pl(h,p),m=Pl(p,p),g=d*d-m*(Pl(h,h)-1);if(!(g<0)){var v=Cl(g),y=Ol(p,(-d-v)/m);if(Il(y,h),y=El(y),!r)return y;var b,w=t[0],x=n[0],$=t[1],_=n[1];x<w&&(b=w,w=x,x=b);var M=x-w,k=wl(M-dl)<pl;if(!k&&_<$&&(b=$,$=_,_=b),k||M<pl?k?$+_>0^y[1]<(wl(y[0]-w)<pl?$:_):$<=y[1]&&y[1]<=_:M>dl^(w<=y[0]&&y[0]<=x)){var C=Ol(p,(-d+v)/m);return Il(C,h),[y,El(C)]}}}function s(e,n){var i=r?t:dl-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Jl(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var p,d=[f,h],m=o(f,h),g=r?m?0:s(f,h):m?s(f+(f<0?dl:-dl),h):0;if(!e&&(c=l=m)&&t.lineStart(),m!==l&&(!(p=a(e,d))||Zl(e,p)||Zl(d,p))&&(d[2]=1),m!==l)u=0,m?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1],2),t.lineEnd()),e=p;else if(i&&e&&r^m){var v;g&n||!(v=a(d,e,!0))||(u=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!m||e&&Zl(e,d)||t.point(d[0],d[1]),e=d,l=m,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=_l(e),s=Ml(e),l=r*n;null==i?(i=e+r*vl,o=e-l/2):(i=Bl(a,i),o=Bl(a,o),(r>0?i<o:i>o)&&(i+=r*vl));for(var c,u=i;r>0?u>o:u<o;u-=l)c=El([a,-s*_l(u),-s*Ml(u)]),t.point(c[0],c[1])}}(o,t,n,i,e,r)}),r?[0,-t]:[-dl,t-dl])}var ic=1e9,oc=-ic;function ac(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,f=0;if(null==i||(u=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return wl(r[0]-t)<pl?i>0?0:3:wl(r[0]-n)<pl?i>0?2:1:wl(r[1]-e)<pl?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,f,h,p,d,m,g,v,y,b=a,w=Wl(),x={point:$,lineStart:function(){x.point=_,c&&c.push(u=[]);v=!0,g=!1,d=m=NaN},lineEnd:function(){l&&(_(f,h),p&&g&&w.rejoin(),l.push(w.result()));x.point=$,g&&b.lineEnd()},polygonStart:function(){b=w,l=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,f=s[0],h=f[0],p=f[1];l<u;++l)o=h,a=p,h=(f=s[l])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=y&&e,i=(l=Me(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Gl(l,s,e,o,a),a.polygonEnd());b=a,l=c=u=null}};function $(t,e){i(t,e)&&b.point(t,e)}function _(o,a){var s=i(o,a);if(c&&u.push([o,a]),v)f=o,h=a,p=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var l=[d=Math.max(oc,Math.min(ic,d)),m=Math.max(oc,Math.min(ic,m))],w=[o=Math.max(oc,Math.min(ic,o)),a=Math.max(oc,Math.min(ic,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=0,u=1,f=e[0]-s,h=e[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*f,t[1]=l+c*h),u<1&&(e[0]=s+u*f,e[1]=l+u*h),!0}}}}}(l,w,t,e,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(w[0],w[1]),s||b.lineEnd(),y=!1)}d=o,m=a,g=s}return x}}var sc=t=>t,lc=1/0,cc=lc,uc=-lc,fc=uc,hc={point:function(t,e){t<lc&&(lc=t);t>uc&&(uc=t);e<cc&&(cc=e);e>fc&&(fc=e)},lineStart:Al,lineEnd:Al,polygonStart:Al,polygonEnd:Al,result:function(){var t=[[lc,cc],[uc,fc]];return uc=fc=-(cc=lc=1/0),t}};var pc=hc;function dc(t){return function(e){var n=new mc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mc(){}function gc(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),function(t,e){t&&Tl.hasOwnProperty(t.type)?Tl[t.type](t,e):Sl(t,e)}(n,t.stream(pc)),e(pc.result()),null!=r&&t.clipExtent(r),t}function vc(t,e,n){return gc(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function yc(t,e,n){return vc(t,[[0,0],e],n)}function bc(t,e,n){return gc(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function wc(t,e,n){return gc(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}mc.prototype={constructor:mc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var xc=_l(30*bl);function $c(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,c,u,f,h,p,d,m,g){var v=c-r,y=u-i,b=v*v+y*y;if(b>4*e&&m--){var w=a+h,x=s+p,$=l+d,_=Cl(w*w+x*x+$*$),M=Nl($/=_),k=wl(wl($)-1)<pl||wl(o-f)<pl?(o+f)/2:$l(x,w),C=t(k,M),N=C[0],A=C[1],S=N-r,T=A-i,D=y*S-v*T;(D*D/b>e||wl((v*S+y*T)/b-.5)>.3||a*h+s*p+l*d<xc)&&(n(r,i,o,a,s,l,N,A,k,w/=_,x/=_,$,m,g),g.point(N,A),n(N,A,k,w,x,$,c,u,f,h,p,d,m,g))}}return function(e){var r,i,o,a,s,l,c,u,f,h,p,d,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){u=NaN,m.point=y,e.lineStart()}function y(r,i){var o=Ll([r,i]),a=t(r,i);n(u,f,c,h,p,d,u=a[0],f=a[1],c=r,h=o[0],p=o[1],d=o[2],16,e),e.point(u,f)}function b(){m.point=g,e.lineEnd()}function w(){v(),m.point=x,m.lineEnd=$}function x(t,e){y(r=t,e),i=u,o=f,a=h,s=p,l=d,m.point=y}function $(){n(u,f,c,h,p,d,i,o,r,a,s,l,16,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return dc({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var _c=dc({point:function(t,e){this.stream.point(t*bl,e*bl)}});function Mc(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=_l(o),s=Ml(o),l=a*t,c=s*t,u=a/t,f=s/t,h=(s*n-a*e)/t,p=(s*e+a*n)/t;function d(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return d.invert=function(t,e){return[r*(u*t-f*e+h),i*(p-f*t-u*e)]},d}function kc(t){var e,n,r,i,o,a,s,l,c,u,f=150,h=480,p=250,d=0,m=0,g=0,v=0,y=0,b=0,w=1,x=1,$=null,_=nc,M=null,k=sc,C=.5;function N(t){return l(t[0]*bl,t[1]*bl)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*yl,t[1]*yl]}function S(){var t=Mc(f,0,0,w,x,b).apply(null,e(d,m)),r=Mc(f,h-t[0],p-t[1],w,x,b);return n=function(t,e,n){return(t%=vl)?e||n?ql(Yl(t),Vl(e,n)):Yl(t):e||n?Vl(e,n):Ul}(g,v,y),s=ql(e,r),l=ql(n,s),a=$c(s,C),T()}function T(){return c=u=null,N}return N.stream=function(t){return c&&u===t?c:c=_c(function(t){return dc({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(_(a(k(u=t)))))},N.preclip=function(t){return arguments.length?(_=t,$=void 0,T()):_},N.postclip=function(t){return arguments.length?(k=t,M=r=i=o=null,T()):k},N.clipAngle=function(t){return arguments.length?(_=+t?rc($=t*bl):($=null,nc),T()):$*yl},N.clipExtent=function(t){return arguments.length?(k=null==t?(M=r=i=o=null,sc):ac(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==M?null:[[M,r],[i,o]]},N.scale=function(t){return arguments.length?(f=+t,S()):f},N.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],S()):[h,p]},N.center=function(t){return arguments.length?(d=t[0]%360*bl,m=t[1]%360*bl,S()):[d*yl,m*yl]},N.rotate=function(t){return arguments.length?(g=t[0]%360*bl,v=t[1]%360*bl,y=t.length>2?t[2]%360*bl:0,S()):[g*yl,v*yl,y*yl]},N.angle=function(t){return arguments.length?(b=t%360*bl,S()):b*yl},N.reflectX=function(t){return arguments.length?(w=t?-1:1,S()):w<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,S()):x<0},N.precision=function(t){return arguments.length?(a=$c(s,C=t*t),T()):Cl(C)},N.fitExtent=function(t,e){return vc(N,t,e)},N.fitSize=function(t,e){return yc(N,t,e)},N.fitWidth=function(t,e){return bc(N,t,e)},N.fitHeight=function(t,e){return wc(N,t,e)},function(){return e=t.apply(this,arguments),N.invert=e.invert&&A,S()}}function Cc(t,e){var n=Ml(t),r=(n+Ml(e))/2;if(wl(r)<pl)return function(t){var e=_l(t);function n(t,n){return[t*e,Ml(n)/e]}return n.invert=function(t,n){return[t/e,Nl(n*e)]},n}(t);var i=1+n*(2*r-n),o=Cl(i)/r;function a(t,e){var n=Cl(i-2*r*Ml(e))/r;return[n*Ml(t*=r),o-n*_l(t)]}return a.invert=function(t,e){var n=o-e,a=$l(t,wl(n))*kl(n);return n*r<0&&(a-=dl*kl(t)*kl(n)),[a/r,Nl((i-(t*t+n*n)*r*r)/(2*r))]},a}function Nc(){return function(t){var e=0,n=dl/3,r=kc(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*bl,n=t[1]*bl):[e*yl,n*yl]},i}(Cc).scale(155.424).center([0,33.6442])}function Ac(){var t,e,n,r,i,o,a=Nc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),s=Nc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Nc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),f()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+pl,u+.12*e+pl],[o-.214*e-pl,u+.234*e-pl]]).stream(c),i=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+pl,u+.166*e+pl],[o-.115*e-pl,u+.234*e-pl]]).stream(c),f()},u.fitExtent=function(t,e){return vc(u,t,e)},u.fitSize=function(t,e){return yc(u,t,e)},u.fitWidth=function(t,e){return bc(u,t,e)},u.fitHeight=function(t,e){return wc(u,t,e)},u.scale(1070)}function Sc(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,f,h,p=t._root,d={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=p,!(p=p[f=u<<1|c]))return i[f]=d,t;if(s=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===s&&n===l)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((f=u<<1|c)==(h=(l>=a)<<1|s>=o));return i[h]=p,i[f]=d,t}function Tc(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Dc(t){return t[0]}function jc(t){return t[1]}function zc(t,e,n){var r=new Ec(null==e?Dc:e,null==n?jc:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ec(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Lc(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Pc=zc.prototype=Ec.prototype;function Rc(t){return function(){return t}}function Ic(t){return 1e-6*(t()-.5)}function Oc(t){return t.x+t.vx}function Fc(t){return t.y+t.vy}function qc(t){var e,n,r,i=1,o=1;function a(){for(var t,a,l,c,u,f,h,p=e.length,d=0;d<o;++d)for(a=zc(e,Oc,Fc).visitAfter(s),t=0;t<p;++t)l=e[t],f=n[l.index],h=f*f,c=l.x+l.vx,u=l.y+l.vy,a.visit(m);function m(t,e,n,o,a){var s=t.data,p=t.r,d=f+p;if(!s)return e>c+d||o<c-d||n>u+d||a<u-d;if(s.index>l.index){var m=c-s.x-s.vx,g=u-s.y-s.vy,v=m*m+g*g;v<d*d&&(0===m&&(v+=(m=Ic(r))*m),0===g&&(v+=(g=Ic(r))*g),v=(d-(v=Math.sqrt(v)))/v*i,l.vx+=(m*=v)*(d=(p*=p)/(h+p)),l.vy+=(g*=v)*d,s.vx-=m*(d=1-d),s.vy-=g*d)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Rc(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Rc(+e),l(),a):t},a}Pc.copy=function(){var t,e,n=new Ec(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Lc(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Lc(e));return n},Pc.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Sc(this.cover(e,n),e,n,t)},Pc.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>f&&(f=i));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<o;++n)Sc(this,a[n],s[n],t[n]);return this},Pc.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Pc.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Pc.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Pc.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new Tc(m,u,f,h,p)),null==n?n=1/0:(u=t-n,f=e-n,h=t+n,p=e+n,n*=n);l=d.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>p||(a=l.x1)<u||(s=l.y1)<f))if(m.length){var g=(i+a)/2,v=(o+s)/2;d.push(new Tc(m[3],g,v,a,s),new Tc(m[2],i,v,g,s),new Tc(m[1],g,o,a,v),new Tc(m[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=l)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=t-x,f=e-x,h=t+x,p=e+x,r=m.data}}return r},Pc.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,f,h,p=this._root,d=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(s=(d+g)/2))?d=s:g=s,(u=a>=(l=(m+v)/2))?m=l:v=l,e=p,!(p=p[f=u<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},Pc.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Pc.root=function(){return this._root},Pc.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Pc.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Tc(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Tc(n,c,u,o,a)),(n=l[2])&&s.push(new Tc(n,r,u,c,a)),(n=l[1])&&s.push(new Tc(n,c,i,o,u)),(n=l[0])&&s.push(new Tc(n,r,i,c,u))}return this},Pc.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Tc(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,f=(s+c)/2;(o=i[0])&&n.push(new Tc(o,a,s,u,f)),(o=i[1])&&n.push(new Tc(o,u,s,l,f)),(o=i[2])&&n.push(new Tc(o,a,f,u,c)),(o=i[3])&&n.push(new Tc(o,u,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Pc.x=function(t){return arguments.length?(this._x=t,this):this._x},Pc.y=function(t){return arguments.length?(this._y=t,this):this._y};var Uc={value:()=>{}};function Hc(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Yc(r)}function Yc(t){this._=t}function Vc(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Bc(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Wc(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Uc,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Yc.prototype=Hc.prototype={constructor:Yc,on:function(t,e){var n,r=this._,i=Vc(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Wc(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Wc(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Bc(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Yc(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Zc,Xc,Gc=0,Kc=0,Qc=0,Jc=0,tu=0,eu=0,nu="object"==typeof performance&&performance.now?performance:Date,ru="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function iu(){return tu||(ru(ou),tu=nu.now()+eu)}function ou(){tu=0}function au(){this._call=this._time=this._next=null}function su(t,e,n){var r=new au;return r.restart(t,e,n),r}function lu(){tu=(Jc=nu.now())+eu,Gc=Kc=0;try{!function(){iu(),++Gc;for(var t,e=Zc;e;)(t=tu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gc}()}finally{Gc=0,function(){var t,e,n=Zc,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Zc=e);Xc=t,uu(r)}(),tu=0}}function cu(){var t=nu.now(),e=t-Jc;e>1e3&&(eu-=e,Jc=t)}function uu(t){Gc||(Kc&&(Kc=clearTimeout(Kc)),t-tu>24?(t<1/0&&(Kc=setTimeout(lu,t-nu.now()-eu)),Qc&&(Qc=clearInterval(Qc))):(Qc||(Jc=nu.now(),Qc=setInterval(cu,1e3)),Gc=1,ru(lu)))}au.prototype=su.prototype={constructor:au,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?iu():+n)+(null==e?0:+e),this._next||Xc===this||(Xc?Xc._next=this:Zc=this,Xc=this),this._call=t,this._time=n,uu()},stop:function(){this._call&&(this._call=null,this._time=1/0,uu())}};const fu=4294967296;function hu(t){return t.x}function pu(t){return t.y}var du=Math.PI*(3-Math.sqrt(5));function mu(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=su(f),c=Hc("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%fu)/fu}();function f(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(r){var l,c,u=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*du;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),p(),e={tick:h,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),s.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(d),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function gu(){var t,e,n,r,i,o=Rc(-30),a=1,s=1/0,l=.81;function c(n){var i,o=t.length,a=zc(t,hu,pu).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,o,c,u){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,p=u-o,d=f*f+h*h;if(p*p/l<d)return d<s&&(0===f&&(d+=(f=Ic(n))*f),0===h&&(d+=(h=Ic(n))*h),d<a&&(d=Math.sqrt(a*d)),e.vx+=f*t.value*r/d,e.vy+=h*t.value*r/d),!0;if(!(t.length||d>=s)){(t.data!==e||t.next)&&(0===f&&(d+=(f=Ic(n))*f),0===h&&(d+=(h=Ic(n))*h),d<a&&(d=Math.sqrt(a*d)));do{t.data!==e&&(p=i[t.data.index]*r/d,e.vx+=f*p,e.vy+=h*p)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:Rc(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}function vu(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function yu(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function bu(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function wu(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function xu(t){let e,n,r,i,o,a,s,l=t[6],c=[];for(let e=0;e<l.length;e+=1)c[e]=$u(wu(t,l,e));let u=t[7],f=[];for(let e=0;e<u.length;e+=1)f[e]=_u(bu(t,u,e));let h=t[6],p=[];for(let e=0;e<h.length;e+=1)p[e]=Mu(yu(t,h,e));let d=t[7],m=[];for(let e=0;e<d.length;e+=1)m[e]=ku(vu(t,d,e));return{c(){e=D("g"),n=D("foreignObject"),r=T("div");for(let t=0;t<c.length;t+=1)c[t].c();i=z();for(let t=0;t<f.length;t+=1)f[t].c();o=z();for(let t=0;t<p.length;t+=1)p[t].c();a=E();for(let t=0;t<m.length;t+=1)m[t].c();I(r,"class","annotation-wrapper svelte-ryoqn6"),I(n,"width",t[1]),I(n,"height",t[2]),I(e,"class","intro-annotation"),I(e,"transform",s="translate(-35, 0)")},m(t,s){N(t,e,s),M(e,n),M(n,r);for(let t=0;t<c.length;t+=1)c[t].m(r,null);M(r,i);for(let t=0;t<f.length;t+=1)f[t].m(r,null);M(r,o);for(let t=0;t<p.length;t+=1)p[t].m(e,null);M(e,a);for(let t=0;t<m.length;t+=1)m[t].m(e,null)},p(t,s){if(64&s){let e;for(l=t[6],e=0;e<l.length;e+=1){const n=wu(t,l,e);c[e]?c[e].p(n,s):(c[e]=$u(n),c[e].c(),c[e].m(r,i))}for(;e<c.length;e+=1)c[e].d(1);c.length=l.length}if(160&s){let e;for(u=t[7],e=0;e<u.length;e+=1){const n=bu(t,u,e);f[e]?f[e].p(n,s):(f[e]=_u(n),f[e].c(),f[e].m(r,o))}for(;e<f.length;e+=1)f[e].d(1);f.length=u.length}if(2&s&&I(n,"width",t[1]),4&s&&I(n,"height",t[2]),64&s){let n;for(h=t[6],n=0;n<h.length;n+=1){const r=yu(t,h,n);p[n]?p[n].p(r,s):(p[n]=Mu(r),p[n].c(),p[n].m(e,a))}for(;n<p.length;n+=1)p[n].d(1);p.length=h.length}if(128&s){let n;for(d=t[7],n=0;n<d.length;n+=1){const r=vu(t,d,n);m[n]?m[n].p(r,s):(m[n]=ku(r),m[n].c(),m[n].m(e,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}},d(t){t&&A(e),S(c,t),S(f,t),S(p,t),S(m,t)}}}function $u(e){let n,r,i,o;return{c(){n=T("div"),r=j("In "),i=T("b"),i.textContent="NY",o=j(", 5 to 10% of the population\n            experience partisanship in their news\n            diets."),I(n,"class","annotation svelte-ryoqn6"),F(n,"top",e[9].y-(e[9].r_L+80)+"px"),F(n,"left",e[9].x-(e[9].r_L+80)+"px")},m(t,e){N(t,n,e),M(n,r),M(n,i),M(n,o)},p:t,d(t){t&&A(n)}}}function _u(e){let n,r,i,o,a,s;return{c(){n=T("div"),r=T("b"),r.textContent="ND",i=j("'s right-leaning echo chamber is\n            much more sizeable and intense: over \n            10% of the population.\n            "),o=T("div"),I(o,"class","close-button svelte-ryoqn6"),I(n,"class","annotation svelte-ryoqn6"),F(n,"top",e[9].y-(e[9].r_L+140)+"px"),F(n,"left",e[9].x+(e[9].r_R+20)+"px")},m(t,l){N(t,n,l),M(n,r),M(n,i),M(n,o),a||(s=L(o,"click",e[5]),a=!0)},p:t,d(t){t&&A(n),a=!1,s()}}}function Mu(e){let n;return{c(){n=D("line"),I(n,"class","annotation-line svelte-ryoqn6"),I(n,"x1",e[9].x-(e[9].r_L+5)),I(n,"x2",e[9].x-(e[9].r_L-10)),I(n,"y1",e[9].y-(e[9].r_L+16)),I(n,"y2",e[9].y-(e[9].r_L-16))},m(t,e){N(t,n,e)},p:t,d(t){t&&A(n)}}}function ku(e){let n;return{c(){n=D("line"),I(n,"class","annotation-line svelte-ryoqn6"),I(n,"x1",e[9].x+(e[9].r_R+45)),I(n,"x2",e[9].x-(e[9].r_L-35)),I(n,"y1",e[9].y-(e[9].r_L+45)),I(n,"y2",e[9].y-e[9].r_L)},m(t,e){N(t,n,e)},p:t,d(t){t&&A(n)}}}function Cu(e){let n,r=e[0]&&xu(e);return{c(){r&&r.c(),n=E()},m(t,e){r&&r.m(t,e),N(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=xu(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&A(n)}}}function Nu(t,e,n){let r,i,o;const{width:a,height:s}=it("LayerCake");c(t,a,(t=>n(1,i=t))),c(t,s,(t=>n(2,o=t)));let{data:l}=e;const u=l.filter((t=>"NY"===t.abbr)),f=l.filter((t=>"ND"===t.abbr));return t.$$set=t=>{"data"in t&&n(8,l=t.data)},n(0,r=!0),[r,i,o,a,s,function(){n(0,r=!1)},u,f,l]}class Au extends Pt{constructor(t){super(),Lt(this,t,Nu,Cu,s,{data:8})}}function Su(t,e,n){const r=t.slice();return r[26]=e[n],r}function Tu(t){let e,n;return e=new Au({props:{data:t[1]}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.data=t[1]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Du(t){let e,n,r,i,o,a,s,l,c,u,f,h,p,d,g,v,y,b,w,x,$=t[26].abbr+"";function _(...e){return t[18](t[26],...e)}return{c(){e=D("g"),n=D("path"),o=D("path"),l=D("path"),h=D("text"),p=j($),I(n,"class","node svelte-bbhs7x"),I(n,"fill",r=t[26].fillR),I(n,"d",i=t[26].rightPathString),I(o,"class","node svelte-bbhs7x"),I(o,"fill",a=t[26].fillL),I(o,"d",s=t[26].leftPathString),I(l,"class","node node-stroke svelte-bbhs7x"),I(l,"fill",c="none"),I(l,"stroke",u="black"),I(l,"d",f=t[26].fullPath),I(h,"class",d=m("state-label "+(t[2]?"active":""))+" svelte-bbhs7x"),I(h,"fill","black"),I(h,"dx",g=(t[26].r_L+3)*Math.cos(3*Math.PI/4)),I(h,"dy",v=-(t[26].r_L+3)*Math.cos(3*Math.PI/4)),I(e,"class",y=m(`node-group node-group-${t[26].abbr}`)+" svelte-bbhs7x"),I(e,"transform",b=`translate(${t[26].x}, ${t[26].y})`)},m(t,r){N(t,e,r),M(e,n),M(e,o),M(e,l),M(e,h),M(h,p),w||(x=L(e,"click",_),w=!0)},p(c,u){t=c,2&u&&r!==(r=t[26].fillR)&&I(n,"fill",r),2&u&&i!==(i=t[26].rightPathString)&&I(n,"d",i),2&u&&a!==(a=t[26].fillL)&&I(o,"fill",a),2&u&&s!==(s=t[26].leftPathString)&&I(o,"d",s),2&u&&f!==(f=t[26].fullPath)&&I(l,"d",f),2&u&&$!==($=t[26].abbr+"")&&O(p,$),4&u&&d!==(d=m("state-label "+(t[2]?"active":""))+" svelte-bbhs7x")&&I(h,"class",d),2&u&&g!==(g=(t[26].r_L+3)*Math.cos(3*Math.PI/4))&&I(h,"dx",g),2&u&&v!==(v=-(t[26].r_L+3)*Math.cos(3*Math.PI/4))&&I(h,"dy",v),2&u&&y!==(y=m(`node-group node-group-${t[26].abbr}`)+" svelte-bbhs7x")&&I(e,"class",y),2&u&&b!==(b=`translate(${t[26].x}, ${t[26].y})`)&&I(e,"transform",b)},d(t){t&&A(e),w=!1,x()}}}function ju(t){let e,n,r,i=t[0]&&Tu(t),o=t[1],a=[];for(let e=0;e<o.length;e+=1)a[e]=Du(Su(t,o,e));return{c(){i&&i.c(),e=z(),n=D("g");for(let t=0;t<a.length;t+=1)a[t].c();I(n,"class","bee-group"),I(n,"transform","translate(-35, 0)")},m(t,o){i&&i.m(t,o),N(t,e,o),N(t,n,o);for(let t=0;t<a.length;t+=1)a[t].m(n,null);r=!0},p(t,[r]){if(t[0]?i?(i.p(t,r),1&r&&Mt(i,1)):(i=Tu(t),i.c(),Mt(i,1),i.m(e.parentNode,e)):i&&($t(),kt(i,1,1,(()=>{i=null})),_t()),262&r){let e;for(o=t[1],e=0;e<o.length;e+=1){const i=Su(t,o,e);a[e]?a[e].p(i,r):(a[e]=Du(i),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},i(t){r||(Mt(i),r=!0)},o(t){kt(i),r=!1},d(t){i&&i.d(t),t&&A(e),t&&A(n),S(a,t)}}}function zu(t,e){return t.arc(0,0,e.r,e.start,e.end),t.closePath(),t}function Eu(t,e,n){let r,i,o,a,s,l;const{height:u,width:f,rScale:h,zScale:p,data:d}=it("LayerCake");c(t,u,(t=>n(16,o=t))),c(t,f,(t=>n(17,a=t))),c(t,h,(t=>n(21,l=t))),c(t,p,(t=>n(20,s=t))),c(t,d,(t=>n(15,i=t)));let{collideStrength:m=1}=e,{manyBodyStrength:g=1}=e,{medium:v}=e,{diet_threshold:y}=e,{partisanship_scenario:b}=e,{renderAnnotation:w}=e;const x=rt(),$=Ac();function _(){k.alpha(1).restart()}$.translate([a/2,o/2]);let M=[],k=mu().alpha(0).alphaMin(.4).force("collide",qc((t=>t.r+9.5)).strength(m).iterations(5)).force("charge",gu().strength(g));function C(t){return t.map(((t,e)=>{const[n,r]=$(t.coordinates),i=l(Math.abs(t.data.left_size)),o=l(Math.abs(t.data.right_size)),a=zu(ts(),{r:o,start:-Math.PI/2,end:Math.PI/2}),c=s(1*t.data.right_pct),u=zu(ts(),{r:i,start:Math.PI/2,end:-Math.PI/2}),f=s(-1*t.data.left_pct),h=(p=ts(),d={r:o},m={r:i},p.arc(0,0,d.r,-Math.PI/2,Math.PI/2),p.arc(0,0,m.r,Math.PI/2,-Math.PI/2),p.closePath(),p);var p,d,m;return{...t,x:n,y:r,r:Math.max(i,o),r_L:i,r_R:o,rightPathString:a,fillR:c,leftPathString:u,fillL:f,fullPath:h}}))}function N(t,e){x("click",{target:t.target,node:e})}return t.$$set=t=>{"collideStrength"in t&&n(9,m=t.collideStrength),"manyBodyStrength"in t&&n(10,g=t.manyBodyStrength),"medium"in t&&n(11,v=t.medium),"diet_threshold"in t&&n(12,y=t.diet_threshold),"partisanship_scenario"in t&&n(13,b=t.partisanship_scenario),"renderAnnotation"in t&&n(0,w=t.renderAnnotation)},t.$$.update=()=>{32768&t.$$.dirty&&n(1,M=C(i)),16386&t.$$.dirty&&n(14,k=k.nodes(M).on("tick",(()=>{n(1,M=k.nodes())})).on("end",(()=>{n(2,r=!0)}))),14336&t.$$.dirty&&_(),229376&t.$$.dirty&&($.translate([a/2,o/2]),n(1,M=n(1,M=C(i))),_())},n(2,r=!1),[w,M,r,u,f,h,p,d,N,m,g,v,y,b,k,i,o,a,(t,e)=>N(e,t)]}class Lu extends Pt{constructor(t){super(),Lt(this,t,Eu,ju,s,{collideStrength:9,manyBodyStrength:10,medium:11,diet_threshold:12,partisanship_scenario:13,renderAnnotation:0})}}function Pu(t,e,n){const r=t.slice();r[28]=e[n];const i=r[2](r[28].data[`${r[1]}_pct`]);return r[29]=i,r}function Ru(t){let e,n,r,i,o,a,s,l,c,u,f,h,p,d=t[28].abbr+"";function g(...e){return t[23](t[28],...e)}return{c(){e=D("g"),n=D("circle"),s=D("text"),l=j(d),I(n,"class","node svelte-11jqfcd"),I(n,"fill",r=t[29]),I(n,"cx",i=0),I(n,"cy",o=0),I(n,"r",a=t[28].r),I(s,"class",c=m("state-label "+(t[4]?"active":""))+" svelte-11jqfcd"),I(s,"fill",u=t[3](t[29])),I(e,"class","node-group svelte-11jqfcd"),I(e,"transform",f=`translate(${t[28].x}, ${t[28].y})`)},m(t,r){N(t,e,r),M(e,n),M(e,s),M(s,l),h||(p=L(n,"click",g),h=!0)},p(i,o){t=i,7&o[0]&&r!==(r=t[29])&&I(n,"fill",r),1&o[0]&&a!==(a=t[28].r)&&I(n,"r",a),1&o[0]&&d!==(d=t[28].abbr+"")&&O(l,d),16&o[0]&&c!==(c=m("state-label "+(t[4]?"active":""))+" svelte-11jqfcd")&&I(s,"class",c),15&o[0]&&u!==(u=t[3](t[29]))&&I(s,"fill",u),1&o[0]&&f!==(f=`translate(${t[28].x}, ${t[28].y})`)&&I(e,"transform",f)},d(t){t&&A(e),h=!1,p()}}}function Iu(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ru(Pu(e,r,t));return{c(){n=D("g");for(let t=0;t<i.length;t+=1)i[t].c();I(n,"class","bee-group")},m(t,e){N(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,e){if(1055&e[0]){let o;for(r=t[0],o=0;o<r.length;o+=1){const a=Pu(t,r,o);i[o]?i[o].p(a,e):(i[o]=Ru(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&A(n),S(i,t)}}}function Ou(t,e,n){let r,i,o,a,s,l,u,f,h;const{height:p,width:d,rScale:m,zScale:g,data:v}=it("LayerCake");c(t,p,(t=>n(21,f=t))),c(t,d,(t=>n(22,h=t))),c(t,m,(t=>n(19,l=t))),c(t,g,(t=>n(2,s=t))),c(t,v,(t=>n(20,u=t)));let{collideStrength:y=1}=e,{manyBodyStrength:b=1}=e,{medium:w}=e,{diet_threshold:x}=e,{partisanship_scenario:$}=e,{political_lean:_}=e;const M=rt(),k=Ac();function C(){A.alpha(1).restart()}k.translate([h/2,f/2]);let N=[],A=mu().alpha(0).alphaMin(.4).force("collide",qc((t=>t.r+10)).strength(y).iterations(2)).force("charge",gu().strength(b));function S(t,e){M("click",{target:t.target,node:e})}return t.$$set=t=>{"collideStrength"in t&&n(11,y=t.collideStrength),"manyBodyStrength"in t&&n(12,b=t.manyBodyStrength),"medium"in t&&n(13,w=t.medium),"diet_threshold"in t&&n(14,x=t.diet_threshold),"partisanship_scenario"in t&&n(15,$=t.partisanship_scenario),"political_lean"in t&&n(16,_=t.political_lean)},t.$$.update=()=>{65536&t.$$.dirty[0]&&n(1,i="R"===_?"right":"left"),1572866&t.$$.dirty[0]&&n(0,N=u.map(((t,e)=>{const[n,r]=k(t.coordinates);return{...t,x:n,y:r,r:l(t.data[`${i}_size`])}}))),131073&t.$$.dirty[0]&&n(17,A=A.nodes(N).on("tick",(()=>{n(0,N=A.nodes())})).on("end",(()=>{n(4,r=!0)}))),57344&t.$$.dirty[0]&&C(),7864322&t.$$.dirty[0]&&(k.translate([h/2,f/2]),n(0,N=u.map(((t,e)=>{const[n,r]=k(t.coordinates);return{...t,x:n,y:r,r:l(t.data[`${i}_size`])}}))),C()),65536&t.$$.dirty[0]&&n(18,o=["black","black","black","gainsboro","gainsboro"]),262148&t.$$.dirty[0]&&n(3,a=wn().domain(s.range()).range(o))},n(4,r=!1),[N,i,s,a,r,p,d,m,g,v,S,y,b,w,x,$,_,A,o,l,u,f,h,(t,e)=>S(e,t)]}class Fu extends Pt{constructor(t){super(),Lt(this,t,Ou,Iu,s,{collideStrength:11,manyBodyStrength:12,medium:13,diet_threshold:14,partisanship_scenario:15,political_lean:16},null,[-1,-1])}}function qu(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Uu(t){const e=t-1;return e*e*e+1}function Hu(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Yu(t,{delay:e=0,duration:n=400,easing:r=Uu,start:i=0,opacity:o=0}={}){const a=getComputedStyle(t),s=+a.opacity,l="none"===a.transform?"":a.transform,c=1-i,u=s*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${l} scale(${1-c*e});\n\t\t\topacity: ${s-u*e}\n\t\t`}}function Vu(t,{delay:e=0,speed:n,duration:r,easing:i=qu}={}){let o=t.getTotalLength();const a=getComputedStyle(t);return"butt"!==a.strokeLinecap&&(o+=parseInt(a.strokeWidth)),void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}function Bu(t,e,n){const r=t.slice();r[13]=e[n],r[17]=n;const i=r[13][1][0][1].map(((t,e)=>({...t,value_2:r[13][1][1][1][e].value})));r[14]=i;const o=r[4](r[13][0]);return r[15]=o,r}function Wu(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Zu(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Xu(e,n){let r,i,o,a,s,l=t;return{key:e,first:null,c(){r=D("path"),I(r,"class",i=m(`path-line path-line-${n[18][0]}`)+" svelte-15ylodm"),I(r,"d",o=n[2](n[18][1])),I(r,"stroke",a=n[15]),this.first=r},m(t,e){N(t,r,e)},p(t,e){n=t,8&e&&i!==(i=m(`path-line path-line-${n[18][0]}`)+" svelte-15ylodm")&&I(r,"class",i),12&e&&o!==(o=n[2](n[18][1]))&&I(r,"d",o),24&e&&a!==(a=n[15])&&I(r,"stroke",a)},r(){s=r.getBoundingClientRect()},f(){J(r),l()},a(){l(),l=Q(r,s,Ju,{delay:0,duration:500})},d(t){t&&A(r)}}}function Gu(e,n){let r,i,o,a,s,l=t;return{key:e,first:null,c(){r=D("path"),I(r,"class",i=m(`path-polygon path-polygon-${n[18][0]}`)+" svelte-15ylodm"),I(r,"d",o=n[1](n[14])),I(r,"fill",a=n[15]),this.first=r},m(t,e){N(t,r,e)},p(t,e){n=t,8&e&&i!==(i=m(`path-polygon path-polygon-${n[18][0]}`)+" svelte-15ylodm")&&I(r,"class",i),10&e&&o!==(o=n[1](n[14]))&&I(r,"d",o),24&e&&a!==(a=n[15])&&I(r,"fill",a)},r(){s=r.getBoundingClientRect()},f(){J(r),l()},a(){l(),l=Q(r,s,tf,{delay:500,duration:500})},d(t){t&&A(r)}}}function Ku(t){let e,n,r,i=[],o=new Map,a=[],s=new Map,l=t[13][1].filter(ef);const c=t=>t[18];for(let e=0;e<l.length;e+=1){let n=Zu(t,l,e),r=c(n);o.set(r,i[e]=Xu(r,n))}let u=t[13][1].filter(nf);const f=t=>t[18];for(let e=0;e<u.length;e+=1){let n=Wu(t,u,e),r=f(n);s.set(r,a[e]=Gu(r,n))}return{c(){e=D("g");for(let t=0;t<i.length;t+=1)i[t].c();n=E();for(let t=0;t<a.length;t+=1)a[t].c();I(e,"class",r="threshold-group threshold-group-"+t[13][0]+" svelte-15ylodm")},m(t,r){N(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);M(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null)},p(t,h){if(28&h){l=t[13][1].filter(ef);for(let t=0;t<i.length;t+=1)i[t].r();i=St(i,h,c,1,t,l,o,e,At,Xu,n,Zu);for(let t=0;t<i.length;t+=1)i[t].a()}if(26&h){u=t[13][1].filter(nf);for(let t=0;t<a.length;t+=1)a[t].r();a=St(a,h,f,1,t,u,s,e,At,Gu,null,Wu);for(let t=0;t<a.length;t+=1)a[t].a()}8&h&&r!==(r="threshold-group threshold-group-"+t[13][0]+" svelte-15ylodm")&&I(e,"class",r)},d(t){t&&A(e);for(let t=0;t<i.length;t+=1)i[t].d();for(let t=0;t<a.length;t+=1)a[t].d()}}}function Qu(e){let n,r,i=e[3],o=[];for(let t=0;t<i.length;t+=1)o[t]=Ku(Bu(e,i,t));return{c(){n=D("g");for(let t=0;t<o.length;t+=1)o[t].c();I(n,"class",r=m(`line-group line-group-${e[0]}`)+" svelte-15ylodm")},m(t,e){N(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(30&e){let r;for(i=t[3],r=0;r<i.length;r+=1){const a=Bu(t,i,r);o[r]?o[r].p(a,e):(o[r]=Ku(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}1&e&&r!==(r=m(`line-group line-group-${t[0]}`)+" svelte-15ylodm")&&I(n,"class",r)},i:t,o:t,d(t){t&&A(n),S(o,t)}}}function Ju(t,{from:e,to:n},{delay:r,duration:i}){const o=t.getTotalLength();return{delay:r,duration:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}function tf(t,{from:e,to:n},{delay:r,duration:i}){return{delay:r,duration:i,css:(t,e)=>"opacity: "+1*t}}const ef=t=>50===t[0],nf=t=>50===t[0];function rf(t,e,n){let r,i,o,a,s,l,u;const{data:f,xGet:h,yGet:p,yScale:d,zScale:m}=it("LayerCake");c(t,f,(t=>n(3,l=t))),c(t,h,(t=>n(12,s=t))),c(t,p,(t=>n(11,a=t))),c(t,d,(t=>n(10,o=t))),c(t,m,(t=>n(4,u=t)));let{activeChart:g}=e;return t.$$set=t=>{"activeChart"in t&&n(0,g=t.activeChart)},t.$$.update=()=>{6144&t.$$.dirty&&n(2,r=ss().x((t=>s(t))).y((t=>a(t))).curve(fs)),7168&t.$$.dirty&&n(1,i=ls().x((t=>s(t))).y0((t=>a(t))).y1((t=>o(t.value_2))).curve(fs))},[g,i,r,l,u,f,h,p,d,m,o,a,s]}class of extends Pt{constructor(t){super(),Lt(this,t,rf,Qu,s,{activeChart:0})}}const af=new Map([["L","#011f5b"],["R","#990000"]]);function sf(t){let e,n;return e=new La({props:{padding:t[0],flatData:t[2].filter(t[23]),data:me(t[4].filter(t[24]),pf,df),x:t[5],xScale:"date"===t[5]?ma():Hr(),y:t[6],yDomain:t[8],yNice:!0,z:t[7],zScale:wn(),zDomain:t[18],zRange:t[19],$$slots:{default:[uf]},$$scope:{ctx:t}}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.padding=t[0]),196612&n&&(r.flatData=t[2].filter(t[23])),196624&n&&(r.data=me(t[4].filter(t[24]),pf,df)),32&n&&(r.x=t[5]),32&n&&(r.xScale="date"===t[5]?ma():Hr()),64&n&&(r.y=t[6]),256&n&&(r.yDomain=t[8]),128&n&&(r.z=t[7]),33590784&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function lf(t){let e,n,r,i;return e=new Ls({props:{gridlines:!1,ticks:t[10],formatTick:t[9],snapTicks:!1,tickMarks:!0}}),r=new Ns({props:{ticks:4,formatTick:t[11]}}),{c(){Dt(e.$$.fragment),n=z(),Dt(r.$$.fragment)},m(t,o){jt(e,t,o),N(t,n,o),jt(r,t,o),i=!0},p(t,n){const i={};1024&n&&(i.ticks=t[10]),512&n&&(i.formatTick=t[9]),e.$set(i);const o={};2048&n&&(o.formatTick=t[11]),r.$set(o)},i(t){i||(Mt(e.$$.fragment,t),Mt(r.$$.fragment,t),i=!0)},o(t){kt(e.$$.fragment,t),kt(r.$$.fragment,t),i=!1},d(t){zt(e,t),t&&A(n),zt(r,t)}}}function cf(t){let e,n,r,i=t[15]&&lf(t);return n=new of({props:{activeChart:"test"}}),{c(){i&&i.c(),e=z(),Dt(n.$$.fragment)},m(t,o){i&&i.m(t,o),N(t,e,o),jt(n,t,o),r=!0},p(t,n){t[15]?i?(i.p(t,n),32768&n&&Mt(i,1)):(i=lf(t),i.c(),Mt(i,1),i.m(e.parentNode,e)):i&&($t(),kt(i,1,1,(()=>{i=null})),_t())},i(t){r||(Mt(i),Mt(n.$$.fragment,t),r=!0)},o(t){kt(i),kt(n.$$.fragment,t),r=!1},d(t){i&&i.d(t),t&&A(e),zt(n,t)}}}function uf(t){let e,n;return e=new Wa({props:{$$slots:{default:[cf]},$$scope:{ctx:t}}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};33590784&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function ff(t){let e,n;return e=new Hs({props:{caption:t[1],url:t[3],type:12===t[13]?"split-cols":"single-cols"}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.caption=t[1]),8&n&&(r.url=t[3]),8192&n&&(r.type=12===t[13]?"split-cols":"single-cols"),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function hf(t){let e,n,r,i,o,a=t[2]&&t[2].length&&sf(t),s=t[12]&&ff(t);return{c(){e=T("div"),a&&a.c(),r=z(),s&&s.c(),i=E(),I(e,"class",n="chart line-chart "+t[14])},m(t,n){N(t,e,n),a&&a.m(e,null),N(t,r,n),s&&s.m(t,n),N(t,i,n),o=!0},p(t,[r]){t[2]&&t[2].length?a?(a.p(t,r),4&r&&Mt(a,1)):(a=sf(t),a.c(),Mt(a,1),a.m(e,null)):a&&($t(),kt(a,1,1,(()=>{a=null})),_t()),(!o||16384&r&&n!==(n="chart line-chart "+t[14]))&&I(e,"class",n),t[12]?s?(s.p(t,r),4096&r&&Mt(s,1)):(s=ff(t),s.c(),Mt(s,1),s.m(i.parentNode,i)):s&&($t(),kt(s,1,1,(()=>{s=null})),_t())},i(t){o||(Mt(a),Mt(s),o=!0)},o(t){kt(a),kt(s),o=!1},d(t){t&&A(e),a&&a.d(),t&&A(r),s&&s.d(t),t&&A(i)}}}const pf=t=>`${t.political_lean}_${t.idx}`,df=t=>t.diet_threshold;function mf(t,e,n){let r,i,{margins:o={top:20,right:10,bottom:20,left:45}}=e,{caption:a=""}=e,{data:s}=e,{url:l=""}=e,{groupedData:c}=e,{xKey:u}=e,{yKey:f}=e,{zKey:h}=e,{yDomain:p=[0,null]}=e,{formatTickX:d}=e,{xTicks:m=6}=e,{formatTickY:g=(t=>t.toLocaleString("en-NZ",{style:"percent"}))}=e,{includeCaption:v=!0}=e,{spanCol:y}=e,{customClass:b}=e,{includeAxis:w=!0}=e,{scaleRange:x}=e,{start:$}=e,{end:_}=e,M=Za(Array.from(af).map((t=>t[0])).map((t=>"R"===t?[`${t}_1`,`${t}_0`]:[`${t}_0`,`${t}_1`]))),k=Za(Array.from(af).map((t=>t[1])).map((t=>[t,On(t).brighter(3).formatHex()])));return t.$$set=t=>{"margins"in t&&n(0,o=t.margins),"caption"in t&&n(1,a=t.caption),"data"in t&&n(2,s=t.data),"url"in t&&n(3,l=t.url),"groupedData"in t&&n(4,c=t.groupedData),"xKey"in t&&n(5,u=t.xKey),"yKey"in t&&n(6,f=t.yKey),"zKey"in t&&n(7,h=t.zKey),"yDomain"in t&&n(8,p=t.yDomain),"formatTickX"in t&&n(9,d=t.formatTickX),"xTicks"in t&&n(10,m=t.xTicks),"formatTickY"in t&&n(11,g=t.formatTickY),"includeCaption"in t&&n(12,v=t.includeCaption),"spanCol"in t&&n(13,y=t.spanCol),"customClass"in t&&n(14,b=t.customClass),"includeAxis"in t&&n(15,w=t.includeAxis),"scaleRange"in t&&n(20,x=t.scaleRange),"start"in t&&n(21,$=t.start),"end"in t&&n(22,_=t.end)},t.$$.update=()=>{3145728&t.$$.dirty&&n(17,r=x($)),5242880&t.$$.dirty&&n(16,i=x(_))},[o,a,s,l,c,u,f,h,p,d,m,g,v,y,b,w,i,r,M,k,x,$,_,t=>+t.date>=r&&+t.date<=i,t=>+t.date>=r&&+t.date<=i]}class gf extends Pt{constructor(t){super(),Lt(this,t,mf,hf,s,{margins:0,caption:1,data:2,url:3,groupedData:4,xKey:5,yKey:6,zKey:7,yDomain:8,formatTickX:9,xTicks:10,formatTickY:11,includeCaption:12,spanCol:13,customClass:14,includeAxis:15,scaleRange:20,start:21,end:22})}}function vf(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function yf(t){let e,n,r=t[2].domain+"";return{c(){e=T("div"),n=j(r),I(e,"class",m("row-value row-value-program")+" svelte-cb5z3m")},m(t,r){N(t,e,r),M(e,n)},p(t,e){1&e&&r!==(r=t[2].domain+"")&&O(n,r)},d(t){t&&A(e)}}}function bf(t){let e,n,r,i,o,a=t[2].program+"",s=t[2].network+"";return{c(){e=T("div"),n=j(a),r=z(),i=T("span"),o=j(s),I(i,"class",m("row-value row-value-network")+" svelte-cb5z3m"),I(e,"class",m("row-value row-value-program")+" svelte-cb5z3m")},m(t,a){N(t,e,a),M(e,n),M(e,r),M(e,i),M(i,o)},p(t,e){1&e&&a!==(a=t[2].program+"")&&O(n,a),1&e&&s!==(s=t[2].network+"")&&O(o,s)},d(t){t&&A(e)}}}function wf(t){let e,n,r,i,o,a,s,l=t[2].value.toLocaleString()+"";function c(t,e){return"tv"===t[1]?bf:yf}let u=c(t),f=u(t);return{c(){e=T("div"),f.c(),n=z(),r=T("div"),i=j(l),a=z(),I(r,"class",o=m("row-value row-value-audience")+" svelte-cb5z3m"),I(e,"class",s=m("row-body")+" svelte-cb5z3m")},m(t,o){N(t,e,o),f.m(e,null),M(e,n),M(e,r),M(r,i),M(e,a)},p(t,r){u===(u=c(t))&&f?f.p(t,r):(f.d(1),f=u(t),f&&(f.c(),f.m(e,n))),1&r&&l!==(l=t[2].value.toLocaleString()+"")&&O(i,l)},d(t){t&&A(e),f.d()}}}function xf(e){let n,r,i,o,a,s,l,c,u="tv"===e[1]?"Program":"Domain",f=e[0].filter($f),h=[];for(let t=0;t<f.length;t+=1)h[t]=wf(vf(e,f,t));return{c(){n=T("div"),r=T("div"),i=T("div"),o=T("div"),a=j(u),s=z(),l=T("div"),l.textContent="Audience",c=z();for(let t=0;t<h.length;t+=1)h[t].c();I(o,"class",m("row-header row-header-program")+" svelte-cb5z3m"),I(l,"class",m("row-header row-header-audience")+" svelte-cb5z3m"),I(i,"class",m("row-head")+" svelte-cb5z3m"),I(r,"class",m("table-wrapper")+" svelte-cb5z3m"),I(n,"class","table-container")},m(t,e){N(t,n,e),M(n,r),M(r,i),M(i,o),M(o,a),M(i,s),M(i,l),M(r,c);for(let t=0;t<h.length;t+=1)h[t].m(r,null)},p(t,[e]){if(2&e&&u!==(u="tv"===t[1]?"Program":"Domain")&&O(a,u),3&e){let n;for(f=t[0].filter($f),n=0;n<f.length;n+=1){const i=vf(t,f,n);h[n]?h[n].p(i,e):(h[n]=wf(i),h[n].c(),h[n].m(r,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}},i:t,o:t,d(t){t&&A(n),S(h,t)}}}const $f=t=>t.value>0;function _f(t,e,n){let{data:r}=e,{medium:i}=e;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"medium"in t&&n(1,i=t.medium)},[r,i]}class Mf extends Pt{constructor(t){super(),Lt(this,t,_f,xf,s,{data:0,medium:1})}}Pr(",.0s");const kf=Pr(",.0f"),Cf=Pr("+,.2s");function Nf(t){var e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function Af(t){const e=t.slice(),n=e[7].get(e[1].detail.node.abbr)[0];e[18]=n.abbr,e[19]=n.state,e[20]=n.data;const r=e[5].get(e[18]).get(e[2]).map((t=>({...t,value:Math.max(t.right_pct,t.left_pct)})));e[21]=r;const i=Za(e[21].map((t=>[{...t,political_lean:"R",value:t.right_pct},{...t,political_lean:"L",value:t.left_pct}])));e[22]=i;const o=le(e[21],(t=>+t.date));e[23]=o[0],e[24]=o[1];const a=e[6].get(e[3]).get(e[18]).get(e[2]);return e[25]=a,e}function Sf(n){let r,i,s,l,c,u,f,h,p,d,m,g,v,y,w,x,$,k,C,S,D,E,L,P,R,F,q,U,H,Y,V,B,W,Z,X,Q,J,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ht,pt,dt,mt,gt,vt,wt,$t,_t,Nt,At,St,Tt,Et,Lt,Pt,Rt,It,Ot,Ft,qt,Ut=n[18]+"",Ht=n[19]+"",Yt=n[9](n[20].left_pct)+"",Vt=Nf(n[20].left_pct_rk)+"",Bt=n[9](n[20].right_pct)+"",Wt=Nf(n[20].right_pct_rk)+"",Zt=kf(n[20].left_size)+"",Xt=Nf(n[20].left_size_rk)+"",Gt=kf(n[20].right_size)+"",Kt=Nf(n[20].right_size_rk)+"",Qt=n[4][0].value+"",Jt="tv"===n[2]?"watched":"viewed",te=n[4][1].value+"";return mt=new gf({props:{data:n[21],groupedData:n[22],scaleRange:Hr().range([n[23],n[24]]),start:0,end:1,yKey:jf,xKey:Df,zKey:zf,spanCol:12,customClass:"popup-overlay",formatTickX:Qs,url:"",includeCaption:!1}}),St=new Mf({props:{data:n[25],medium:n[2]}}),{c(){r=T("h1"),i=T("span"),s=j(Ut),l=z(),c=j(Ht),f=z(),h=T("div"),p=T("div"),d=T("h6"),d.textContent="Partisan lean",m=z(),g=T("span"),v=T("span"),v.textContent="L",y=z(),w=T("span"),x=j(Yt),$=z(),k=T("span"),C=j(Vt),S=z(),D=T("span"),E=T("span"),E.textContent="R",L=z(),P=T("span"),R=j(Bt),F=z(),q=T("span"),U=j(Wt),H=z(),Y=T("div"),V=T("h6"),V.textContent="Echo chamber sizes",B=z(),W=T("span"),Z=T("span"),Z.textContent="L",X=z(),Q=T("span"),J=j(Zt),tt=z(),et=T("span"),nt=j(Xt),rt=z(),it=T("span"),ot=T("span"),ot.textContent="R",at=z(),st=T("span"),lt=j(Gt),ct=z(),ut=T("span"),ht=j(Kt),pt=z(),dt=T("div"),Dt(mt.$$.fragment),gt=z(),vt=T("p"),wt=T("span"),wt.textContent="TV & Web news diet polarization.",$t=z(),_t=j(Qt),Nt=z(),At=T("div"),Dt(St.$$.fragment),Tt=z(),Et=T("p"),Lt=T("span"),Pt=j("Most "),Rt=j(Jt),It=j("."),Ot=z(),Ft=j(te),I(i,"class","svelte-ojsh46"),I(r,"class","title svelte-ojsh46"),I(d,"class","svelte-ojsh46"),I(v,"class","info-label svelte-ojsh46"),I(w,"class","info-value"),I(k,"class","info-rank svelte-ojsh46"),I(g,"class","info-L info-pct svelte-ojsh46"),I(E,"class","info-label svelte-ojsh46"),I(P,"class","info-value"),I(q,"class","info-rank svelte-ojsh46"),I(D,"class","info-R info-pct svelte-ojsh46"),I(p,"class","info-inner"),I(V,"class","svelte-ojsh46"),I(Z,"class","info-label svelte-ojsh46"),I(Q,"class","info-value"),I(et,"class","info-rank svelte-ojsh46"),I(W,"class","info-L info-size svelte-ojsh46"),I(ot,"class","info-label svelte-ojsh46"),I(st,"class","info-value"),I(ut,"class","info-rank svelte-ojsh46"),I(it,"class","info-R info-size svelte-ojsh46"),I(Y,"class","info-inner"),I(h,"class","info svelte-ojsh46"),I(dt,"class","overlay-col1-container svelte-ojsh46"),I(wt,"class","svelte-ojsh46"),I(vt,"class","caption overlay-col1-caption svelte-ojsh46"),I(At,"class","overlay-col2-container svelte-ojsh46"),I(Lt,"class","svelte-ojsh46"),I(Et,"class","caption overlay-col2-caption svelte-ojsh46")},m(t,e){N(t,r,e),M(r,i),M(i,s),M(r,l),M(r,c),N(t,f,e),N(t,h,e),M(h,p),M(p,d),M(p,m),M(p,g),M(g,v),M(g,y),M(g,w),M(w,x),M(g,$),M(g,k),M(k,C),M(p,S),M(p,D),M(D,E),M(D,L),M(D,P),M(P,R),M(D,F),M(D,q),M(q,U),M(h,H),M(h,Y),M(Y,V),M(Y,B),M(Y,W),M(W,Z),M(W,X),M(W,Q),M(Q,J),M(W,tt),M(W,et),M(et,nt),M(Y,rt),M(Y,it),M(it,ot),M(it,at),M(it,st),M(st,lt),M(it,ct),M(it,ut),M(ut,ht),N(t,pt,e),N(t,dt,e),jt(mt,dt,null),N(t,gt,e),N(t,vt,e),M(vt,wt),M(vt,$t),M(vt,_t),N(t,Nt,e),N(t,At,e),jt(St,At,null),N(t,Tt,e),N(t,Et,e),M(Et,Lt),M(Lt,Pt),M(Lt,Rt),M(Lt,It),M(Et,Ot),M(Et,Ft),qt=!0},p(t,e){(!qt||130&e)&&Ut!==(Ut=t[18]+"")&&O(s,Ut),(!qt||130&e)&&Ht!==(Ht=t[19]+"")&&O(c,Ht),(!qt||130&e)&&Yt!==(Yt=t[9](t[20].left_pct)+"")&&O(x,Yt),(!qt||130&e)&&Vt!==(Vt=Nf(t[20].left_pct_rk)+"")&&O(C,Vt),(!qt||130&e)&&Bt!==(Bt=t[9](t[20].right_pct)+"")&&O(R,Bt),(!qt||130&e)&&Wt!==(Wt=Nf(t[20].right_pct_rk)+"")&&O(U,Wt),(!qt||130&e)&&Zt!==(Zt=kf(t[20].left_size)+"")&&O(J,Zt),(!qt||130&e)&&Xt!==(Xt=Nf(t[20].left_size_rk)+"")&&O(nt,Xt),(!qt||130&e)&&Gt!==(Gt=kf(t[20].right_size)+"")&&O(lt,Gt),(!qt||130&e)&&Kt!==(Kt=Nf(t[20].right_size_rk)+"")&&O(ht,Kt);const n={};166&e&&(n.data=t[21]),166&e&&(n.groupedData=t[22]),166&e&&(n.scaleRange=Hr().range([t[23],t[24]])),mt.$set(n),(!qt||16&e)&&Qt!==(Qt=t[4][0].value+"")&&O(_t,Qt);const r={};206&e&&(r.data=t[25]),4&e&&(r.medium=t[2]),St.$set(r),(!qt||4&e)&&Jt!==(Jt="tv"===t[2]?"watched":"viewed")&&O(Rt,Jt),(!qt||16&e)&&te!==(te=t[4][1].value+"")&&O(Ft,te)},i(t){qt||(u&&u.end(1),Mt(mt.$$.fragment,t),Mt(St.$$.fragment,t),qt=!0)},o(n){u=function(n,r,i){let s,l=r(n,i),c=!0;const u=xt;function f(){const{delay:r=0,duration:i=300,easing:a=e,tick:f=t,css:h}=l||Ct;h&&(s=G(n,1,0,i,r,a,h));const p=b()+r,d=p+i;ft((()=>bt(n,!1,"start"))),_((t=>{if(c){if(t>=d)return f(0,1),bt(n,!1,"end"),--u.r||o(u.c),!1;if(t>=p){const e=a((t-p)/i);f(1-e,e)}}return c}))}return u.r+=1,a(l)?yt().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),c&&(s&&K(n,s),c=!1)}}}(r,Hu,{delay:300}),kt(mt.$$.fragment,n),kt(St.$$.fragment,n),qt=!1},d(t){t&&A(r),t&&u&&u.end(),t&&A(f),t&&A(h),t&&A(pt),t&&A(dt),zt(mt),t&&A(gt),t&&A(vt),t&&A(Nt),t&&A(At),zt(St),t&&A(Tt),t&&A(Et)}}}function Tf(t){let e,n,r,i,o,a,s,l=!t[0]&&Sf(Af(t));return{c(){e=T("div"),l&&l.c(),n=z(),r=T("div"),I(r,"class","close-button svelte-ojsh46"),I(e,"class",i="overlay "+(t[0]?"":"active")+" svelte-ojsh46")},m(i,c){N(i,e,c),l&&l.m(e,null),M(e,n),M(e,r),o=!0,a||(s=L(r,"click",t[14]),a=!0)},p(t,[r]){t[0]?l&&($t(),kt(l,1,1,(()=>{l=null})),_t()):l?(l.p(Af(t),r),1&r&&Mt(l,1)):(l=Sf(Af(t)),l.c(),Mt(l,1),l.m(e,n)),(!o||1&r&&i!==(i="overlay "+(t[0]?"":"active")+" svelte-ojsh46"))&&I(e,"class",i)},i(t){o||(Mt(l),o=!0)},o(t){kt(l),o=!1},d(t){t&&A(e),l&&l.d(),a=!1,s()}}}let Df="date",jf="value",zf=0;function Ef(t,e,n){let r;const i=rt(),{data:o}=it("LayerCake");c(t,o,(t=>n(13,r=t)));const a=Pr(`.${1}~%`);let s,l,u,f,h,{hidePopup:p}=e,{popup:d}=e,{diet_threshold:m}=e,{partisanship_scenario:g}=e,{medium:v}=e,{period:y}=e,{tooltipCaptions:b=[]}=e;function w(){i("closePopup")}nt((async()=>{const t=await ee("assets/data/EchoCh-by_state_full-timeseries.csv",Gt);s=t.map((t=>Object.assign(Object.assign({},t),{date:new Date(t.year,t.month,1)}))),n(5,l=de(s,(t=>t.state),(t=>t.medium))),u=await ee("assets/data/EchoCh-by_state_audiences.csv",Gt),n(6,f=de(u,(t=>t.period),(t=>t.state),(t=>t.medium)))}));return t.$$set=t=>{"hidePopup"in t&&n(0,p=t.hidePopup),"popup"in t&&n(1,d=t.popup),"diet_threshold"in t&&n(11,m=t.diet_threshold),"partisanship_scenario"in t&&n(12,g=t.partisanship_scenario),"medium"in t&&n(2,v=t.medium),"period"in t&&n(3,y=t.period),"tooltipCaptions"in t&&n(4,b=t.tooltipCaptions)},t.$$.update=()=>{8192&t.$$.dirty&&n(7,h=de(r,(t=>t.abbr)))},[p,d,v,y,b,l,f,h,o,a,w,m,g,r,()=>w()]}class Lf extends Pt{constructor(t){super(),Lt(this,t,Ef,Tf,s,{hidePopup:0,popup:1,diet_threshold:11,partisanship_scenario:12,medium:2,period:3,tooltipCaptions:4})}}function Pf(t,e,n){const r=t.slice();r[38]=e[n],r[41]=n;const i=r[19][r[41]];return r[39]=i,r}function Rf(t,e,n){const r=t.slice();return r[42]=e[n],r[41]=n,r}function If(e){let n,r,i,o,a=e[42]+"";return{c(){n=T("option"),r=j(a),i=z(),n.__value=o=e[42],n.value=n.__value},m(t,e){N(t,n,e),M(n,r),M(n,i)},p:t,d(t){t&&A(n)}}}function Of(t){let e;return{c(){e=T("span"),e.textContent="More left",I(e,"class","legend-block-label legend-block-label-L svelte-1dvny2v")},m(t,n){N(t,e,n)},d(t){t&&A(e)}}}function Ff(t){let e,n,r,i=Math.abs(t[39]).toLocaleString("en-NZ",{style:"percent",maximumFractionDigits:1,minimumFractionDigits:0})+"";return{c(){e=T("div"),n=j(i),I(e,"class",r=m("legend-anchor-label legend-anchor-label-"+(t[39]>0?"R":"L"))+" svelte-1dvny2v")},m(t,r){N(t,e,r),M(e,n)},p(t,o){524288&o[0]&&i!==(i=Math.abs(t[39]).toLocaleString("en-NZ",{style:"percent",maximumFractionDigits:1,minimumFractionDigits:0})+"")&&O(n,i),524288&o[0]&&r!==(r=m("legend-anchor-label legend-anchor-label-"+(t[39]>0?"R":"L"))+" svelte-1dvny2v")&&I(e,"class",r)},d(t){t&&A(e)}}}function qf(t){let e,n=void 0!==t[39]&&Ff(t);return{c(){e=T("div"),n&&n.c(),I(e,"class","legend-block svelte-1dvny2v"),F(e,"--color",t[38])},m(t,r){N(t,e,r),n&&n.m(e,null)},p(t,r){void 0!==t[39]?n?n.p(t,r):(n=Ff(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null),512&r[0]&&F(e,"--color",t[38])},d(t){t&&A(e),n&&n.d()}}}function Uf(t){let e,n,r,i="diverging"===t[1].type&&Hf(t),o="linear"===t[1].type&&Yf(t);return{c(){i&&i.c(),e=z(),o&&o.c(),n=E()},m(t,a){i&&i.m(t,a),N(t,e,a),o&&o.m(t,a),N(t,n,a),r=!0},p(t,r){"diverging"===t[1].type?i?(i.p(t,r),2&r[0]&&Mt(i,1)):(i=Hf(t),i.c(),Mt(i,1),i.m(e.parentNode,e)):i&&($t(),kt(i,1,1,(()=>{i=null})),_t()),"linear"===t[1].type?o?(o.p(t,r),2&r[0]&&Mt(o,1)):(o=Yf(t),o.c(),Mt(o,1),o.m(n.parentNode,n)):o&&($t(),kt(o,1,1,(()=>{o=null})),_t())},i(t){r||(Mt(i),Mt(o),r=!0)},o(t){kt(i),kt(o),r=!1},d(t){i&&i.d(t),t&&A(e),o&&o.d(t),t&&A(n)}}}function Hf(t){let e,n;return e=new Lu({props:{medium:t[13],diet_threshold:t[12],partisanship_scenario:t[11],collideStrength:.1,manyBodyStrength:-.5,renderAnnotation:t[16]}}),e.$on("mouseenter",t[22]),e.$on("mouseleave",t[23]),e.$on("click",t[24]),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};8192&n[0]&&(r.medium=t[13]),4096&n[0]&&(r.diet_threshold=t[12]),2048&n[0]&&(r.partisanship_scenario=t[11]),65536&n[0]&&(r.renderAnnotation=t[16]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Yf(t){let e,n;return e=new Fu({props:{medium:t[13],diet_threshold:t[12],partisanship_scenario:t[11],political_lean:t[10],collideStrength:.1,manyBodyStrength:-.5}}),e.$on("mouseenter",t[22]),e.$on("mouseleave",t[23]),e.$on("click",t[24]),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};8192&n[0]&&(r.medium=t[13]),4096&n[0]&&(r.diet_threshold=t[12]),2048&n[0]&&(r.partisanship_scenario=t[11]),1024&n[0]&&(r.political_lean=t[10]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Vf(t){let e,n,r=t[15]&&Uf(t);return{c(){r&&r.c(),e=E()},m(t,i){r&&r.m(t,i),N(t,e,i),n=!0},p(t,n){t[15]?r?(r.p(t,n),32768&n[0]&&Mt(r,1)):(r=Uf(t),r.c(),Mt(r,1),r.m(e.parentNode,e)):r&&($t(),kt(r,1,1,(()=>{r=null})),_t())},i(t){n||(Mt(r),n=!0)},o(t){kt(r),n=!1},d(t){r&&r.d(t),t&&A(e)}}}function Bf(t){let e,n;return e=new Lf({props:{hidePopup:t[14],diet_threshold:t[12],partisanship_scenario:t[11],medium:t[13],period:t[8]||Gf,popup:t[21],tooltipCaptions:t[3]}}),e.$on("closePopup",t[25]),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};16384&n[0]&&(r.hidePopup=t[14]),4096&n[0]&&(r.diet_threshold=t[12]),2048&n[0]&&(r.partisanship_scenario=t[11]),8192&n[0]&&(r.medium=t[13]),256&n[0]&&(r.period=t[8]||Gf),2097152&n[0]&&(r.popup=t[21]),8&n[0]&&(r.tooltipCaptions=t[3]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Wf(t){let e,n,r,i;return e=new Wa({props:{$$slots:{default:[Vf]},$$scope:{ctx:t}}}),r=new Fa({props:{pointerEvents:!t[14],$$slots:{default:[Bf]},$$scope:{ctx:t}}}),{c(){Dt(e.$$.fragment),n=z(),Dt(r.$$.fragment)},m(t,o){jt(e,t,o),N(t,n,o),jt(r,t,o),i=!0},p(t,n){const i={};113666&n[0]|8192&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};16384&n[0]&&(o.pointerEvents=!t[14]),2128136&n[0]|8192&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(Mt(e.$$.fragment,t),Mt(r.$$.fragment,t),i=!0)},o(t){kt(e.$$.fragment,t),kt(r.$$.fragment,t),i=!1},d(t){zt(e,t),t&&A(n),zt(r,t)}}}function Zf(t){let e,n;return e=new Hs({props:{caption:t[2],url:t[4],type:"single-cols"}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.caption=t[2]),16&n[0]&&(r.url=t[4]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Xf(t){let e,n,r,i,o,a,s,l,c,u,f,h,p,d,m,g,v,y,b,w,x,$,_,k,C,P,R,F,U,H,Y,V,B,W,Z,X,G,K,Q,J,tt,et,nt,rt,it,ot,st,lt,ct,ut,pt,dt,mt,gt,vt,yt,bt,wt,xt,Ct,Nt,At,St,Et,Lt="L"===t[10]?"left":"right",Pt=t[1].rDomain[0].toLocaleString("en-NZ",{notation:"compact"})+"",Rt=(t[1].rDomain[1]/18).toLocaleString("en-NZ",{notation:"compact"})+"",It=(t[1].rDomain[1]/4.5).toLocaleString("en-NZ",{notation:"compact"})+"",Ot=(t[1].rDomain[1]/2).toLocaleString("en-NZ",{notation:"compact"})+"";function Ft(e){t[32](e)}let qt={id:"medium",title:De.controls.medium.title,labels:["TV","Web"],info:De.controls.medium.description};function Ut(e){t[33](e)}void 0!==t[7]&&(qt.checked=t[7]),r=new ln({props:qt}),at.push((()=>Tt(r,"checked",Ft)));let Ht={id:"partisanship",title:De.controls.partisanship.title,labels:["Stringent","Lenient"],info:De.controls.partisanship.description};void 0!==t[6]&&(Ht.checked=t[6]),a=new ln({props:Ht}),at.push((()=>Tt(a,"checked",Ut)));let Yt=t[26],Vt=[];for(let e=0;e<Yt.length;e+=1)Vt[e]=If(Rf(t,Yt,e));let Bt="linear"!==t[1].type&&Of(),Wt=t[9],Zt=[];for(let e=0;e<Wt.length;e+=1)Zt[e]=qf(Pf(t,Wt,e));xt=new La({props:{flatData:t[0],data:t[17],rScale:t[20],rDomain:t[20].domain(),rRange:t[20].range(),zScale:t[18],zDomain:t[18].domain(),zRange:t[18].range(),padding:{top:0,right:0,bottom:0,left:0},$$slots:{default:[Wf]},$$scope:{ctx:t}}});let Xt=t[5]&&Zf(t);return{c(){e=T("div"),n=T("div"),Dt(r.$$.fragment),o=z(),Dt(a.$$.fragment),l=z(),c=T("div"),u=T("div"),u.textContent="Period",f=z(),h=T("select");for(let t=0;t<Vt.length;t+=1)Vt[t].c();p=z(),d=T("div"),m=T("div"),g=T("h5"),g.textContent="Partisan lean",v=z(),Bt&&Bt.c(),y=z();for(let t=0;t<Zt.length;t+=1)Zt[t].c();b=z(),w=T("span"),x=j("More "),$=j(Lt),_=z(),k=T("div"),C=T("h5"),C.textContent="Echo chamber size",P=z(),R=T("div"),F=D("svg"),U=D("circle"),V=D("text"),B=j(Pt),X=D("circle"),Q=D("text"),J=j(Rt),nt=D("circle"),ot=D("text"),st=j(It),ut=D("circle"),mt=D("text"),gt=j(Ot),bt=z(),wt=T("div"),Dt(xt.$$.fragment),Ct=z(),Xt&&Xt.c(),Nt=E(),I(u,"class","control-title svelte-1dvny2v"),I(h,"id","period-menu"),I(h,"name","period"),I(h,"class","svelte-1dvny2v"),void 0===t[8]&&ft((()=>t[34].call(h))),I(c,"id","period"),I(c,"class","control control-menu svelte-1dvny2v"),I(n,"class","controls svelte-1dvny2v"),I(g,"class","svelte-1dvny2v"),I(w,"class","legend-block-label legend-block-label-R svelte-1dvny2v"),I(m,"class","legend-item legend-item-color svelte-1dvny2v"),I(C,"class","svelte-1dvny2v"),I(U,"cy",0),I(U,"cx",H=t[20](t[1].rDomain[1]/2)+1),I(U,"r",Y=t[20](t[1].rDomain[0])),I(U,"fill","none"),I(U,"stroke","black"),I(U,"class","legend-circle"),I(V,"y",W=t[20](t[1].rDomain[0])+2),I(V,"x",Z=t[20](t[1].rDomain[1]/2)),I(V,"class","legend-circle-label svelte-1dvny2v"),I(X,"cy",0),I(X,"cx",G=t[20](t[1].rDomain[1]/2)+1),I(X,"r",K=t[20](t[1].rDomain[1]/18)),I(X,"fill","none"),I(X,"stroke","black"),I(X,"class","legend-circle"),I(Q,"y",tt=t[20](t[1].rDomain[1]/18)+2),I(Q,"x",et=t[20](t[1].rDomain[1]/2)),I(Q,"class","legend-circle-label svelte-1dvny2v"),I(nt,"cy",0),I(nt,"cx",rt=t[20](t[1].rDomain[1]/2)),I(nt,"r",it=t[20](t[1].rDomain[1]/4.5)),I(nt,"fill","none"),I(nt,"stroke","black"),I(nt,"class","legend-circle"),I(ot,"y",lt=t[20](t[1].rDomain[1]/4.5)+2),I(ot,"x",ct=t[20](t[1].rDomain[1]/2)),I(ot,"class","legend-circle-label svelte-1dvny2v"),I(ut,"cy",0),I(ut,"cx",pt=t[20](t[1].rDomain[1]/2)),I(ut,"r",dt=t[20](t[1].rDomain[1]/2)),I(ut,"fill","none"),I(ut,"stroke","black"),I(ut,"class","legend-circle"),I(mt,"y",vt=t[20](t[1].rDomain[1]/2)+2),I(mt,"x",yt=t[20](t[1].rDomain[1]/2)),I(mt,"class","legend-circle-label svelte-1dvny2v"),I(F,"class","svelte-1dvny2v"),I(R,"class","svelte-1dvny2v"),I(k,"class","legend-item legend-item-size svelte-1dvny2v"),I(d,"class","legend svelte-1dvny2v"),I(e,"class","chart-info-wrapper main-column svelte-1dvny2v"),I(wt,"id","beeswarm"),I(wt,"class","chart beeswarm-chart svelte-1dvny2v")},m(i,s){N(i,e,s),M(e,n),jt(r,n,null),M(n,o),jt(a,n,null),M(n,l),M(n,c),M(c,u),M(c,f),M(c,h);for(let t=0;t<Vt.length;t+=1)Vt[t].m(h,null);q(h,t[8]),M(e,p),M(e,d),M(d,m),M(m,g),M(m,v),Bt&&Bt.m(m,null),M(m,y);for(let t=0;t<Zt.length;t+=1)Zt[t].m(m,null);M(m,b),M(m,w),M(w,x),M(w,$),M(d,_),M(d,k),M(k,C),M(k,P),M(k,R),M(R,F),M(F,U),M(F,V),M(V,B),M(F,X),M(F,Q),M(Q,J),M(F,nt),M(F,ot),M(ot,st),M(F,ut),M(F,mt),M(mt,gt),N(i,bt,s),N(i,wt,s),jt(xt,wt,null),N(i,Ct,s),Xt&&Xt.m(i,s),N(i,Nt,s),At=!0,St||(Et=L(h,"change",t[34]),St=!0)},p(t,e){const n={};!i&&128&e[0]&&(i=!0,n.checked=t[7],ht((()=>i=!1))),r.$set(n);const o={};if(!s&&64&e[0]&&(s=!0,o.checked=t[6],ht((()=>s=!1))),a.$set(o),67108864&e[0]){let n;for(Yt=t[26],n=0;n<Yt.length;n+=1){const r=Rf(t,Yt,n);Vt[n]?Vt[n].p(r,e):(Vt[n]=If(r),Vt[n].c(),Vt[n].m(h,null))}for(;n<Vt.length;n+=1)Vt[n].d(1);Vt.length=Yt.length}if(67109120&e[0]&&q(h,t[8]),"linear"!==t[1].type?Bt||(Bt=Of(),Bt.c(),Bt.m(m,y)):Bt&&(Bt.d(1),Bt=null),524800&e[0]){let n;for(Wt=t[9],n=0;n<Wt.length;n+=1){const r=Pf(t,Wt,n);Zt[n]?Zt[n].p(r,e):(Zt[n]=qf(r),Zt[n].c(),Zt[n].m(m,b))}for(;n<Zt.length;n+=1)Zt[n].d(1);Zt.length=Wt.length}(!At||1024&e[0])&&Lt!==(Lt="L"===t[10]?"left":"right")&&O($,Lt),(!At||1048578&e[0]&&H!==(H=t[20](t[1].rDomain[1]/2)+1))&&I(U,"cx",H),(!At||1048578&e[0]&&Y!==(Y=t[20](t[1].rDomain[0])))&&I(U,"r",Y),(!At||2&e[0])&&Pt!==(Pt=t[1].rDomain[0].toLocaleString("en-NZ",{notation:"compact"})+"")&&O(B,Pt),(!At||1048578&e[0]&&W!==(W=t[20](t[1].rDomain[0])+2))&&I(V,"y",W),(!At||1048578&e[0]&&Z!==(Z=t[20](t[1].rDomain[1]/2)))&&I(V,"x",Z),(!At||1048578&e[0]&&G!==(G=t[20](t[1].rDomain[1]/2)+1))&&I(X,"cx",G),(!At||1048578&e[0]&&K!==(K=t[20](t[1].rDomain[1]/18)))&&I(X,"r",K),(!At||2&e[0])&&Rt!==(Rt=(t[1].rDomain[1]/18).toLocaleString("en-NZ",{notation:"compact"})+"")&&O(J,Rt),(!At||1048578&e[0]&&tt!==(tt=t[20](t[1].rDomain[1]/18)+2))&&I(Q,"y",tt),(!At||1048578&e[0]&&et!==(et=t[20](t[1].rDomain[1]/2)))&&I(Q,"x",et),(!At||1048578&e[0]&&rt!==(rt=t[20](t[1].rDomain[1]/2)))&&I(nt,"cx",rt),(!At||1048578&e[0]&&it!==(it=t[20](t[1].rDomain[1]/4.5)))&&I(nt,"r",it),(!At||2&e[0])&&It!==(It=(t[1].rDomain[1]/4.5).toLocaleString("en-NZ",{notation:"compact"})+"")&&O(st,It),(!At||1048578&e[0]&&lt!==(lt=t[20](t[1].rDomain[1]/4.5)+2))&&I(ot,"y",lt),(!At||1048578&e[0]&&ct!==(ct=t[20](t[1].rDomain[1]/2)))&&I(ot,"x",ct),(!At||1048578&e[0]&&pt!==(pt=t[20](t[1].rDomain[1]/2)))&&I(ut,"cx",pt),(!At||1048578&e[0]&&dt!==(dt=t[20](t[1].rDomain[1]/2)))&&I(ut,"r",dt),(!At||2&e[0])&&Ot!==(Ot=(t[1].rDomain[1]/2).toLocaleString("en-NZ",{notation:"compact"})+"")&&O(gt,Ot),(!At||1048578&e[0]&&vt!==(vt=t[20](t[1].rDomain[1]/2)+2))&&I(mt,"y",vt),(!At||1048578&e[0]&&yt!==(yt=t[20](t[1].rDomain[1]/2)))&&I(mt,"x",yt);const l={};1&e[0]&&(l.flatData=t[0]),131072&e[0]&&(l.data=t[17]),1048576&e[0]&&(l.rScale=t[20]),1048576&e[0]&&(l.rDomain=t[20].domain()),1048576&e[0]&&(l.rRange=t[20].range()),262144&e[0]&&(l.zScale=t[18]),262144&e[0]&&(l.zDomain=t[18].domain()),262144&e[0]&&(l.zRange=t[18].range()),2227466&e[0]|8192&e[1]&&(l.$$scope={dirty:e,ctx:t}),xt.$set(l),t[5]?Xt?(Xt.p(t,e),32&e[0]&&Mt(Xt,1)):(Xt=Zf(t),Xt.c(),Mt(Xt,1),Xt.m(Nt.parentNode,Nt)):Xt&&($t(),kt(Xt,1,1,(()=>{Xt=null})),_t())},i(t){At||(Mt(r.$$.fragment,t),Mt(a.$$.fragment,t),Mt(xt.$$.fragment,t),Mt(Xt),At=!0)},o(t){kt(r.$$.fragment,t),kt(a.$$.fragment,t),kt(xt.$$.fragment,t),kt(Xt),At=!1},d(t){t&&A(e),zt(r),zt(a),S(Vt,t),Bt&&Bt.d(),S(Zt,t),t&&A(bt),t&&A(wt),zt(xt),t&&A(Ct),Xt&&Xt.d(t),t&&A(Nt),St=!1,Et()}}}let Gf="Since 2016";function Kf(t,e,n){let r,i,o,a,s,l,c,u,f;const h=new Map(Te.map((t=>[t.state,t])));let p,d,{data:m}=e,{states:g}=e,{dataMap:v}=e,{fullDataMap:y}=e,{activeChart:b}=e,{caption:w=""}=e,{tooltipCaptions:x=[]}=e,{url:$=""}=e,{includeCaption:_=!0}=e,{politicalChecked:M}=e,k=!0,C=!1,N=!0,A=!1,S=!1;nt((()=>{n(15,A=!0)}));const T=["Since 2016","Last 3 months","Last 6 months","Last 12 months"];let D=Gf;return nt((()=>{setTimeout((()=>n(16,S=!0)),2e3)})),t.$$set=t=>{"data"in t&&n(0,m=t.data),"states"in t&&n(27,g=t.states),"dataMap"in t&&n(28,v=t.dataMap),"fullDataMap"in t&&n(29,y=t.fullDataMap),"activeChart"in t&&n(1,b=t.activeChart),"caption"in t&&n(2,w=t.caption),"tooltipCaptions"in t&&n(3,x=t.tooltipCaptions),"url"in t&&n(4,$=t.url),"includeCaption"in t&&n(5,_=t.includeCaption),"politicalChecked"in t&&n(30,M=t.politicalChecked)},t.$$.update=()=>{1073741824&t.$$.dirty[0]&&n(10,r=M?"R":"L"),128&t.$$.dirty[0]&&n(13,i=C?"web":"tv"),64&t.$$.dirty[0]&&n(11,a=k?"lenient":"stringent"),402667776&t.$$.dirty[0]&&n(17,d=g.map((t=>{const{abbr:e}=h.get(t.state),n=v.get(D||Gf).get(e).get(i).get(o).get(a)[0];return Object.assign(Object.assign({},t),{abbr:e,data:n})}))),2&t.$$.dirty[0]&&n(20,l=b.rScale().domain(b.rDomain).range(b.rRange)),1026&t.$$.dirty[0]|1&t.$$.dirty[1]&&(n(31,p=b.colorInterpolator().domain(b.colorInterpolatorDomain)),"diverging"===b.type?p.interpolator(gr(or.gamma(.5),b.colorInterpolatorScheme)):"linear"===b.type&&p.range([b.colorInterpolatorScheme,"R"===r?"#990000":"#011f5b"])),2&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(9,c=b.colorPaletteAnchors.map(p)),2&t.$$.dirty[0]&&n(19,u=b.zDomain),514&t.$$.dirty[0]&&n(18,f=b.zScale().domain(b.zDomain).range(c))},n(12,o=50),n(21,s=null),[m,b,w,x,$,_,k,C,D,c,r,a,o,i,N,A,S,d,f,u,l,s,function(t){},function(){},function(t){n(14,N=!1),n(21,s=t)},function(){n(14,N=!0),n(21,s=null)},T,g,v,y,M,p,function(t){C=t,n(7,C)},function(t){k=t,n(6,k)},function(){D=U(this),n(8,D),n(26,T)}]}class Qf extends Pt{constructor(t){super(),Lt(this,t,Kf,Xf,s,{data:0,states:27,dataMap:28,fullDataMap:29,activeChart:1,caption:2,tooltipCaptions:3,url:4,includeCaption:5,politicalChecked:30},null,[-1,-1])}}var Jf=[{coordinates:[-86.766233,33.001471],state:"Alabama",population:4447100},{coordinates:[-148.716968,61.288254],state:"Alaska",population:626932},{coordinates:[-111.828711,33.373506],state:"Arizona",population:5130632},{coordinates:[-92.576816,35.080251],state:"Arkansas",population:2673400},{coordinates:[-119.355165,35.458606],state:"California",population:33871648},{coordinates:[-105.203628,39.500656],state:"Colorado",population:4301261},{coordinates:[-72.874365,41.494852],state:"Connecticut",population:3405565},{coordinates:[-75.561908,39.397164],state:"Delaware",population:783600},{coordinates:[-77.014001,38.910092],state:"District of Columbia",population:572059},{coordinates:[-81.634622,27.79585],state:"Florida",population:15982378},{coordinates:[-83.868887,33.332208],state:"Georgia",population:8186453},{coordinates:[-157.524452,21.146768],state:"Hawaii",population:1211537},{coordinates:[-115.133222,44.242605],state:"Idaho",population:1293953},{coordinates:[-88.380238,41.278216],state:"Illinois",population:12419293},{coordinates:[-86.261515,40.163935],state:"Indiana",population:6080485},{coordinates:[-93.049161,41.960392],state:"Iowa",population:2926324},{coordinates:[-96.536052,38.454303],state:"Kansas",population:2688418},{coordinates:[-85.241819,37.808159],state:"Kentucky",population:4041769},{coordinates:[-91.457133,30.69927],state:"Louisiana",population:4468976},{coordinates:[-69.719931,44.313614],state:"Maine",population:1274923},{coordinates:[-76.797396,39.145653],state:"Maryland",population:5296486},{coordinates:[-71.363628,42.271831],state:"Massachusetts",population:6349097},{coordinates:[-84.170753,42.866412],state:"Michigan",population:9938444},{coordinates:[-93.583003,45.210782],state:"Minnesota",population:4919479},{coordinates:[-89.593164,32.56642],state:"Mississippi",population:2844658},{coordinates:[-92.15377,38.437715],state:"Missouri",population:5595211},{coordinates:[-111.209708,46.813302],state:"Montana",population:902195},{coordinates:[-97.403875,41.183753],state:"Nebraska",population:1711263},{coordinates:[-116.304648,37.165965],state:"Nevada",population:1998257},{coordinates:[-71.463342,43.153046],state:"New Hampshire",population:1235786},{coordinates:[-74.428055,40.438458],state:"New Jersey",population:8414350},{coordinates:[-106.342108,34.623012],state:"New Mexico",population:1819046},{coordinates:[-74.645228,41.507548],state:"New York",population:18976457},{coordinates:[-79.667654,35.553334],state:"North Carolina",population:8049313},{coordinates:[-99.334736,47.375168],state:"North Dakota",population:642200},{coordinates:[-82.749366,40.480854],state:"Ohio",population:11353140},{coordinates:[-96.834653,35.59794],state:"Oklahoma",population:3450654},{coordinates:[-122.579524,44.732273],state:"Oregon",population:3421399},{coordinates:[-77.075925,40.463528],state:"Pennsylvania",population:12281054},{coordinates:[-71.448902,41.753318],state:"Rhode Island",population:1048319},{coordinates:[-81.032387,34.034551],state:"South Carolina",population:4012012},{coordinates:[-99.043799,44.047502],state:"South Dakota",population:754844},{coordinates:[-86.397772,35.795862],state:"Tennessee",population:5689283},{coordinates:[-97.388631,30.943149],state:"Texas",population:20851820},{coordinates:[-111.90016,40.438987],state:"Utah",population:2233169},{coordinates:[-72.814309,44.081127],state:"Vermont",population:608827},{coordinates:[-77.835857,37.750345],state:"Virginia",population:7078515},{coordinates:[-121.624501,47.341728],state:"Washington",population:5894121},{coordinates:[-80.820221,38.767195],state:"West Virginia",population:1808344},{coordinates:[-89.001006,43.728544],state:"Wisconsin",population:5363675},{coordinates:[-107.008835,42.675762],state:"Wyoming",population:493782}];function th(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function eh(t){let e,n,r,i=t[15].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){2&e&&i!==(i=t[15].value+"")&&O(n,i)},d(t){t&&A(e)}}}function nh(t){let e,n,r,i;function o(e){t[12](e)}let a={id:"medium",title:"Political lean",labels:["L","R"],info:"Right or left leaning",colors:["#AA3737","#384E83"]};return void 0!==t[8]&&(a.checked=t[8]),n=new ln({props:a}),at.push((()=>Tt(n,"checked",o))),{c(){e=T("div"),Dt(n.$$.fragment),I(e,"class","controls svelte-x02mud")},m(t,r){N(t,e,r),jt(n,e,null),i=!0},p(t,e){const i={};!r&&256&e&&(r=!0,i.checked=t[8],ht((()=>r=!1))),n.$set(i)},i(t){i||(Mt(n.$$.fragment,t),i=!0)},o(t){kt(n.$$.fragment,t),i=!1},d(t){t&&A(e),zt(n)}}}function rh(e){let n,r;return n=new on({props:{row:5}}),{c(){Dt(n.$$.fragment)},m(t,e){jt(n,t,e),r=!0},p:t,i(t){r||(Mt(n.$$.fragment,t),r=!0)},o(t){kt(n.$$.fragment,t),r=!1},d(t){zt(n,t)}}}function ih(t){let e,n;return e=new Qf({props:{data:t[5],states:Jf,dataMap:t[6],fullDataMap:t[7],activeChart:t[9],politicalChecked:t[8],caption:t[2][0].value,tooltipCaptions:t[2].slice(1),url:ah}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.data=t[5]),64&n&&(r.dataMap=t[6]),128&n&&(r.fullDataMap=t[7]),512&n&&(r.activeChart=t[9]),256&n&&(r.politicalChecked=t[8]),4&n&&(r.caption=t[2][0].value),4&n&&(r.tooltipCaptions=t[2].slice(1)),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function oh(t){let e,n,r,i,s,l,c,u,f,h,p,d,m,g,y,b,w=t[1],x=[];for(let e=0;e<w.length;e+=1)x[e]=eh(th(t,w,e));let $="linear"===t[9].type&&nh(t);const _=[ih,rh],k=[];function C(t,e){return t[4]&&t[5]&&t[5].length?0:1}return p=C(t),d=k[p]=_[p](t),{c(){e=T("div"),n=T("h1"),r=j(t[3]),i=z(),s=T("div");for(let t=0;t<x.length;t+=1)x[t].c();l=z(),c=T("div"),u=T("h3"),u.textContent="Partisan Segregation in the US",f=z(),$&&$.c(),h=z(),d.c(),I(n,"class","section-title svelte-x02mud"),I(s,"class","copy svelte-x02mud"),I(u,"class","chart-title"),I(c,"class","title-container svelte-x02mud"),I(e,"class","section section-1 svelte-x02mud")},m(o,a){N(o,e,a),M(e,n),M(n,r),M(e,i),M(e,s);for(let t=0;t<x.length;t+=1)x[t].m(s,null);M(e,l),M(e,c),M(c,u),M(c,f),$&&$.m(c,null),M(e,h),k[p].m(e,null),g=!0,y||(b=[v(m=hl.call(null,e,{once:t[0]})),L(e,"enter",t[13])],y=!0)},p(t,[n]){if((!g||8&n)&&O(r,t[3]),2&n){let e;for(w=t[1],e=0;e<w.length;e+=1){const r=th(t,w,e);x[e]?x[e].p(r,n):(x[e]=eh(r),x[e].c(),x[e].m(s,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=w.length}"linear"===t[9].type?$?($.p(t,n),512&n&&Mt($,1)):($=nh(t),$.c(),Mt($,1),$.m(c,null)):$&&($t(),kt($,1,1,(()=>{$=null})),_t());let i=p;p=C(t),p===i?k[p].p(t,n):($t(),kt(k[i],1,1,(()=>{k[i]=null})),_t(),d=k[p],d?d.p(t,n):(d=k[p]=_[p](t),d.c()),Mt(d,1),d.m(e,null)),m&&a(m.update)&&1&n&&m.update.call(null,{once:t[0]})},i(t){g||(Mt($),Mt(d),g=!0)},o(t){kt($),kt(d),g=!1},d(t){t&&A(e),S(x,t),$&&$.d(),k[p].d(),y=!1,o(b)}}}const ah="assets/data/EchoCh-by_state.csv";function sh(t,e,n){let r,i,o,a,s,l,c=!1,{once:u}=e,{copy:f}=e,{refs:h}=e,{captions:p}=e,{title:d="Title"}=e;nt((async()=>{const t=await ee(ah,Gt),e=["left_pct","right_pct","left_size","right_size"],r=ge(t,(t=>{const n={};return e.forEach((e=>{const r={},i=ke(t.map((t=>t[e])),re);t.forEach(((t,e)=>{r[t.state]=i[e]+1})),n[e]=r})),n}),(t=>t.period),(t=>t.medium),(t=>t.diet_threshold),(t=>t.partisanship_scenario));n(5,a=t.map((t=>Object.assign(Object.assign({},t),{left_pct_rk:r.get(t.period).get(t.medium).get(t.diet_threshold).get(t.partisanship_scenario).left_pct[t.state],right_pct_rk:r.get(t.period).get(t.medium).get(t.diet_threshold).get(t.partisanship_scenario).right_pct[t.state],left_size_rk:r.get(t.period).get(t.medium).get(t.diet_threshold).get(t.partisanship_scenario).left_size[t.state],right_size_rk:r.get(t.period).get(t.medium).get(t.diet_threshold).get(t.partisanship_scenario).right_size[t.state]})))),n(6,s=de(a,(t=>t.period),(t=>t.state),(t=>t.medium),(t=>t.diet_threshold),(t=>t.partisanship_scenario))),n(7,l=de(a,(t=>t.state),(t=>t.medium),(t=>t.partisanship_scenario)))}));const m=new Map([[0,{type:"diverging",rScale:Xr,rDomain:[1e3,3e6],rRange:[8,80],zScale:Gr,zDomain:[-.1,-.05,-.01,.01,.05,.1],colorInterpolator:ya,colorInterpolatorDomain:[-.75,0,.75],colorInterpolatorScheme:["#011f5b","gainsboro","#990000"],colorPaletteAnchors:[-.7,-.35,-.18,0,.18,.35,.85]}]]);return t.$$set=t=>{"once"in t&&n(0,u=t.once),"copy"in t&&n(1,f=t.copy),"refs"in t&&n(10,h=t.refs),"captions"in t&&n(2,p=t.captions),"title"in t&&n(3,d=t.title)},t.$$.update=()=>{2048&t.$$.dirty&&n(9,i=m.get(+r))},n(11,r="0"),n(8,o=!0),[u,f,p,d,c,a,s,l,o,i,h,r,function(t){o=t,n(8,o)},()=>n(4,c=!0)]}class lh extends Pt{constructor(t){super(),Lt(this,t,sh,oh,s,{once:0,copy:1,refs:10,captions:2,title:3})}}function ch(t,e,n){return t<e?e:t>n?n:t}function uh(e){let n,r,i,a,s,l,c,u,f;return{c(){n=T("div"),r=T("div"),i=T("div"),a=z(),s=T("div"),l=z(),c=T("div"),I(i,"class","body svelte-4z6zmw"),F(i,"left",100*e[0]+"%"),F(i,"right",100*(1-e[1])+"%"),I(s,"class","handle svelte-4z6zmw"),I(s,"data-which","start"),F(s,"left",100*e[0]+"%"),I(c,"class","handle svelte-4z6zmw"),I(c,"data-which","end"),F(c,"left",100*e[1]+"%"),I(r,"class","slider svelte-4z6zmw"),I(n,"class","double-range-container svelte-4z6zmw")},m(t,o){N(t,n,o),M(n,r),M(r,i),e[7](i),M(r,a),M(r,s),e[8](s),M(r,l),M(r,c),e[9](r),u||(f=[v(fh.call(null,i)),L(i,"dragmove",R(P(e[6]))),v(fh.call(null,s)),L(s,"dragmove",R(P(e[5]("start")))),v(fh.call(null,c)),L(c,"dragmove",R(P(e[5]("end"))))],u=!0)},p(t,[e]){1&e&&F(i,"left",100*t[0]+"%"),2&e&&F(i,"right",100*(1-t[1])+"%"),1&e&&F(s,"left",100*t[0]+"%"),2&e&&F(c,"left",100*t[1]+"%")},i:t,o:t,d(t){t&&A(n),e[7](null),e[8](null),e[9](null),u=!1,o(f)}}}function fh(t){let e,n;function r(r){"touchstart"===r.type&&(r=r.touches[0]),e=r.clientX,n=r.clientY,t.dispatchEvent(new CustomEvent("dragstart",{detail:{x:e,y:n}})),window.addEventListener("mousemove",i),window.addEventListener("mouseup",o),window.addEventListener("touchmove",i),window.addEventListener("touchend",o)}function i(r){"touchmove"===r.type&&(r=r.changedTouches[0]);const i=r.clientX-e,o=r.clientY-n;e=r.clientX,n=r.clientY,t.dispatchEvent(new CustomEvent("dragmove",{detail:{x:e,y:n,dx:i,dy:o}}))}function o(r){e=r.clientX,n=r.clientY,t.dispatchEvent(new CustomEvent("dragend",{detail:{x:e,y:n}})),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",o)}return t.addEventListener("mousedown",r),t.addEventListener("touchstart",r),{destroy(){t.removeEventListener("mousedown",r),t.removeEventListener("touchstart",r)}}}function hh(t,e,n){let r,i,o,{start:a=0}=e,{end:s=1}=e;return t.$$set=t=>{"start"in t&&n(0,a=t.start),"end"in t&&n(1,s=t.end)},[a,s,r,i,o,function(t){return function(e){const{left:r,right:i}=o.getBoundingClientRect(),l=i-r,c=Math.min(Math.max((e.detail.x-r)/l,0),1);"start"===t?(n(0,a=c),n(1,s=Math.max(s,c))):(n(0,a=Math.min(c,a)),n(1,s=c))}},function(t){const{width:e}=i.getBoundingClientRect(),{left:l,right:c}=o.getBoundingClientRect(),u=c-l,f=ch(r.getBoundingClientRect().left+event.detail.dx-l,0,u-e),h=ch(f+e,e,u)/u;n(0,a=f/u),n(1,s=h)},function(t){at[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},function(t){at[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){at[t?"unshift":"push"]((()=>{o=t,n(4,o)}))}]}class ph extends Pt{constructor(t){super(),Lt(this,t,hh,uh,s,{start:0,end:1})}}function dh(t,e,n){const r=t.slice();return r[42]=e[n],r}function mh(t,e,n){const r=t.slice();return r[42]=e[n],r[46]=n,r}function gh(t,e,n){const r=t.slice();return r[42]=e[n],r[46]=n,r}function vh(t){let e,n,r,i=t[42].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){2&e[0]&&i!==(i=t[42].value+"")&&O(n,i)},d(t){t&&A(e)}}}function yh(t){let e,n,r,i,o,a,s,l,c,u,f,h,p,d,m=Qs(t[20](t[18]))+"",g=Qs(t[20](t[19]))+"";function v(e){t[39](e)}function y(e){t[40](e)}let b={};return void 0!==t[18]&&(b.start=t[18]),void 0!==t[19]&&(b.end=t[19]),i=new ph({props:b}),at.push((()=>Tt(i,"start",v))),at.push((()=>Tt(i,"end",y))),{c(){e=T("div"),n=T("div"),n.textContent="Period",r=z(),Dt(i.$$.fragment),s=z(),l=T("div"),c=T("div"),u=j(m),f=z(),h=T("div"),p=j(g),I(n,"class","control-title svelte-12l758o"),I(c,"class","label svelte-12l758o"),I(h,"class","label svelte-12l758o"),I(l,"class","labels svelte-12l758o"),I(e,"id","period"),I(e,"class","control control-range svelte-12l758o")},m(t,o){N(t,e,o),M(e,n),M(e,r),jt(i,e,null),M(e,s),M(e,l),M(l,c),M(c,u),M(l,f),M(l,h),M(h,p),d=!0},p(t,e){const n={};!o&&262144&e[0]&&(o=!0,n.start=t[18],ht((()=>o=!1))),!a&&524288&e[0]&&(a=!0,n.end=t[19],ht((()=>a=!1))),i.$set(n),(!d||262144&e[0])&&m!==(m=Qs(t[20](t[18]))+"")&&O(u,m),(!d||524288&e[0])&&g!==(g=Qs(t[20](t[19]))+"")&&O(p,g)},i(t){d||(Mt(i.$$.fragment,t),d=!0)},o(t){kt(i.$$.fragment,t),d=!1},d(t){t&&A(e),zt(i)}}}function bh(e){let n,r;return n=new on({props:{row:3}}),{c(){Dt(n.$$.fragment)},m(t,e){jt(n,t,e),r=!0},p:t,i(t){r||(Mt(n.$$.fragment,t),r=!0)},o(t){kt(n.$$.fragment,t),r=!1},d(t){zt(n,t)}}}function wh(t){let e,n;return e=new gf({props:{data:t[5],groupedData:t[17],scaleRange:t[21],start:t[18],end:t[19],yKey:Ch,xKey:kh,zKey:Nh,spanCol:12,customClass:"chart-medium",formatTickX:Qs,url:Mh,caption:t[3][0].value}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};32&n[0]&&(r.data=t[5]),131072&n[0]&&(r.groupedData=t[17]),262144&n[0]&&(r.start=t[18]),524288&n[0]&&(r.end=t[19]),8&n[0]&&(r.caption=t[3][0].value),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function xh(t){let e,n,r,i=t[42].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){2&e[0]&&i!==(i=t[42].value+"")&&O(n,i)},d(t){t&&A(e)}}}function $h(t){let e,n,r,i=t[42].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){4&e[0]&&i!==(i=t[42].value+"")&&O(n,i)},d(t){t&&A(e)}}}function _h(t){let e,n,r,i,s,l,c,u,f,h,p,d,m,g,y,b,w,x,$,_,k,C,D,E,P,R,F,U,H,Y,V,B,W,Z,X,G,K,Q,J,tt,et,nt,rt,it,ot,st,lt,ct,ut,pt,dt,mt,gt,vt,yt,bt,wt,xt,Ct,Nt,At,St,Et,Lt,Pt,Rt,It,Ot,Ft,qt,Ut,Ht,Yt,Vt,Bt,Wt,Zt,Xt,Gt,Kt=t[1].slice(0,1),Qt=[];for(let e=0;e<Kt.length;e+=1)Qt[e]=vh(gh(t,Kt,e));function Jt(e){t[29](e)}let te={id:"political-lean",title:"A lean",labels:["L","R"],colors:["#011f5b","#ff0000"],info:De.controls.medium.description};function ee(e){t[30](e)}void 0!==t[10]&&(te.checked=t[10]),h=new ln({props:te}),at.push((()=>Tt(h,"checked",Jt)));let ne={id:"medium",title:De.controls.medium.title,labels:["TV","Web"],info:De.controls.medium.description};function re(e){t[31](e)}void 0!==t[6]&&(ne.checked=t[6]),m=new ln({props:ne}),at.push((()=>Tt(m,"checked",ee)));let ie={id:"partisanship",title:De.controls.partisanship.title,labels:["Lenient","Strict"],info:De.controls.partisanship.description};function oe(e){t[34](e)}void 0!==t[8]&&(ie.checked=t[8]),b=new ln({props:ie}),at.push((()=>Tt(b,"checked",re)));let ae={id:"political-lean",title:"B lean",labels:["L","R"],colors:["#035aff","#990000"],info:De.controls.medium.description};function se(e){t[35](e)}void 0!==t[11]&&(ae.checked=t[11]),J=new ln({props:ae}),at.push((()=>Tt(J,"checked",oe)));let le={id:"medium",title:De.controls.medium.title,labels:["TV","Web"],info:De.controls.medium.description};function ce(e){t[36](e)}void 0!==t[7]&&(le.checked=t[7]),nt=new ln({props:le}),at.push((()=>Tt(nt,"checked",se)));let ue={id:"partisanship",title:De.controls.partisanship.title,labels:["Lenient","Strict"],info:De.controls.partisanship.description};void 0!==t[9]&&(ue.checked=t[9]),ot=new ln({props:ue}),at.push((()=>Tt(ot,"checked",ce)));let fe=t[16]&&t[5]&&yh(t);const he=[wh,bh],pe=[];function de(t,e){return t[16]&&t[5]?0:1}qt=de(t),Ut=pe[qt]=he[qt](t);let me=t[1].slice(1),ge=[];for(let e=0;e<me.length;e+=1)ge[e]=xh(mh(t,me,e));let ve=t[2],ye=[];for(let e=0;e<ve.length;e+=1)ye[e]=$h(dh(t,ve,e));return{c(){e=T("div"),n=T("h1"),r=j(t[4]),i=z(),s=T("div");for(let t=0;t<Qt.length;t+=1)Qt[t].c();l=z(),c=T("div"),u=T("div"),f=T("div"),Dt(h.$$.fragment),d=z(),Dt(m.$$.fragment),y=z(),Dt(b.$$.fragment),x=z(),$=T("div"),_=T("div"),_.textContent="Age group",k=z(),C=T("select"),D=T("option"),D.textContent="All",E=T("option"),E.textContent="18-24",P=T("option"),P.textContent="25-34",R=T("option"),R.textContent="35-44",F=T("option"),F.textContent="45-54",U=T("option"),U.textContent="55+",H=z(),Y=T("div"),V=T("div"),V.textContent="Gender",B=z(),W=T("select"),Z=T("option"),Z.textContent="All",X=T("option"),X.textContent="Male",G=T("option"),G.textContent="Female",K=z(),Q=T("div"),Dt(J.$$.fragment),et=z(),Dt(nt.$$.fragment),it=z(),Dt(ot.$$.fragment),lt=z(),ct=T("div"),ut=T("div"),ut.textContent="Age group",pt=z(),dt=T("select"),mt=T("option"),mt.textContent="All",gt=T("option"),gt.textContent="18-24",vt=T("option"),vt.textContent="25-34",yt=T("option"),yt.textContent="35-44",bt=T("option"),bt.textContent="45-54",wt=T("option"),wt.textContent="55+",xt=z(),Ct=T("div"),Nt=T("div"),Nt.textContent="Gender",At=z(),St=T("select"),Et=T("option"),Et.textContent="All",Lt=T("option"),Lt.textContent="Male",Pt=T("option"),Pt.textContent="Female",Rt=z(),fe&&fe.c(),It=z(),Ot=T("div"),Ft=z(),Ut.c(),Ht=z(),Yt=T("div");for(let t=0;t<ge.length;t+=1)ge[t].c();Vt=z(),Bt=T("div");for(let t=0;t<ye.length;t+=1)ye[t].c();I(n,"class","section-title svelte-12l758o"),I(s,"class","copy copy-1 svelte-12l758o"),I(_,"class","control-title svelte-12l758o"),D.__value="All",D.value=D.__value,E.__value="18-24",E.value=E.__value,P.__value="25-34",P.value=P.__value,R.__value="35-44",R.value=R.__value,F.__value="45-54",F.value=F.__value,U.__value="55+",U.value=U.__value,I(C,"id","age-group-menu"),I(C,"name","age-group"),I(C,"class","svelte-12l758o"),void 0===t[13]&&ft((()=>t[32].call(C))),I($,"id","age-group"),I($,"class","control control-menu svelte-12l758o"),I(V,"class","control-title svelte-12l758o"),Z.__value="All",Z.value=Z.__value,Z.selected=!0,X.__value="Male",X.value=X.__value,G.__value="Female",G.value=G.__value,I(W,"id","gender-menu"),I(W,"name","location"),I(W,"class","svelte-12l758o"),void 0===t[12]&&ft((()=>t[33].call(W))),I(Y,"id","gender"),I(Y,"class","control control-menu svelte-12l758o"),I(f,"class","controls svelte-12l758o"),I(ut,"class","control-title svelte-12l758o"),mt.__value="All",mt.value=mt.__value,gt.__value="18-24",gt.value=gt.__value,vt.__value="25-34",vt.value=vt.__value,yt.__value="35-44",yt.value=yt.__value,bt.__value="45-54",bt.value=bt.__value,wt.__value="55+",wt.value=wt.__value,I(dt,"id","age-group-menu"),I(dt,"name","age-group"),I(dt,"class","svelte-12l758o"),void 0===t[15]&&ft((()=>t[37].call(dt))),I(ct,"id","age-group"),I(ct,"class","control control-menu svelte-12l758o"),I(Nt,"class","control-title svelte-12l758o"),Et.__value="All",Et.value=Et.__value,Et.selected=!0,Lt.__value="Male",Lt.value=Lt.__value,Pt.__value="Female",Pt.value=Pt.__value,I(St,"id","gender-menu"),I(St,"name","location"),I(St,"class","svelte-12l758o"),void 0===t[14]&&ft((()=>t[38].call(St))),I(Ct,"id","gender"),I(Ct,"class","control control-menu svelte-12l758o"),I(Q,"class","controls svelte-12l758o"),I(Ot,"class","spacer svelte-12l758o"),I(u,"class","controls-wrapper svelte-12l758o"),I(c,"class","chart-wrapper svelte-12l758o"),I(Yt,"class","copy copy-2 svelte-12l758o"),I(Bt,"class","references svelte-12l758o"),I(e,"class","section section-2 svelte-12l758o")},m(o,a){N(o,e,a),M(e,n),M(n,r),M(e,i),M(e,s);for(let t=0;t<Qt.length;t+=1)Qt[t].m(s,null);M(e,l),M(e,c),M(c,u),M(u,f),jt(h,f,null),M(f,d),jt(m,f,null),M(f,y),jt(b,f,null),M(f,x),M(f,$),M($,_),M($,k),M($,C),M(C,D),M(C,E),M(C,P),M(C,R),M(C,F),M(C,U),q(C,t[13]),M(f,H),M(f,Y),M(Y,V),M(Y,B),M(Y,W),M(W,Z),M(W,X),M(W,G),q(W,t[12]),M(u,K),M(u,Q),jt(J,Q,null),M(Q,et),jt(nt,Q,null),M(Q,it),jt(ot,Q,null),M(Q,lt),M(Q,ct),M(ct,ut),M(ct,pt),M(ct,dt),M(dt,mt),M(dt,gt),M(dt,vt),M(dt,yt),M(dt,bt),M(dt,wt),q(dt,t[15]),M(Q,xt),M(Q,Ct),M(Ct,Nt),M(Ct,At),M(Ct,St),M(St,Et),M(St,Lt),M(St,Pt),q(St,t[14]),M(u,Rt),fe&&fe.m(u,null),M(u,It),M(u,Ot),M(c,Ft),pe[qt].m(c,null),M(e,Ht),M(e,Yt);for(let t=0;t<ge.length;t+=1)ge[t].m(Yt,null);M(e,Vt),M(e,Bt);for(let t=0;t<ye.length;t+=1)ye[t].m(Bt,null);Zt=!0,Xt||(Gt=[L(C,"change",t[32]),L(W,"change",t[33]),L(dt,"change",t[37]),L(St,"change",t[38]),v(Wt=hl.call(null,e,{once:t[0]})),L(e,"enter",t[41])],Xt=!0)},p(t,e){if((!Zt||16&e[0])&&O(r,t[4]),2&e[0]){let n;for(Kt=t[1].slice(0,1),n=0;n<Kt.length;n+=1){const r=gh(t,Kt,n);Qt[n]?Qt[n].p(r,e):(Qt[n]=vh(r),Qt[n].c(),Qt[n].m(s,null))}for(;n<Qt.length;n+=1)Qt[n].d(1);Qt.length=Kt.length}const n={};!p&&1024&e[0]&&(p=!0,n.checked=t[10],ht((()=>p=!1))),h.$set(n);const i={};!g&&64&e[0]&&(g=!0,i.checked=t[6],ht((()=>g=!1))),m.$set(i);const o={};!w&&256&e[0]&&(w=!0,o.checked=t[8],ht((()=>w=!1))),b.$set(o),8192&e[0]&&q(C,t[13]),4096&e[0]&&q(W,t[12]);const l={};!tt&&2048&e[0]&&(tt=!0,l.checked=t[11],ht((()=>tt=!1))),J.$set(l);const f={};!rt&&128&e[0]&&(rt=!0,f.checked=t[7],ht((()=>rt=!1))),nt.$set(f);const d={};!st&&512&e[0]&&(st=!0,d.checked=t[9],ht((()=>st=!1))),ot.$set(d),32768&e[0]&&q(dt,t[15]),16384&e[0]&&q(St,t[14]),t[16]&&t[5]?fe?(fe.p(t,e),65568&e[0]&&Mt(fe,1)):(fe=yh(t),fe.c(),Mt(fe,1),fe.m(u,It)):fe&&($t(),kt(fe,1,1,(()=>{fe=null})),_t());let v=qt;if(qt=de(t),qt===v?pe[qt].p(t,e):($t(),kt(pe[v],1,1,(()=>{pe[v]=null})),_t(),Ut=pe[qt],Ut?Ut.p(t,e):(Ut=pe[qt]=he[qt](t),Ut.c()),Mt(Ut,1),Ut.m(c,null)),2&e[0]){let n;for(me=t[1].slice(1),n=0;n<me.length;n+=1){const r=mh(t,me,n);ge[n]?ge[n].p(r,e):(ge[n]=xh(r),ge[n].c(),ge[n].m(Yt,null))}for(;n<ge.length;n+=1)ge[n].d(1);ge.length=me.length}if(4&e[0]){let n;for(ve=t[2],n=0;n<ve.length;n+=1){const r=dh(t,ve,n);ye[n]?ye[n].p(r,e):(ye[n]=$h(r),ye[n].c(),ye[n].m(Bt,null))}for(;n<ye.length;n+=1)ye[n].d(1);ye.length=ve.length}Wt&&a(Wt.update)&&1&e[0]&&Wt.update.call(null,{once:t[0]})},i(t){Zt||(Mt(h.$$.fragment,t),Mt(m.$$.fragment,t),Mt(b.$$.fragment,t),Mt(J.$$.fragment,t),Mt(nt.$$.fragment,t),Mt(ot.$$.fragment,t),Mt(fe),Mt(Ut),Zt=!0)},o(t){kt(h.$$.fragment,t),kt(m.$$.fragment,t),kt(b.$$.fragment,t),kt(J.$$.fragment,t),kt(nt.$$.fragment,t),kt(ot.$$.fragment,t),kt(fe),kt(Ut),Zt=!1},d(t){t&&A(e),S(Qt,t),zt(h),zt(m),zt(b),zt(J),zt(nt),zt(ot),fe&&fe.d(),pe[qt].d(),S(ge,t),S(ye,t),Xt=!1,o(Gt)}}}let Mh="assets/data/EchoCh-nationwide-by_gender-or-age_group.csv",kh="date",Ch="value",Nh=0;function Ah(t,e,n){let r,i,o,a,s,l,c,u,f,h=!1,{once:p}=e,{copy:d}=e,{refs:m}=e,{captions:g}=e,{title:v="Title"}=e,y=!1,b=!1,w=!0,x=!0,$=!1,_=!0,M=y?"web":"tv",k=w?"stringent":"lenient";const C=Hr();let N=0,A=1,S="All",T="All";nt((async()=>{const t=await ee(Mh,Gt);n(5,c=t.map((t=>Object.assign(Object.assign({},t),{date:new Date(t.year,t.month,1)}))));const[e,r]=le(c,(t=>+t.date));C.range([e,r])}));return t.$$set=t=>{"once"in t&&n(0,p=t.once),"copy"in t&&n(1,d=t.copy),"refs"in t&&n(2,m=t.refs),"captions"in t&&n(3,g=t.captions),"title"in t&&n(4,v=t.title)},t.$$.update=()=>{32&t.$$.dirty[0]&&c&&n(22,u=de(c,(t=>t.gender),(t=>t.medium),(t=>t.partisanship_scenario),(t=>t.age_group),(t=>t.political_lean))),64&t.$$.dirty[0]&&n(23,M=y?"web":"tv"),256&t.$$.dirty[0]&&n(24,k=w?"stringent":"lenient"),1024&t.$$.dirty[0]&&n(28,r=$?"R":"L"),128&t.$$.dirty[0]&&n(27,i=b?"web":"tv"),512&t.$$.dirty[0]&&n(26,o=x?"stringent":"lenient"),2048&t.$$.dirty[0]&&n(25,l=_?"R":"L"),532738080&t.$$.dirty[0]&&c&&u.size&&n(17,f=[...u.get(S).get(M).get(k).get(T).get(r).map((t=>Object.assign(Object.assign({},t),{idx:0}))),...u.get(s).get(i).get(o).get(a).get(l).map((t=>Object.assign(Object.assign({},t),{idx:1})))])},n(12,S="All"),n(13,T="All"),n(14,s="All"),n(15,a="All"),[p,d,m,g,v,c,y,b,w,x,$,_,S,T,s,a,h,f,N,A,C,t=>{const e=new Date(C(t));return e.setDate(1),e.setHours(0,0,0),e.setMilliseconds(0),+e},u,M,k,l,o,i,r,function(t){$=t,n(10,$)},function(t){y=t,n(6,y)},function(t){w=t,n(8,w)},function(){T=U(this),n(13,T)},function(){S=U(this),n(12,S)},function(t){_=t,n(11,_)},function(t){b=t,n(7,b)},function(t){x=t,n(9,x)},function(){a=U(this),n(15,a)},function(){s=U(this),n(14,s)},function(t){N=t,n(18,N)},function(t){A=t,n(19,A)},()=>n(16,h=!0)]}class Sh extends Pt{constructor(t){super(),Lt(this,t,Ah,_h,s,{once:0,copy:1,refs:2,captions:3,title:4},null,[-1,-1])}}const Th={origin:[0,0,0],round:4},Dh="SVGPathCommander Error",jh={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},zh=t=>{let e=t.pathValue[t.segmentStart],n=e.toLowerCase();const{data:r}=t;for(;r.length>=jh[n]&&("m"===n&&r.length>2?(t.segments.push([e,...r.splice(0,2)]),n="l",e="m"===e?"l":"L"):t.segments.push([e,...r.splice(0,jh[n])]),jh[n]););},Eh=t=>{const{index:e,pathValue:n}=t,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err=`${Dh}: invalid Arc flag "${n[e]}", expecting 0 or 1 at index ${e}`)},Lh=t=>t>=48&&t<=57,Ph="Invalid path value",Rh=t=>{const{max:e,pathValue:n,index:r}=t;let i,o=r,a=!1,s=!1,l=!1,c=!1;if(o>=e)t.err=`${Dh}: ${Ph} at index ${o}, "pathValue" is missing param`;else if(i=n.charCodeAt(o),(43===i||45===i)&&(o+=1,i=n.charCodeAt(o)),Lh(i)||46===i){if(46!==i){if(a=48===i,o+=1,i=n.charCodeAt(o),a&&o<e&&i&&Lh(i))return void(t.err=`${Dh}: ${Ph} at index ${r}, "${n[r]}" illegal number`);for(;o<e&&Lh(n.charCodeAt(o));)o+=1,s=!0;i=n.charCodeAt(o)}if(46===i){for(c=!0,o+=1;Lh(n.charCodeAt(o));)o+=1,l=!0;i=n.charCodeAt(o)}if(101===i||69===i){if(c&&!s&&!l)return void(t.err=`${Dh}: ${Ph} at index ${o}, "${n[o]}" invalid float exponent`);if(o+=1,i=n.charCodeAt(o),(43===i||45===i)&&(o+=1),!(o<e&&Lh(n.charCodeAt(o))))return void(t.err=`${Dh}: ${Ph} at index ${o}, "${n[o]}" invalid integer exponent`);for(;o<e&&Lh(n.charCodeAt(o));)o+=1}t.index=o,t.param=+t.pathValue.slice(r,o)}else t.err=`${Dh}: ${Ph} at index ${o}, "${n[o]}" is not a number`},Ih=t=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(t),Oh=t=>{const{pathValue:e,max:n}=t;for(;t.index<n&&Ih(e.charCodeAt(t.index));)t.index+=1},Fh=t=>Lh(t)||43===t||45===t||46===t,qh=t=>97==(32|t),Uh=t=>{const{max:e,pathValue:n,index:r}=t,i=n.charCodeAt(r),o=jh[n[r].toLowerCase()];if(t.segmentStart=r,(t=>{switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}})(i))if(t.index+=1,Oh(t),t.data=[],o){for(;;){for(let r=o;r>0;r-=1){if(!qh(i)||3!==r&&4!==r?Rh(t):Eh(t),t.err.length)return;t.data.push(t.param),Oh(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,Oh(t))}if(t.index>=t.max||!Fh(n.charCodeAt(t.index)))break}zh(t)}else zh(t);else t.err=`${Dh}: ${Ph} "${n[r]}" is not a path command`};class Hh{constructor(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const Yh=t=>Array.isArray(t)&&t.every((t=>{const e=t[0].toLowerCase();return jh[e]===t.length-1&&"achlmqstvz".includes(e)})),Vh=t=>{if(Yh(t))return[...t];const e=new Hh(t);for(Oh(e);e.index<e.max&&!e.err.length;)Uh(e);if(e.err&&e.err.length)throw TypeError(e.err);return e.segments},Bh=t=>{const e=t.length;let n,r=-1,i=t[e-1],o=0;for(;++r<e;)n=i,i=t[r],o+=n[1]*i[0]-n[0]*i[1];return o/2},Wh=(t,e)=>Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),Zh=t=>t.reduce(((e,n,r)=>r?e+Wh(t[r-1],n):0),0);var Xh=Object.defineProperty,Gh=(t,e,n)=>(((t,e,n)=>{e in t?Xh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const Kh={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},Qh=t=>(t instanceof Float64Array||t instanceof Float32Array||Array.isArray(t)&&t.every((t=>"number"==typeof t)))&&[6,16].some((e=>t.length===e)),Jh=t=>t instanceof DOMMatrix||t instanceof hp||"object"==typeof t&&Object.keys(Kh).every((e=>t&&e in t)),tp=t=>{const e=new hp,n=Array.from(t);if(!Qh(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);if(16===n.length){const[t,r,i,o,a,s,l,c,u,f,h,p,d,m,g,v]=n;e.m11=t,e.a=t,e.m21=a,e.c=a,e.m31=u,e.m41=d,e.e=d,e.m12=r,e.b=r,e.m22=s,e.d=s,e.m32=f,e.m42=m,e.f=m,e.m13=i,e.m23=l,e.m33=h,e.m43=g,e.m14=o,e.m24=c,e.m34=p,e.m44=v}else if(6===n.length){const[t,r,i,o,a,s]=n;e.m11=t,e.a=t,e.m12=r,e.b=r,e.m21=i,e.c=i,e.m22=o,e.d=o,e.m41=a,e.e=a,e.m42=s,e.f=s}return e},ep=t=>{if(Jh(t))return tp([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},np=t=>{if("string"!=typeof t)throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a string.`);const e=String(t).replace(/\s/g,"");let n=new hp;const r=`CSSMatrix: invalid transform string "${t}"`;return e.split(")").filter((t=>t)).forEach((t=>{const[e,i]=t.split("(");if(!i)throw TypeError(r);const o=i.split(",").map((t=>t.includes("rad")?parseFloat(t)*(180/Math.PI):parseFloat(t))),[a,s,l,c]=o,u=[a,s,l],f=[a,s,l,c];if("perspective"===e&&a&&[s,l].every((t=>void 0===t)))n.m34=-1/a;else if(e.includes("matrix")&&[6,16].includes(o.length)&&o.every((t=>!Number.isNaN(+t)))){const t=o.map((t=>Math.abs(t)<1e-6?0:t));n=n.multiply(tp(t))}else if("translate3d"===e&&u.every((t=>!Number.isNaN(+t))))n=n.translate(a,s,l);else if("translate"===e&&a&&void 0===l)n=n.translate(a,s||0,0);else if("rotate3d"===e&&f.every((t=>!Number.isNaN(+t)))&&c)n=n.rotateAxisAngle(a,s,l,c);else if("rotate"===e&&a&&[s,l].every((t=>void 0===t)))n=n.rotate(0,0,a);else if("scale3d"===e&&u.every((t=>!Number.isNaN(+t)))&&u.some((t=>1!==t)))n=n.scale(a,s,l);else if("scale"!==e||Number.isNaN(a)||1===a||void 0!==l)if("skew"===e&&(a||!Number.isNaN(a)&&s)&&void 0===l)n=n.skew(a,s||0);else{if(!(["translate","rotate","scale","skew"].some((t=>e.includes(t)))&&/[XYZ]/.test(e)&&a&&[s,l].every((t=>void 0===t))))throw TypeError(r);if("skewX"===e||"skewY"===e)n=n[e](a);else{const t=e.replace(/[XYZ]/,""),r=e.replace(t,""),i=["X","Y","Z"].indexOf(r),o="scale"===t?1:0,s=[0===i?a:o,1===i?a:o,2===i?a:o];n=n[t](...s)}}else{const t=Number.isNaN(+s)?a:s;n=n.scale(a,t,1)}})),n},rp=(t,e)=>e?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44],ip=(t,e,n)=>{const r=new hp;return r.m41=t,r.e=t,r.m42=e,r.f=e,r.m43=n,r},op=(t,e,n)=>{const r=new hp,i=Math.PI/180,o=t*i,a=e*i,s=n*i,l=Math.cos(o),c=-Math.sin(o),u=Math.cos(a),f=-Math.sin(a),h=Math.cos(s),p=-Math.sin(s),d=u*h,m=-u*p;r.m11=d,r.a=d,r.m12=m,r.b=m,r.m13=f;const g=c*f*h+l*p;r.m21=g,r.c=g;const v=l*h-c*f*p;return r.m22=v,r.d=v,r.m23=-c*u,r.m31=c*p-l*f*h,r.m32=c*h+l*f*p,r.m33=l*u,r},ap=(t,e,n,r)=>{const i=new hp,o=Math.sqrt(t*t+e*e+n*n);if(0===o)return i;const a=t/o,s=e/o,l=n/o,c=r*(Math.PI/360),u=Math.sin(c),f=Math.cos(c),h=u*u,p=a*a,d=s*s,m=l*l,g=1-2*(d+m)*h;i.m11=g,i.a=g;const v=2*(a*s*h+l*u*f);i.m12=v,i.b=v,i.m13=2*(a*l*h-s*u*f);const y=2*(s*a*h-l*u*f);i.m21=y,i.c=y;const b=1-2*(m+p)*h;return i.m22=b,i.d=b,i.m23=2*(s*l*h+a*u*f),i.m31=2*(l*a*h+s*u*f),i.m32=2*(l*s*h-a*u*f),i.m33=1-2*(p+d)*h,i},sp=(t,e,n)=>{const r=new hp;return r.m11=t,r.a=t,r.m22=e,r.d=e,r.m33=n,r},lp=(t,e)=>{const n=new hp;if(t){const e=t*Math.PI/180,r=Math.tan(e);n.m21=r,n.c=r}if(e){const t=e*Math.PI/180,r=Math.tan(t);n.m12=r,n.b=r}return n},cp=t=>lp(t,0),up=t=>lp(0,t),fp=(t,e)=>{const n=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,r=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,i=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,o=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,a=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,s=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,l=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,c=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,u=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,f=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,h=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,p=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,d=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,m=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,g=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,v=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return tp([n,r,i,o,a,s,l,c,u,f,h,p,d,m,g,v])};class hp{constructor(t){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,t?this.setMatrixValue(t):this}get isIdentity(){return 1===this.m11&&0===this.m12&&0===this.m13&&0===this.m14&&0===this.m21&&1===this.m22&&0===this.m23&&0===this.m24&&0===this.m31&&0===this.m32&&1===this.m33&&0===this.m34&&0===this.m41&&0===this.m42&&0===this.m43&&1===this.m44}get is2D(){return 0===this.m31&&0===this.m32&&1===this.m33&&0===this.m34&&0===this.m43&&1===this.m44}setMatrixValue(t){return"string"==typeof t&&t.length&&"none"!==t?np(t):Array.isArray(t)||t instanceof Float64Array||t instanceof Float32Array?tp(t):"object"==typeof t?ep(t):this}toFloat32Array(t){return Float32Array.from(rp(this,t))}toFloat64Array(t){return Float64Array.from(rp(this,t))}toString(){const{is2D:t}=this;return`${t?"matrix":"matrix3d"}(${this.toFloat64Array(t).join(", ")})`}toJSON(){const{is2D:t,isIdentity:e}=this;return{...this,is2D:t,isIdentity:e}}multiply(t){return fp(this,t)}translate(t,e,n){let r=e,i=n;return typeof r>"u"&&(r=0),typeof i>"u"&&(i=0),fp(this,ip(t,r,i))}scale(t,e,n){let r=e,i=n;return typeof r>"u"&&(r=t),typeof i>"u"&&(i=1),fp(this,sp(t,r,i))}rotate(t,e,n){let r=t,i=e||0,o=n||0;return"number"==typeof t&&typeof e>"u"&&typeof n>"u"&&(o=r,r=0,i=0),fp(this,op(r,i,o))}rotateAxisAngle(t,e,n,r){if([t,e,n,r].some((t=>Number.isNaN(+t))))throw new TypeError("CSSMatrix: expecting 4 values");return fp(this,ap(t,e,n,r))}skewX(t){return fp(this,cp(t))}skewY(t){return fp(this,up(t))}skew(t,e){return fp(this,lp(t,e))}transformPoint(t){const e=this.m11*t.x+this.m21*t.y+this.m31*t.z+this.m41*t.w,n=this.m12*t.x+this.m22*t.y+this.m32*t.z+this.m42*t.w,r=this.m13*t.x+this.m23*t.y+this.m33*t.z+this.m43*t.w,i=this.m14*t.x+this.m24*t.y+this.m34*t.z+this.m44*t.w;return t instanceof DOMPoint?new DOMPoint(e,n,r,i):{x:e,y:n,z:r,w:i}}}Gh(hp,"Translate",ip),Gh(hp,"Rotate",op),Gh(hp,"RotateAxisAngle",ap),Gh(hp,"Scale",sp),Gh(hp,"SkewX",cp),Gh(hp,"SkewY",up),Gh(hp,"Skew",lp),Gh(hp,"Multiply",fp),Gh(hp,"fromArray",tp),Gh(hp,"fromMatrix",ep),Gh(hp,"fromString",np),Gh(hp,"toArray",rp),Gh(hp,"isCompatibleArray",Qh),Gh(hp,"isCompatibleObject",Jh);const pp=t=>Yh(t)&&t.every((([t])=>t===t.toUpperCase())),dp=t=>{if(pp(t))return[...t];const e=Vh(t);let n=0,r=0,i=0,o=0;return e.map((t=>{const e=t.slice(1).map(Number),[a]=t,s=a.toUpperCase();if("M"===a)return[n,r]=e,i=n,o=r,["M",n,r];let l=[];if(a!==s)if("A"===s)l=[s,e[0],e[1],e[2],e[3],e[4],e[5]+n,e[6]+r];else if("V"===s)l=[s,e[0]+r];else if("H"===s)l=[s,e[0]+n];else{const t=e.map(((t,e)=>t+(e%2?r:n)));l=[s,...t]}else l=[s,...e];return"Z"===s?(n=i,r=o):"H"===s?[,n]=l:"V"===s?[,r]=l:([n,r]=l.slice(-2),"M"===s&&(i=n,o=r)),l}))},mp=(t,e)=>{const[n]=t,{x1:r,y1:i,x2:o,y2:a}=e,s=t.slice(1).map(Number);let l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],i];else if("V"===n)l=["L",r,t[1]];else if("S"===n){const t=2*r-o,n=2*i-a;e.x1=t,e.y1=n,l=["C",t,n,...s]}else if("T"===n){const t=2*r-(e.qx?e.qx:0),n=2*i-(e.qy?e.qy:0);e.qx=t,e.qy=n,l=["Q",t,n,...s]}else if("Q"===n){const[t,n]=s;e.qx=t,e.qy=n}return l},gp=t=>pp(t)&&t.every((([t])=>"ACLMQZ".includes(t))),vp={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},yp=t=>{if(gp(t))return[...t];const e=dp(t),n={...vp},r=e.length;for(let t=0;t<r;t+=1){e[t],e[t]=mp(e[t],n);const r=e[t],i=r.length;n.x1=+r[i-2],n.y1=+r[i-1],n.x2=+r[i-4]||n.x1,n.y2=+r[i-3]||n.y1}return e},bp=(t,e,n)=>{const[r,i]=t,[o,a]=e;return[r+(o-r)*n,i+(a-i)*n]},wp=(t,e,n,r,i)=>{const o=Wh([t,e],[n,r]);let a={x:0,y:0};if("number"==typeof i)if(i<=0)a={x:t,y:e};else if(i>=o)a={x:n,y:r};else{const[s,l]=bp([t,e],[n,r],i/o);a={x:s,y:l}}return{length:o,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}},xp=(t,e)=>{const{x:n,y:r}=t,{x:i,y:o}=e,a=n*i+r*o,s=Math.sqrt((n**2+r**2)*(i**2+o**2));return(n*o-r*i<0?-1:1)*Math.acos(a/s)},$p=(t,e,n,r,i,o,a,s,l,c)=>{const{abs:u,sin:f,cos:h,sqrt:p,PI:d}=Math;let m=u(n),g=u(r);const v=(i%360+360)%360*(d/180);if(t===s&&e===l)return{x:t,y:e};if(0===m||0===g)return wp(t,e,s,l,c).point;const y=(t-s)/2,b=(e-l)/2,w=h(v)*y+f(v)*b,x=-f(v)*y+h(v)*b,$=w**2/m**2+x**2/g**2;$>1&&(m*=p($),g*=p($));let _=(m**2*g**2-m**2*x**2-g**2*w**2)/(m**2*x**2+g**2*w**2);_=_<0?0:_;const M=(o!==a?1:-1)*p(_),k=M*(m*x/g),C=M*(-g*w/m),N=h(v)*k-f(v)*C+(t+s)/2,A=f(v)*k+h(v)*C+(e+l)/2,S={x:(w-k)/m,y:(x-C)/g},T=xp({x:1,y:0},S);let D=xp(S,{x:(-w-k)/m,y:(-x-C)/g});!a&&D>0?D-=2*d:a&&D<0&&(D+=2*d),D%=2*d;const j=T+D*c,z=m*h(j),E=g*f(j);return{x:h(v)*z-f(v)*E+N,y:f(v)*z+h(v)*E+A}},_p=(t,e,n,r,i,o,a,s,l,c)=>{const u="number"==typeof c;let f=t,h=e,p=0,d=[f,h,p],m=[f,h],g=0,v={x:0,y:0},y=[{x:f,y:h}];u&&c<=0&&(v={x:f,y:h});for(let b=0;b<=300;b+=1){if(g=b/300,({x:f,y:h}=$p(t,e,n,r,i,o,a,s,l,g)),y=[...y,{x:f,y:h}],p+=Wh(m,[f,h]),m=[f,h],u&&p>c&&c>d[2]){const t=(p-c)/(p-d[2]);v={x:m[0]*(1-t)+d[0]*t,y:m[1]*(1-t)+d[1]*t}}d=[f,h,p]}return u&&c>=p&&(v={x:s,y:l}),{length:p,point:v,min:{x:Math.min(...y.map((t=>t.x))),y:Math.min(...y.map((t=>t.y)))},max:{x:Math.max(...y.map((t=>t.x))),y:Math.max(...y.map((t=>t.y)))}}},Mp=(t,e,n,r,i,o,a,s,l)=>{const c=1-l;return{x:c**3*t+3*c**2*l*n+3*c*l**2*i+l**3*a,y:c**3*e+3*c**2*l*r+3*c*l**2*o+l**3*s}},kp=(t,e,n,r,i,o,a,s,l)=>{const c="number"==typeof l;let u=t,f=e,h=0,p=[u,f,h],d=[u,f],m=0,g={x:0,y:0},v=[{x:u,y:f}];c&&l<=0&&(g={x:u,y:f});for(let y=0;y<=300;y+=1){if(m=y/300,({x:u,y:f}=Mp(t,e,n,r,i,o,a,s,m)),v=[...v,{x:u,y:f}],h+=Wh(d,[u,f]),d=[u,f],c&&h>l&&l>p[2]){const t=(h-l)/(h-p[2]);g={x:d[0]*(1-t)+p[0]*t,y:d[1]*(1-t)+p[1]*t}}p=[u,f,h]}return c&&l>=h&&(g={x:a,y:s}),{length:h,point:g,min:{x:Math.min(...v.map((t=>t.x))),y:Math.min(...v.map((t=>t.y)))},max:{x:Math.max(...v.map((t=>t.x))),y:Math.max(...v.map((t=>t.y)))}}},Cp=(t,e,n,r,i,o,a)=>{const s=1-a;return{x:s**2*t+2*s*a*n+a**2*i,y:s**2*e+2*s*a*r+a**2*o}},Np=(t,e,n,r,i,o,a)=>{const s="number"==typeof a;let l=t,c=e,u=0,f=[l,c,u],h=[l,c],p=0,d={x:0,y:0},m=[{x:l,y:c}];s&&a<=0&&(d={x:l,y:c});for(let g=0;g<=300;g+=1){if(p=g/300,({x:l,y:c}=Cp(t,e,n,r,i,o,p)),m=[...m,{x:l,y:c}],u+=Wh(h,[l,c]),h=[l,c],s&&u>a&&a>f[2]){const t=(u-a)/(u-f[2]);d={x:h[0]*(1-t)+f[0]*t,y:h[1]*(1-t)+f[1]*t}}f=[l,c,u]}return s&&a>=u&&(d={x:i,y:o}),{length:u,point:d,min:{x:Math.min(...m.map((t=>t.x))),y:Math.min(...m.map((t=>t.y)))},max:{x:Math.max(...m.map((t=>t.x))),y:Math.max(...m.map((t=>t.y)))}}},Ap=(t,e)=>{const n=yp(t),r="number"==typeof e;let i,o,a,s=[],l=0,c=0,u=0,f=0,h=[],p=[],d=0,m={x:0,y:0},g=m,v=m,y=m,b=0;for(let t=0,w=n.length;t<w;t+=1)a=n[t],[o]=a,i="M"===o,s=i?s:[l,c,...a.slice(1)],i?([,u,f]=a,m={x:u,y:f},g=m,d=0,r&&e<.001&&(y=m)):"L"===o?({length:d,min:m,max:g,point:v}=wp(...s,(e||0)-b)):"A"===o?({length:d,min:m,max:g,point:v}=_p(...s,(e||0)-b)):"C"===o?({length:d,min:m,max:g,point:v}=kp(...s,(e||0)-b)):"Q"===o?({length:d,min:m,max:g,point:v}=Np(...s,(e||0)-b)):"Z"===o&&(s=[l,c,u,f],({length:d,min:m,max:g,point:v}=wp(...s,(e||0)-b))),r&&b<e&&b+d>=e&&(y=v),p=[...p,g],h=[...h,m],b+=d,[l,c]="Z"!==o?a.slice(-2):[u,f];return r&&e>=b&&(y={x:l,y:c}),{length:b,point:y,min:{x:Math.min(...h.map((t=>t.x))),y:Math.min(...h.map((t=>t.y)))},max:{x:Math.max(...p.map((t=>t.x))),y:Math.max(...p.map((t=>t.y)))}}},Sp=t=>{if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const{min:{x:e,y:n},max:{x:r,y:i}}=Ap(t),o=r-e,a=i-n;return{width:o,height:a,x:e,y:n,x2:r,y2:i,cx:e+o/2,cy:n+a/2,cz:Math.max(o,a)+Math.min(o,a)/2}},Tp=(t,e,n)=>{if(t[n].length>7){t[n].shift();const r=t[n];let i=n;for(;r.length;)e[n]="A",t.splice(i+=1,0,["C",...r.splice(0,6)]);t.splice(n,1)}},Dp=t=>gp(t)&&t.every((([t])=>"MC".includes(t))),jp=(t,e,n)=>({x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}),zp=(t,e,n,r,i,o,a,s,l,c)=>{let u=t,f=e,h=n,p=r,d=s,m=l;const g=120*Math.PI/180,v=Math.PI/180*(+i||0);let y,b,w,x,$,_=[];if(c)[b,w,x,$]=c;else{y=jp(u,f,-v),u=y.x,f=y.y,y=jp(d,m,-v),d=y.x,m=y.y;const t=(u-d)/2,e=(f-m)/2;let n=t*t/(h*h)+e*e/(p*p);n>1&&(n=Math.sqrt(n),h*=n,p*=n);const r=h*h,i=p*p,s=(o===a?-1:1)*Math.sqrt(Math.abs((r*i-r*e*e-i*t*t)/(r*e*e+i*t*t)));x=s*h*e/p+(u+d)/2,$=s*-p*t/h+(f+m)/2,b=Math.asin(((f-$)/p*10**9>>0)/10**9),w=Math.asin(((m-$)/p*10**9>>0)/10**9),b=u<x?Math.PI-b:b,w=d<x?Math.PI-w:w,b<0&&(b=2*Math.PI+b),w<0&&(w=2*Math.PI+w),a&&b>w&&(b-=2*Math.PI),!a&&w>b&&(w-=2*Math.PI)}let M=w-b;if(Math.abs(M)>g){const t=w,e=d,n=m;w=b+g*(a&&w>b?1:-1),d=x+h*Math.cos(w),m=$+p*Math.sin(w),_=zp(d,m,h,p,i,0,a,e,n,[w,t,x,$])}M=w-b;const k=Math.cos(b),C=Math.sin(b),N=Math.cos(w),A=Math.sin(w),S=Math.tan(M/4),T=4/3*h*S,D=4/3*p*S,j=[u,f],z=[u+T*C,f-D*k],E=[d+T*A,m-D*N],L=[d,m];if(z[0]=2*j[0]-z[0],z[1]=2*j[1]-z[1],c)return[...z,...E,...L,..._];_=[...z,...E,...L,..._];const P=[];for(let t=0,e=_.length;t<e;t+=1)P[t]=t%2?jp(_[t-1],_[t],v).y:jp(_[t],_[t+1],v).x;return P},Ep=(t,e,n,r,i,o)=>{const a=.3333333333333333,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},Lp=(t,e,n,r)=>[...bp([t,e],[n,r],.5),n,r,n,r],Pp=(t,e)=>{const[n]=t,r=t.slice(1).map(Number),[i,o]=r;let a;const{x1:s,y1:l,x:c,y:u}=e;return"TQ".includes(n)||(e.qx=null,e.qy=null),"M"===n?(e.x=i,e.y=o,t):"A"===n?(a=[s,l,...r],["C",...zp(...a)]):"Q"===n?(e.qx=i,e.qy=o,a=[s,l,...r],["C",...Ep(...a)]):"L"===n?["C",...Lp(s,l,i,o)]:"Z"===n?["C",...Lp(s,l,c,u)]:t},Rp=t=>{if(Dp(t))return[...t];const e=yp(t),n={...vp},r=[];let i="",o=e.length;for(let t=0;t<o;t+=1){[i]=e[t],r[t]=i,e[t]=Pp(e[t],n),Tp(e,r,t),o=e.length;const a=e[t],s=a.length;n.x1=+a[s-2],n.y1=+a[s-1],n.x2=+a[s-4]||n.x1,n.y2=+a[s-3]||n.y1}return e},Ip=t=>{let e=0,n=0,r=0;return Rp(t).map((t=>"M"===t[0]?([,e,n]=t,0):(r=((t,e,n,r,i,o,a,s)=>3*((s-e)*(n+i)-(a-t)*(r+o)+r*(t-i)-n*(e-o)+s*(i+t/3)-a*(o+e/3))/20)(e,n,...t.slice(1)),[e,n]=t.slice(-2),r))).reduce(((t,e)=>t+e),0)},Op=t=>Ap(t).length,Fp=t=>Ip(Rp(t))>=0,qp=(t,e)=>Ap(t,e).point,Up=(t,e)=>{const n=Vh(t);let r=[...n],i=Op(r),o=r.length-1,a=0,s=0,l=n[0];const[c,u]=l.slice(-2),f={x:c,y:u};if(o<=0||!e||!Number.isFinite(e))return{segment:l,index:0,length:s,point:f,lengthAtSegment:a};if(e>=i)return r=n.slice(0,-1),a=Op(r),s=i-a,{segment:n[o],index:o,length:s,lengthAtSegment:a};const h=[];for(;o>0;)l=r[o],r=r.slice(0,-1),a=Op(r),s=i-a,i=a,h.push({segment:l,index:o,length:s,lengthAtSegment:a}),o-=1;return h.find((({lengthAtSegment:t})=>t<=e))},Hp=(t,e)=>{const n=Vh(t),r=yp(n),i=Op(n),o=t=>{const n=t.x-e.x,r=t.y-e.y;return n*n+r*r};let a,s=8,l={x:0,y:0},c=0,u=0,f=1/0;for(let t=0;t<=i;t+=s)a=qp(r,t),c=o(a),c<f&&(l=a,u=t,f=c);s/=2;let h,p,d=0,m=0,g=0,v=0;for(;s>.5;)d=u-s,h=qp(r,d),g=o(h),m=u+s,p=qp(r,m),v=o(p),d>=0&&g<f?(l=h,u=d,f=g):m<=i&&v<f?(l=p,u=m,f=v):s/=2;const y=Up(n,u);return{closest:l,distance:Math.sqrt(f),segment:y}},Yp=(t,e)=>Hp(t,e).closest,Vp=(t,e)=>Hp(t,e).segment,Bp=(t,e)=>Up(t,e).segment,Wp=(t,e)=>{const{distance:n}=Hp(t,e);return Math.abs(n)<.001},Zp=t=>{if("string"!=typeof t)return!1;const e=new Hh(t);for(Oh(e);e.index<e.max&&!e.err.length;)Uh(e);return!e.err.length&&"mM".includes(e.segments[0][0])},Xp=t=>Yh(t)&&t.slice(1).every((([t])=>t===t.toLowerCase())),Gp=(t,e)=>{let{round:n}=Th;if("off"===e||"off"===n)return[...t];n="number"==typeof e&&e>=0?e:n;const r="number"==typeof n&&n>=1?10**n:1;return t.map((t=>{const e=t.slice(1).map(Number).map((t=>n?Math.round(t*r)/r:Math.round(t)));return[t[0],...e]}))},Kp=(t,e)=>Gp(t,e).map((t=>t[0]+t.slice(1).join(" "))).join(""),Qp={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},Jp=(t,e,n)=>{const r=n||document,i=r.defaultView||window,o=Object.keys(Qp),a=t instanceof i.SVGElement,s=a?t.tagName:null;if(s&&o.every((t=>s!==t)))throw TypeError(`${Dh}: "${s}" is not SVGElement`);const l=r.createElementNS("http://www.w3.org/2000/svg","path"),c=a?s:t.type,u=Qp[c],f={type:c};a?(u.forEach((e=>{u.includes(e)&&(f[e]=t.getAttribute(e))})),Object.values(t.attributes).forEach((({name:t,value:e})=>{u.includes(t)||l.setAttribute(t,e)}))):(Object.assign(f,t),Object.keys(f).forEach((t=>{!u.includes(t)&&"type"!==t&&l.setAttribute(t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),f[t])})));let h="";const p=Th.round;return"circle"===c?h=Kp((t=>{const{cx:e,cy:n,r:r}=t;return[["M",e-r,n],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,-2*r,0]]})(f),p):"ellipse"===c?h=Kp((t=>{const{cx:e,cy:n,rx:r,ry:i}=t;return[["M",e-r,n],["a",r,i,0,1,0,2*r,0],["a",r,i,0,1,0,-2*r,0]]})(f),p):["polyline","polygon"].includes(c)?h=Kp((t=>{const e=[],n=(t.points||"").trim().split(/[\s|,]/).map(Number);let r=0;for(;r<n.length;)e.push([r?"L":"M",n[r],n[r+1]]),r+=2;return"polygon"===t.type?[...e,["z"]]:e})(f),p):"rect"===c?h=Kp((t=>{const e=+t.x||0,n=+t.y||0,r=+t.width,i=+t.height;let o=+t.rx,a=+t.ry;return o||a?(o=o||a,a=a||o,2*o>r&&(o-=(2*o-r)/2),2*a>i&&(a-=(2*a-i)/2),[["M",e+o,n],["h",r-2*o],["s",o,0,o,a],["v",i-2*a],["s",0,a,-o,a],["h",2*o-r],["s",-o,0,-o,-a],["v",2*a-i],["s",0,-a,o,-a]]):[["M",e,n],["h",r],["v",i],["H",e],["Z"]]})(f),p):"line"===c?h=Kp((t=>{const{x1:e,y1:n,x2:r,y2:i}=t;return[["M",e,n],["L",r,i]]})(f),p):"glyph"===c&&(h=a?t.getAttribute("d"):t.d),!!Zp(h)&&(l.setAttribute("d",h),e&&a&&(t.before(l,t),t.remove()),l)},td=t=>{const e=[];let n,r=-1;return t.forEach((t=>{"M"===t[0]?(n=[t],r+=1):n=[...n,t],e[r]=n})),e},ed=t=>{if(Xp(t))return[...t];const e=Vh(t);let n=0,r=0,i=0,o=0;return e.map((t=>{const e=t.slice(1).map(Number),[a]=t,s=a.toLowerCase();if("M"===a)return[n,r]=e,i=n,o=r,["M",n,r];let l=[];if(a!==s)if("a"===s)l=[s,e[0],e[1],e[2],e[3],e[4],e[5]-n,e[6]-r];else if("v"===s)l=[s,e[0]-r];else if("h"===s)l=[s,e[0]-n];else{l=[s,...e.map(((t,e)=>t-(e%2?r:n)))]}else"m"===a&&(i=e[0]+n,o=e[1]+r),l=[s,...e];const c=l.length;return"z"===s?(n=i,r=o):"h"===s?n+=l[1]:"v"===s?r+=l[1]:(n+=l[c-2],r+=l[c-1]),l}))},nd=(t,e,n,r)=>{const[i]=t,o=t=>Math.round(1e4*t)/1e4,a=t.slice(1).map((t=>+t)),s=e.slice(1).map((t=>+t)),{x1:l,y1:c,x2:u,y2:f,x:h,y:p}=n;let d=t;const[m,g]=s.slice(-2);if("TQ".includes(i)||(n.qx=null,n.qy=null),["V","H","S","T","Z"].includes(i))d=[i,...a];else if("L"===i)o(h)===o(m)?d=["V",g]:o(p)===o(g)&&(d=["H",m]);else if("C"===i){const[t,e]=s;"CS".includes(r)&&(o(t)===o(2*l-u)&&o(e)===o(2*c-f)||o(l)===o(2*u-h)&&o(c)===o(2*f-p))&&(d=["S",...s.slice(-4)]),n.x1=t,n.y1=e}else if("Q"===i){const[t,e]=s;n.qx=t,n.qy=e,"QT".includes(r)&&(o(t)===o(2*l-u)&&o(e)===o(2*c-f)||o(l)===o(2*u-h)&&o(c)===o(2*f-p))&&(d=["T",...s.slice(-2)])}return d},rd=(t,e)=>{const n=dp(t),r=yp(n),i={...vp},o=[],a=n.length;let s="",l="",c=0,u=0,f=0,h=0;for(let t=0;t<a;t+=1){[s]=n[t],o[t]=s,t&&(l=o[t-1]),n[t]=nd(n[t],r[t],i,l);const e=n[t],a=e.length;switch(i.x1=+e[a-2],i.y1=+e[a-1],i.x2=+e[a-4]||i.x1,i.y2=+e[a-3]||i.y1,s){case"Z":c=f,u=h;break;case"H":[,c]=e;break;case"V":[,u]=e;break;default:[c,u]=e.slice(-2).map(Number),"M"===s&&(f=c,h=u)}i.x=c,i.y=u}const p=Gp(n,e),d=Gp(ed(n),e);return p.map(((t,e)=>e?t.join("").length<d[e].join("").length?t:d[e]:t))},id=t=>{const e=t.slice(1).map(((e,n,r)=>n?[...r[n-1].slice(-2),...e.slice(1)]:[...t[0].slice(1),...e.slice(1)])).map((t=>t.map(((e,n)=>t[t.length-n-2*(1-n%2)])))).reverse();return[["M",...e[0].slice(0,2)],...e.map((t=>["C",...t.slice(2)]))]},od=t=>{const e=dp(t),n="Z"===e.slice(-1)[0][0],r=yp(e).map(((t,n)=>{const[r,i]=t.slice(-2).map(Number);return{seg:e[n],n:t,c:e[n][0],x:r,y:i}})).map(((t,e,r)=>{const i=t.seg,o=t.n,a=e&&r[e-1],s=r[e+1],l=t.c,c=r.length,u=e?r[e-1].x:r[c-1].x,f=e?r[e-1].y:r[c-1].y;let h=[];switch(l){case"M":h=n?["Z"]:[l,u,f];break;case"A":h=[l,...i.slice(1,-3),1===i[5]?0:1,u,f];break;case"C":h=s&&"S"===s.c?["S",i[1],i[2],u,f]:[l,i[3],i[4],i[1],i[2],u,f];break;case"S":h=!a||!"CS".includes(a.c)||s&&"S"===s.c?[l,o[1],o[2],u,f]:["C",o[3],o[4],o[1],o[2],u,f];break;case"Q":h=s&&"T"===s.c?["T",u,f]:[l,...i.slice(1,-2),u,f];break;case"T":h=!a||!"QT".includes(a.c)||s&&"T"===s.c?[l,u,f]:["Q",o[1],o[2],u,f];break;case"Z":h=["M",u,f];break;case"H":h=[l,u];break;case"V":h=[l,f];break;default:h=[l,...i.slice(1,-2),u,f]}return h}));return n?r.reverse():[r[0],...r.slice(1).reverse()]},ad=(t,e,n)=>{const[r,i,o]=n,[a,s,l]=((t,e)=>{let n=hp.Translate(...e.slice(0,-1));return[,,,n.m44]=e,n=t.multiply(n),[n.m41,n.m42,n.m43,n.m44]})(t,[...e,0,1]),c=s-i,u=l-o;return[(a-r)*(Math.abs(o)/Math.abs(u)||1)+r,c*(Math.abs(o)/Math.abs(u)||1)+i]},sd=(t,e)=>{let n,r,i,o,a,s,l=0,c=0;const u=dp(t),f=e&&Object.keys(e);if(!e||f&&!f.length)return[...u];const h=yp(u);if(!e.origin){const{origin:t}=Th;Object.assign(e,{origin:t})}const p=(t=>{let e=new hp;const{origin:n}=t,[r,i]=n,{translate:o}=t,{rotate:a}=t,{skew:s}=t,{scale:l}=t;return Array.isArray(o)&&o.length>=2&&o.every((t=>!Number.isNaN(+t)))&&o.some((t=>0!==t))?e=e.translate(...o):"number"==typeof o&&!Number.isNaN(o)&&(e=e.translate(o)),(a||s||l)&&(e=e.translate(r,i),Array.isArray(a)&&a.length>=2&&a.every((t=>!Number.isNaN(+t)))&&a.some((t=>0!==t))?e=e.rotate(...a):"number"==typeof a&&!Number.isNaN(a)&&(e=e.rotate(a)),Array.isArray(s)&&2===s.length&&s.every((t=>!Number.isNaN(+t)))&&s.some((t=>0!==t))?(e=s[0]?e.skewX(s[0]):e,e=s[1]?e.skewY(s[1]):e):"number"==typeof s&&!Number.isNaN(s)&&(e=e.skewX(s)),Array.isArray(l)&&l.length>=2&&l.every((t=>!Number.isNaN(+t)))&&l.some((t=>1!==t))?e=e.scale(...l):"number"==typeof l&&!Number.isNaN(l)&&(e=e.scale(l)),e=e.translate(-r,-i)),e})(e),{origin:d}=e,m={...vp};let g=[],v=0,y="",b=[];const w=[];if(!p.isIdentity){for(n=0,i=u.length;n<i;n+=1){g=u[n],u[n]&&([y]=g),w[n]=y,"A"===y&&(g=Pp(h[n],m),u[n]=Pp(h[n],m),Tp(u,w,n),h[n]=Pp(h[n],m),Tp(h,w,n),i=Math.max(u.length,h.length)),g=h[n],v=g.length,m.x1=+g[v-2],m.y1=+g[v-1],m.x2=+g[v-4]||m.x1,m.y2=+g[v-3]||m.y1;const t={s:u[n],c:u[n][0],x:m.x1,y:m.y1};b=[...b,t]}return b.map((t=>{if(y=t.c,g=t.s,"L"===y||"H"===y||"V"===y)return[a,s]=ad(p,[t.x,t.y],d),l!==a&&c!==s?g=["L",a,s]:c===s?g=["H",a]:l===a&&(g=["V",s]),l=a,c=s,g;for(r=1,o=g.length;r<o;r+=2)[l,c]=ad(p,[+g[r],+g[r+1]],d),g[r]=l,g[r+1]=c;return g}))}return[...u]},ld=t=>{const e=t.slice(0,2),n=t.slice(2,4),r=t.slice(4,6),i=t.slice(6,8),o=bp(e,n,.5),a=bp(n,r,.5),s=bp(r,i,.5),l=bp(o,a,.5),c=bp(a,s,.5),u=bp(l,c,.5);return[["C",...o,...l,...u],["C",...c,...s,...i]]};class cd{static CSSMatrix=hp;static getPathBBox=Sp;static getPathArea=Ip;static getTotalLength=Op;static getDrawDirection=Fp;static getPointAtLength=qp;static pathLengthFactory=Ap;static getPropertiesAtLength=Up;static getPropertiesAtPoint=Hp;static polygonLength=Zh;static polygonArea=Bh;static getClosestPoint=Yp;static getSegmentOfPoint=Vp;static getSegmentAtLength=Bp;static isPointInStroke=Wp;static isValidPath=Zp;static isPathArray=Yh;static isAbsoluteArray=pp;static isRelativeArray=Xp;static isCurveArray=Dp;static isNormalizedArray=gp;static shapeToPath=Jp;static parsePathString=Vh;static roundPath=Gp;static splitPath=td;static splitCubic=ld;static optimizePath=rd;static reverseCurve=id;static reversePath=od;static normalizePath=yp;static transformPath=sd;static pathToAbsolute=dp;static pathToRelative=ed;static pathToCurve=Rp;static pathToString=Kp;constructor(t,e){const n=e||{},r=typeof t>"u";if(r||!t.length)throw TypeError(`${Dh}: "pathValue" is ${r?"undefined":"empty"}`);const i=Vh(t);this.segments=i;const{width:o,height:a,cx:s,cy:l,cz:c}=this.getBBox(),{round:u,origin:f}=n;let h,p;if("auto"===u){const t=`${Math.floor(Math.max(o,a))}`.length;h=t>=4?0:4-t}else h=Number.isInteger(u)||"off"===u?u:Th.round;if(Array.isArray(f)&&f.length>=2){const[t,e,n]=f.map(Number);p=[Number.isNaN(t)?s:t,Number.isNaN(e)?l:e,Number.isNaN(n)?c:n]}else p=[s,l,c];return this.round=h,this.origin=p,this}getBBox(){return Sp(this.segments)}getTotalLength(){return Op(this.segments)}getPointAtLength(t){return qp(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=dp(t),this}toRelative(){const{segments:t}=this;return this.segments=ed(t),this}toCurve(){const{segments:t}=this;return this.segments=Rp(t),this}reverse(t){this.toAbsolute();const{segments:e}=this,n=td(e),r=n.length>1&&n,i=r?[...r].map(((e,n)=>t?n?od(e):[...e]:od(e))):[...e];let o=[];return o=r?i.flat(1):t?e:od(e),this.segments=[...o],this}normalize(){const{segments:t}=this;return this.segments=yp(t),this}optimize(){const{segments:t}=this;return this.segments=rd(t,this.round),this}transform(t){if(!t||"object"!=typeof t||"object"==typeof t&&!["translate","rotate","skew","scale"].some((e=>e in t)))return this;const{segments:e,origin:[n,r,i]}=this,o={};for(const[e,n]of Object.entries(t))"skew"===e&&Array.isArray(n)||("rotate"===e||"translate"===e||"origin"===e||"scale"===e)&&Array.isArray(n)?o[e]=n.map(Number):"origin"!==e&&"number"==typeof Number(n)&&(o[e]=Number(n));const{origin:a}=o;if(Array.isArray(a)&&a.length>=2){const[t,e,s]=a.map(Number);o.origin=[Number.isNaN(t)?n:t,Number.isNaN(e)?r:e,s||i]}else o.origin=[n,r,i];return this.segments=sd(e,o),this}flipX(){return this.transform({rotate:[0,180,0]}),this}flipY(){return this.transform({rotate:[180,0,0]}),this}toString(){return Kp(this.segments,this.round)}}const ud=new Map([["MSNBC",0],["CNN",1],["Other Cable",2],["Hard Broadcast News",3],["Soft Broadcast News",4],["Spanish News",5],["FOX",6],["Newsmax",7]]),fd="àáäâèéëêìíïîòóöôùúüûñç·/_,:;";function hd(t){let e=t.replace(/^\s+|\s+$/g,"");e=e.toLowerCase();for(let t=0,n=fd.length;t<n;t++)e=e.replace(new RegExp(fd.charAt(t),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(t));return String(e).replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function pd(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function dd(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function md(t,e,n){const r=t.slice();return r[34]=e[n],r[32]=n,r}function gd(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=vd(md(e,r,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=E()},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);N(t,n,e)},p(t,e){if(522&e[0]){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=md(t,r,o);i[o]?(i[o].p(a,e),Mt(i[o],1)):(i[o]=vd(a),i[o].c(),Mt(i[o],1),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i(t){for(let t=0;t<r.length;t+=1)Mt(i[t])},o:t,d(t){S(i,t),t&&A(n)}}}function vd(e){let n,r,i,o,a,s,l,c,u,f;return{c(){n=D("path"),s=D("path"),I(n,"class",r="link linkTo-"+hd(e[34].to.node)+" linkFrom-"+hd(e[34].from.node)+" svelte-43oxmo"),I(n,"stroke-width",i=e[34].w),I(n,"d",o=e[34].pathString),I(s,"class",l="arrow arrowTo-"+hd(e[34].to.node)+" arrowFrom-"+hd(e[34].from.node)+" svelte-43oxmo"),I(s,"d",c=e[9]([e[34].start,e[34].midpoint,e[34].end])),I(s,"marker-end","url(#triangle)")},m(t,r){N(t,n,r),N(t,s,r),u||(f=L(n,"introend",e[18]),u=!0)},p(t,e){2&e[0]&&r!==(r="link linkTo-"+hd(t[34].to.node)+" linkFrom-"+hd(t[34].from.node)+" svelte-43oxmo")&&I(n,"class",r),2&e[0]&&i!==(i=t[34].w)&&I(n,"stroke-width",i),2&e[0]&&o!==(o=t[34].pathString)&&I(n,"d",o),2&e[0]&&l!==(l="arrow arrowTo-"+hd(t[34].to.node)+" arrowFrom-"+hd(t[34].from.node)+" svelte-43oxmo")&&I(s,"class",l),2&e[0]&&c!==(c=t[9]([t[34].start,t[34].midpoint,t[34].end]))&&I(s,"d",c)},i(t){a||ft((()=>{a=Nt(n,Vu,{duration:1e3,delay:210}),a.start()}))},o:t,d(t){t&&A(n),t&&A(s),u=!1,f()}}}function yd(e){let n,r,i=e[2].filter(Md),o=[];for(let t=0;t<i.length;t+=1)o[t]=wd(dd(e,i,t));let a=e[2].filter(kd),s=[];for(let t=0;t<a.length;t+=1)s[t]=$d(pd(e,a,t));return{c(){n=D("g");for(let t=0;t<o.length;t+=1)o[t].c();r=E();for(let t=0;t<s.length;t+=1)s[t].c();I(n,"class","node-group")},m(t,e){N(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);M(n,r);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,e){if(3125&e[0]){let a;for(i=t[2].filter(Md),a=0;a<i.length;a+=1){const s=dd(t,i,a);o[a]?(o[a].p(s,e),Mt(o[a],1)):(o[a]=wd(s),o[a].c(),Mt(o[a],1),o[a].m(n,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}if(3125&e[0]){let r;for(a=t[2].filter(kd),r=0;r<a.length;r+=1){const i=pd(t,a,r);s[r]?(s[r].p(i,e),Mt(s[r],1)):(s[r]=$d(i),s[r].c(),Mt(s[r],1),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},i(t){for(let t=0;t<i.length;t+=1)Mt(o[t]);for(let t=0;t<a.length;t+=1)Mt(s[t])},o:t,d(t){t&&A(n),S(o,t),S(s,t)}}}function bd(t){let e,n,r,i,o,a=Cf(t[0].get(t[30].archetype))+"";return{c(){e=D("text"),n=j(a),I(e,"class",r="node-tooltip "+(t[5]===t[30].archetype?"active":"")+" "+(t[0].get(t[30].archetype)>=0?"positive":"negative")+" svelte-43oxmo"),I(e,"dx",i=t[30].r+3),I(e,"dy",o=5)},m(t,r){N(t,e,r),M(e,n)},p(t,o){5&o[0]&&a!==(a=Cf(t[0].get(t[30].archetype))+"")&&O(n,a),37&o[0]&&r!==(r="node-tooltip "+(t[5]===t[30].archetype?"active":"")+" "+(t[0].get(t[30].archetype)>=0?"positive":"negative")+" svelte-43oxmo")&&I(e,"class",r),4&o[0]&&i!==(i=t[30].r+3)&&I(e,"dx",i)},d(t){t&&A(e)}}}function wd(e){let n,r,i,a,s,l,c,u,f,h,p,d=e[30].archetype+"";function m(...t){return e[19](e[30],...t)}function g(...t){return e[20](e[30],...t)}let v=e[5]&&bd(e);return{c(){n=D("g"),r=D("circle"),l=D("text"),c=j(d),v&&v.c(),I(r,"class",i="node "+(e[4]?"active":"")+" svelte-43oxmo"),I(r,"r",a=e[30].r),I(l,"class","node-label svelte-43oxmo"),I(l,"dy",u=-(e[30].r+3)),I(n,"transform",f="translate("+e[30].x+", "+e[30].y+")")},m(t,e){N(t,n,e),M(n,r),M(n,l),M(l,c),v&&v.m(n,null),h||(p=[L(r,"mouseenter",m),L(r,"mouseleave",g)],h=!0)},p(t,o){e=t,16&o[0]&&i!==(i="node "+(e[4]?"active":"")+" svelte-43oxmo")&&I(r,"class",i),4&o[0]&&a!==(a=e[30].r)&&I(r,"r",a),4&o[0]&&d!==(d=e[30].archetype+"")&&O(c,d),4&o[0]&&u!==(u=-(e[30].r+3))&&I(l,"dy",u),e[5]?v?v.p(e,o):(v=bd(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),4&o[0]&&f!==(f="translate("+e[30].x+", "+e[30].y+")")&&I(n,"transform",f)},i(t){s||ft((()=>{s=Nt(r,Yu,{duration:1e3}),s.start()}))},o:t,d(t){t&&A(n),v&&v.d(),h=!1,o(p)}}}function xd(t){let e,n,r,i,o=Cf(t[0].get(t[30].archetype))+"";return{c(){e=D("text"),n=j(o),I(e,"class",r="node-tooltip "+(t[5]===t[30].archetype?"active":"")+" "+(t[0].get(t[30].archetype)>=0?"positive":"negative")+" svelte-43oxmo"),I(e,"dx",i=t[30].r+3)},m(t,r){N(t,e,r),M(e,n)},p(t,a){5&a[0]&&o!==(o=Cf(t[0].get(t[30].archetype))+"")&&O(n,o),37&a[0]&&r!==(r="node-tooltip "+(t[5]===t[30].archetype?"active":"")+" "+(t[0].get(t[30].archetype)>=0?"positive":"negative")+" svelte-43oxmo")&&I(e,"class",r),4&a[0]&&i!==(i=t[30].r+3)&&I(e,"dx",i)},d(t){t&&A(e)}}}function $d(e){let n,r,i,a,s,l,c,u,f,h,p,d=e[30].archetype+"";function m(...t){return e[21](e[30],...t)}function g(...t){return e[22](e[30],...t)}let v=e[5]&&xd(e);return{c(){n=D("g"),r=D("circle"),l=D("text"),c=j(d),v&&v.c(),I(r,"class",i="node "+(e[4]?"active":"")+" svelte-43oxmo"),I(r,"r",a=e[30].r),I(l,"class","node-label svelte-43oxmo"),I(l,"dy",u=e[30].r+18),I(n,"transform",f="translate("+e[30].x+", "+e[30].y+")")},m(t,e){N(t,n,e),M(n,r),M(n,l),M(l,c),v&&v.m(n,null),h||(p=[L(r,"mouseenter",m),L(r,"mouseleave",g)],h=!0)},p(t,o){e=t,16&o[0]&&i!==(i="node "+(e[4]?"active":"")+" svelte-43oxmo")&&I(r,"class",i),4&o[0]&&a!==(a=e[30].r)&&I(r,"r",a),4&o[0]&&d!==(d=e[30].archetype+"")&&O(c,d),4&o[0]&&u!==(u=e[30].r+18)&&I(l,"dy",u),e[5]?v?v.p(e,o):(v=xd(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),4&o[0]&&f!==(f="translate("+e[30].x+", "+e[30].y+")")&&I(n,"transform",f)},i(t){s||ft((()=>{s=Nt(r,Yu,{duration:1e3}),s.start()}))},o:t,d(t){t&&A(n),v&&v.d(),h=!1,o(p)}}}function _d(e){let n,r,i,o=e[6]&&gd(e),a=e[6]&&yd(e);return{c(){n=D("g"),o&&o.c(),r=z(),a&&a.c(),i=E(),I(n,"class","link-group"),I(n,"id","link-group")},m(t,e){N(t,n,e),o&&o.m(n,null),N(t,r,e),a&&a.m(t,e),N(t,i,e)},p(t,e){t[6]?o?(o.p(t,e),64&e[0]&&Mt(o,1)):(o=gd(t),o.c(),Mt(o,1),o.m(n,null)):o&&(o.d(1),o=null),t[6]?a?(a.p(t,e),64&e[0]&&Mt(a,1)):(a=yd(t),a.c(),Mt(a,1),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(t){Mt(o),Mt(a)},o:t,d(t){t&&A(n),o&&o.d(),t&&A(r),a&&a.d(t),t&&A(i)}}}const Md=t=>"No or Minimal News"!==t.node,kd=t=>"No or Minimal News"===t.node;function Cd(t,e,n){let r,i,o,a,s,l;const{width:u,height:f}=it("LayerCake");c(t,u,(t=>n(17,l=t))),c(t,f,(t=>n(16,s=t)));let{nodes:h}=e,{links:p}=e,{flatLinks:d}=e,{netFlowMap:m}=e;const g=Hr().range([1,25]),v=Xr().range([5,25]);let y=[];const b=l/1.75,w=Math.acos((2*Math.pow(b,2)-Math.pow(l,2))/(2*Math.pow(b,2))),x=w/(h.length-1),$=w/2-x/2;let _,M;function k(t,e){if(t.moveTo(e.from.x,e.from.y),"No or Minimal News"===e.link.to){const n=e.from.x>l/2?l:0;t.quadraticCurveTo(n,s/1.5,e.to.x,e.to.y)}else 1===Math.abs(+e.link.to-+e.link.from)?t.lineTo(e.to.x,e.to.y):t.quadraticCurveTo(l/2,.01+Math.random()*s,e.to.x,e.to.y);return t}const C=ss().x((t=>t.x)).y((t=>t.y)).curve(ds);function N(t,e){const r=hd(e.node),i=document.getElementById("link-group"),o=document.getElementsByClassName(`linkFrom-${r}`),s=document.getElementsByClassName(`arrowFrom-${r}`),l=document.getElementsByClassName(`linkTo-${r}`),c=document.getElementsByClassName(`arrowTo-${r}`),u=[];for(const t of o)t.classList.toggle("linkFrom"),u.push({selection:t});for(const t of l)t.classList.toggle("linkTo"),u.push({selection:t});for(const t of s)t.classList.toggle("arrowVisible"),u.push({selection:t});for(const t of c)t.classList.toggle("arrowVisible"),u.push({selection:t});for(const t of u)i.appendChild(t.selection);n(5,a=e.node)}function A(t,e){const r=hd(e.node),i=document.getElementsByClassName(`linkFrom-${r}`),o=document.getElementsByClassName(`arrowFrom-${r}`),s=document.getElementsByClassName(`linkTo-${r}`),l=document.getElementsByClassName(`arrowTo-${r}`);for(const t of i)t.classList.toggle("linkFrom");for(const t of s)t.classList.toggle("linkTo");for(const t of o)t.classList.toggle("arrowVisible");for(const t of l)t.classList.toggle("arrowVisible");n(5,a=!1)}nt((()=>{v.domain(le(h,(t=>t.value))),g.domain(le(p,(t=>t.value))),n(2,_=h.map((t=>{const e=ud.get(t.node);let n,r;const i=v(t.value);return"No or Minimal News"!==t.node?(n=l/2+b*Math.cos(x*e-Math.PI/2-$),r=(1+Math.sin(x*e-Math.PI/2-$))*b):(n=l/2,r=s-i),Object.assign(Object.assign({},t),{x:n,y:r,r:i})}))),n(15,M=new Map(_.map((t=>[t.node,t])))),n(1,y=p.map(((t,e)=>{const n=M.get(t.from),r=M.get(t.to),i=k(ts(),{from:n,to:r,link:t}).toString(),o=new cd(i),a=+o.getTotalLength().toPrecision(2),s=o.getPointAtLength(.48*a),l=o.getPointAtLength(.5*a),c=o.getPointAtLength(.52*a);return Object.assign(Object.assign({},t),{to:r,from:n,pathString:i,pathInstance:o,totalLength:a,start:s,midpoint:l,end:c,w:g(t.value)})}))),n(6,r=!0)}));return t.$$set=t=>{"nodes"in t&&n(12,h=t.nodes),"links"in t&&n(13,p=t.links),"flatLinks"in t&&n(14,d=t.flatLinks),"netFlowMap"in t&&n(0,m=t.netFlowMap)},t.$$.update=()=>{241668&t.$$.dirty[0]&&(v.domain(le(h,(t=>t.value))),g.domain(le(p,(t=>t.value))),n(2,_=h.map((t=>{const e=ud.get(t.node);let n,r;const i=v(t.value);return"No or Minimal News"!==t.node?(n=l/2+b*Math.cos(x*e-Math.PI/2-$),r=(1+Math.sin(x*e-Math.PI/2-$))*b):(n=l/2,r=s-i),Object.assign(Object.assign({},t),{x:n,y:r,r:i})}))),n(15,M=new Map(_.map((t=>[t.node,t])))),n(1,y=p.map(((t,e)=>{const n=M.get(t.from),r=M.get(t.to),i=k(ts(),{from:n,to:r,link:t}).toString(),o=new cd(i),a=+o.getTotalLength().toPrecision(2),s=o.getPointAtLength(.48*a),l=o.getPointAtLength(.5*a),c=o.getPointAtLength(.52*a);return Object.assign(Object.assign({},t),{to:r,from:n,pathString:i,pathInstance:o,totalLength:a,start:s,midpoint:l,end:c,w:g(t.value)})})))),10&t.$$.dirty[0]&&y.length>0&&y.length===i&&n(4,o=!0)},n(6,r=!1),n(3,i=0),n(4,o=!1),n(5,a=!1),[m,y,_,i,o,a,r,u,f,C,N,A,h,p,d,M,s,l,()=>n(3,i+=1),(t,e)=>N(0,t),(t,e)=>A(0,t),(t,e)=>N(0,t),(t,e)=>A(0,t)]}class Nd extends Pt{constructor(t){super(),Lt(this,t,Cd,_d,s,{nodes:12,links:13,flatLinks:14,netFlowMap:0},null,[-1,-1])}}function Ad(t){let e,n;return e=new Nd({props:{nodes:t[2],links:t[3],flatLinks:t[4],netFlowMap:t[9]}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.nodes=t[2]),8&n&&(r.links=t[3]),16&n&&(r.flatLinks=t[4]),512&n&&(r.netFlowMap=t[9]),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Sd(t){let e,n,r,i,o,a,s=t[10]&&Ad(t);return{c(){e=D("defs"),n=D("marker"),r=D("path"),i=z(),s&&s.c(),o=E(),I(r,"d","M 0 0 L 10 5 L 0 10 z"),I(r,"fill","black"),I(n,"id","triangle"),I(n,"viewBox","0 0 10 10"),I(n,"refX","1"),I(n,"refY","5"),I(n,"markerUnits","userSpaceOnUse"),I(n,"markerWidth","6"),I(n,"markerHeight","6"),I(n,"orient","auto")},m(t,l){N(t,e,l),M(e,n),M(n,r),N(t,i,l),s&&s.m(t,l),N(t,o,l),a=!0},p(t,e){t[10]?s?(s.p(t,e),1024&e&&Mt(s,1)):(s=Ad(t),s.c(),Mt(s,1),s.m(o.parentNode,o)):s&&($t(),kt(s,1,1,(()=>{s=null})),_t())},i(t){a||(Mt(s),a=!0)},o(t){kt(s),a=!1},d(t){t&&A(e),t&&A(i),s&&s.d(t),t&&A(o)}}}function Td(t){let e,n;return e=new Wa({props:{$$slots:{default:[Sd]},$$scope:{ctx:t}}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};5660&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Dd(t){let e,n;return e=new Hs({props:{caption:t[1],url:t[5],type:12===t[7]?"split-cols":"single-cols"}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.caption=t[1]),32&n&&(r.url=t[5]),128&n&&(r.type=12===t[7]?"split-cols":"single-cols"),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function jd(t){let e,n,r,i,o,a;n=new La({props:{padding:t[10]?t[0]:{},$$slots:{default:[Td]},$$scope:{ctx:t}}});let s=t[6]&&Dd(t);return{c(){e=T("div"),Dt(n.$$.fragment),i=z(),s&&s.c(),o=E(),I(e,"class",r="chart flow-chart "+t[8])},m(t,r){N(t,e,r),jt(n,e,null),N(t,i,r),s&&s.m(t,r),N(t,o,r),a=!0},p(t,[i]){const l={};1025&i&&(l.padding=t[10]?t[0]:{}),5660&i&&(l.$$scope={dirty:i,ctx:t}),n.$set(l),(!a||256&i&&r!==(r="chart flow-chart "+t[8]))&&I(e,"class",r),t[6]?s?(s.p(t,i),64&i&&Mt(s,1)):(s=Dd(t),s.c(),Mt(s,1),s.m(o.parentNode,o)):s&&($t(),kt(s,1,1,(()=>{s=null})),_t())},i(t){a||(Mt(n.$$.fragment,t),Mt(s),a=!0)},o(t){kt(n.$$.fragment,t),kt(s),a=!1},d(t){t&&A(e),zt(n),t&&A(i),s&&s.d(t),t&&A(o)}}}function zd(t,e,n){let r,i,{margins:o={top:50,right:0,bottom:50,left:0}}=e,{caption:a=""}=e,{nodes:s}=e,{links:l}=e,{flatLinks:c}=e,{url:u=""}=e,{includeCaption:f=!0}=e,{spanCol:h}=e,{customClass:p=""}=e;return nt((()=>{n(10,r=!0)})),t.$$set=t=>{"margins"in t&&n(0,o=t.margins),"caption"in t&&n(1,a=t.caption),"nodes"in t&&n(2,s=t.nodes),"links"in t&&n(3,l=t.links),"flatLinks"in t&&n(4,c=t.flatLinks),"url"in t&&n(5,u=t.url),"includeCaption"in t&&n(6,f=t.includeCaption),"spanCol"in t&&n(7,h=t.spanCol),"customClass"in t&&n(8,p=t.customClass)},t.$$.update=()=>{if(t.$$.dirty,12&t.$$.dirty){const t=ge(l,(t=>Ce(t,(t=>t.value))),(t=>t.to)),e=ge(l,(t=>Ce(t,(t=>t.value))),(t=>t.from));n(9,i=new Map(s.map((n=>[n.archetype,(t.has(n.archetype)?t.get(n.archetype):0)-(e.has(n.archetype)?e.get(n.archetype):0)]))))}},n(10,r=!1),[o,a,s,l,c,u,f,h,p,i,r]}class Ed extends Pt{constructor(t){super(),Lt(this,t,zd,jd,s,{margins:0,caption:1,nodes:2,links:3,flatLinks:4,url:5,includeCaption:6,spanCol:7,customClass:8})}}function Ld(t,e,n){const r=t.slice();return r[25]=e[n],r}function Pd(t,e,n){const r=t.slice();return r[25]=e[n],r[29]=n,r}function Rd(t){let e,n,r,i,o,a,s,l,c,u,f,h,p,d,m=Qs(t[13](t[7]))+"",g=Qs(t[13](t[6]))+"";function v(e){t[20](e)}function y(e){t[21](e)}let b={};return void 0!==t[7]&&(b.start=t[7]),void 0!==t[6]&&(b.end=t[6]),i=new ph({props:b}),at.push((()=>Tt(i,"start",v))),at.push((()=>Tt(i,"end",y))),{c(){e=T("div"),n=T("div"),n.textContent="Period",r=z(),Dt(i.$$.fragment),s=z(),l=T("div"),c=T("div"),u=j(m),f=z(),h=T("div"),p=j(g),I(n,"class","control-title svelte-o84lzr"),I(c,"class","label svelte-o84lzr"),I(h,"class","label svelte-o84lzr"),I(l,"class","labels svelte-o84lzr"),I(e,"id","period"),I(e,"class","control control-range svelte-o84lzr")},m(t,o){N(t,e,o),M(e,n),M(e,r),jt(i,e,null),M(e,s),M(e,l),M(l,c),M(c,u),M(l,f),M(l,h),M(h,p),d=!0},p(t,e){const n={};!o&&128&e&&(o=!0,n.start=t[7],ht((()=>o=!1))),!a&&64&e&&(a=!0,n.end=t[6],ht((()=>a=!1))),i.$set(n),(!d||128&e)&&m!==(m=Qs(t[13](t[7]))+"")&&O(u,m),(!d||64&e)&&g!==(g=Qs(t[13](t[6]))+"")&&O(p,g)},i(t){d||(Mt(i.$$.fragment,t),d=!0)},o(t){kt(i.$$.fragment,t),d=!1},d(t){t&&A(e),zt(i)}}}function Id(e){let n,r;return n=new on({props:{row:1}}),{c(){Dt(n.$$.fragment)},m(t,e){jt(n,t,e),r=!0},p:t,i(t){r||(Mt(n.$$.fragment,t),r=!0)},o(t){kt(n.$$.fragment,t),r=!1},d(t){zt(n,t)}}}function Od(t){let e,n;return e=new Ed({props:{nodes:t[10],links:t[12],flatLinks:t[11],spanCol:12,url:Hd,caption:t[3][0].value,customClass:"chart-large"}}),{c(){Dt(e.$$.fragment)},m(t,r){jt(e,t,r),n=!0},p(t,n){const r={};1024&n&&(r.nodes=t[10]),4096&n&&(r.links=t[12]),2048&n&&(r.flatLinks=t[11]),8&n&&(r.caption=t[3][0].value),e.$set(r)},i(t){n||(Mt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){zt(e,t)}}}function Fd(t){let e,n,r,i=t[25].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){2&e&&i!==(i=t[25].value+"")&&O(n,i)},d(t){t&&A(e)}}}function qd(t){let e,n,r,i=t[25].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){4&e&&i!==(i=t[25].value+"")&&O(n,i)},d(t){t&&A(e)}}}function Ud(t){let e,n,r,i,s,l,c,u,f,h,p,d,m,g,y,b,w,x,$,_;function k(e){t[19](e)}let C={id:"audience",title:De.controls["node-size"].title,labels:["Audience","Consumption"],info:De.controls["node-size"].description};void 0!==t[8]&&(C.checked=t[8]),c=new ln({props:C}),at.push((()=>Tt(c,"checked",k)));let D=t[9]&&t[5]&&Rd(t);const E=[Od,Id],P=[];function R(t,e){return t[9]&&t[5]?0:1}p=R(t),d=P[p]=E[p](t);let F=t[1],q=[];for(let e=0;e<F.length;e+=1)q[e]=Fd(Pd(t,F,e));let U=t[2],H=[];for(let e=0;e<U.length;e+=1)H[e]=qd(Ld(t,U,e));return{c(){e=T("div"),n=T("h1"),r=j(t[4]),i=z(),s=T("div"),l=T("div"),Dt(c.$$.fragment),f=z(),D&&D.c(),h=z(),d.c(),m=z(),g=T("div");for(let t=0;t<q.length;t+=1)q[t].c();y=z(),b=T("div");for(let t=0;t<H.length;t+=1)H[t].c();I(n,"class","section-title svelte-o84lzr"),I(l,"class","controls svelte-o84lzr"),I(s,"class","chart-wrapper svelte-o84lzr"),I(g,"class","copy svelte-o84lzr"),I(b,"class","references svelte-o84lzr"),I(e,"class","section section-3 svelte-o84lzr")},m(o,a){N(o,e,a),M(e,n),M(n,r),M(e,i),M(e,s),M(s,l),jt(c,l,null),M(l,f),D&&D.m(l,null),M(s,h),P[p].m(s,null),M(e,m),M(e,g);for(let t=0;t<q.length;t+=1)q[t].m(g,null);M(e,y),M(e,b);for(let t=0;t<H.length;t+=1)H[t].m(b,null);x=!0,$||(_=[v(w=hl.call(null,e,{once:t[0]})),L(e,"enter",t[22])],$=!0)},p(t,[e]){(!x||16&e)&&O(r,t[4]);const n={};!u&&256&e&&(u=!0,n.checked=t[8],ht((()=>u=!1))),c.$set(n),t[9]&&t[5]?D?(D.p(t,e),544&e&&Mt(D,1)):(D=Rd(t),D.c(),Mt(D,1),D.m(l,null)):D&&($t(),kt(D,1,1,(()=>{D=null})),_t());let i=p;if(p=R(t),p===i?P[p].p(t,e):($t(),kt(P[i],1,1,(()=>{P[i]=null})),_t(),d=P[p],d?d.p(t,e):(d=P[p]=E[p](t),d.c()),Mt(d,1),d.m(s,null)),2&e){let n;for(F=t[1],n=0;n<F.length;n+=1){const r=Pd(t,F,n);q[n]?q[n].p(r,e):(q[n]=Fd(r),q[n].c(),q[n].m(g,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=F.length}if(4&e){let n;for(U=t[2],n=0;n<U.length;n+=1){const r=Ld(t,U,n);H[n]?H[n].p(r,e):(H[n]=qd(r),H[n].c(),H[n].m(b,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=U.length}w&&a(w.update)&&1&e&&w.update.call(null,{once:t[0]})},i(t){x||(Mt(c.$$.fragment,t),Mt(D),Mt(d),x=!0)},o(t){kt(c.$$.fragment,t),kt(D),kt(d),x=!1},d(t){t&&A(e),zt(c),D&&D.d(),P[p].d(),S(q,t),S(H,t),$=!1,o(_)}}}let Hd="assets/data/EchoCh-nodes.csv";function Yd(t,e,n){let r,i,o,a,s,l,c,u,f,h,p,d,m,g=!1,{once:v}=e,{copy:y}=e,{refs:b}=e,{captions:w}=e,{title:x="Title"}=e;const $=Hr(),_=t=>{const e=new Date($(t));return e.setDate(1),e.setHours(0,0,0),e.setMilliseconds(0),+e};nt((async()=>{const t=await ee(Hd,Gt);u=t.map((t=>Object.assign(Object.assign({},t),{node:t.archetype,date:new Date(t.year,t.month,1)}))),n(14,f=de(u,(t=>+t.date),(t=>t.variable)));const[e,i]=le(Array.from(f).map((t=>t[0])));$.range([e,i]);const o=await ee("assets/data/EchoCh-links.csv",Gt);n(11,p=o.map((t=>Object.assign(Object.assign({},t),{start_date:new Date(t["start year"],t["start month"],1),end_date:new Date(t["end year"],t["end month"],1)}))).reduce(((t,e)=>{const n=Object.entries(e),r=n.filter((t=>!["start year","end year","start month","end month","from","start_date","end_date"].includes(t[0])&&null!==t[1])),i=n.filter((t=>"from"===t[0]))[0][1];return r.forEach((n=>{t.push({from:i,to:n[0],value:n[1],start_date:e.start_date,end_date:e.end_date})})),t}),[])),n(15,d=de(p,(t=>+t.start_date),(t=>+t.end_date))),n(5,r=!0),n(17,l=_(0)),n(16,c=_(1))}));return t.$$set=t=>{"once"in t&&n(0,v=t.once),"copy"in t&&n(1,y=t.copy),"refs"in t&&n(2,b=t.refs),"captions"in t&&n(3,w=t.captions),"title"in t&&n(4,x=t.title)},t.$$.update=()=>{256&t.$$.dirty&&n(18,o=i?"sizes":"mins_p_person"),128&t.$$.dirty&&n(17,l=_(a)),64&t.$$.dirty&&n(16,c=_(s)),507936&t.$$.dirty&&r&&(n(10,h=f.get(c).get(o)),n(12,m=d.get(l).get(c)))},n(5,r=!1),n(8,i=!0),n(7,a=0),n(6,s=1),[v,y,b,w,x,r,s,a,i,g,h,p,m,$,f,d,c,l,o,function(t){i=t,n(8,i)},function(t){a=t,n(7,a)},function(t){s=t,n(6,s)},()=>n(9,g=!0)]}class Vd extends Pt{constructor(t){super(),Lt(this,t,Yd,Ud,s,{once:0,copy:1,refs:2,captions:3,title:4})}}function Bd(t,e,n){const r=t.slice();return r[3]=e[n],r}function Wd(t,e,n){const r=t.slice();return r[3]=e[n],r}function Zd(t){let e,n,r,i=t[3].value+"";return{c(){e=T("p"),n=j(i),r=z(),I(e,"class","svelte-1o2ft12")},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){1&e&&i!==(i=t[3].value+"")&&O(n,i)},d(t){t&&A(e)}}}function Xd(t){let e,n,r,i=t[3].value+"";return{c(){e=T("p"),n=j(i),r=z()},m(t,i){N(t,e,i),M(e,n),M(e,r)},p(t,e){2&e&&i!==(i=t[3].value+"")&&O(n,i)},d(t){t&&A(e)}}}function Gd(e){let n,r,i,o,a,s,l,c=e[0],u=[];for(let t=0;t<c.length;t+=1)u[t]=Zd(Wd(e,c,t));let f=e[1],h=[];for(let t=0;t<f.length;t+=1)h[t]=Xd(Bd(e,f,t));return{c(){n=T("main"),r=T("div"),i=T("h2"),i.textContent="Methodology",o=z(),a=T("div");for(let t=0;t<u.length;t+=1)u[t].c();s=z(),l=T("div");for(let t=0;t<h.length;t+=1)h[t].c();I(i,"class","section-title svelte-1o2ft12"),I(a,"class","copy svelte-1o2ft12"),I(l,"class","references svelte-1o2ft12"),I(r,"class","section section-supplementary svelte-1o2ft12"),I(n,"id","supplementary"),I(n,"class","supplementary svelte-1o2ft12")},m(t,e){N(t,n,e),M(n,r),M(r,i),M(r,o),M(r,a);for(let t=0;t<u.length;t+=1)u[t].m(a,null);M(r,s),M(r,l);for(let t=0;t<h.length;t+=1)h[t].m(l,null)},p(t,[e]){if(1&e){let n;for(c=t[0],n=0;n<c.length;n+=1){const r=Wd(t,c,n);u[n]?u[n].p(r,e):(u[n]=Zd(r),u[n].c(),u[n].m(a,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const r=Bd(t,f,n);h[n]?h[n].p(r,e):(h[n]=Xd(r),h[n].c(),h[n].m(l,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}},i:t,o:t,d(t){t&&A(n),S(u,t),S(h,t)}}}function Kd(t,e,n){let{once:r}=e,{copy:i}=e,{refs:o}=e;return t.$$set=t=>{"once"in t&&n(2,r=t.once),"copy"in t&&n(0,i=t.copy),"refs"in t&&n(1,o=t.refs)},[i,o,r]}class Qd extends Pt{constructor(t){super(),Lt(this,t,Kd,Gd,s,{once:2,copy:0,refs:1})}}function Jd(t){let e,n,r,i,o,a,s,l,c,u,f,h,p,d;return e=new Ot({}),r=new fl({props:{title:t[0].title,authors:t[1],standfirst:t[0].standfirst,captions:t[0]["main-section"].captions}}),o=new Sh({props:{once:!0,copy:t[0]["section-one"].copy,refs:t[0]["section-one"].references,title:t[0]["section-one"].title,captions:t[0]["section-one"].captions}}),s=new lh({props:{once:!0,copy:t[0]["section-two"].copy,refs:t[0]["section-two"].references,title:t[0]["section-two"].title,captions:t[0]["section-two"].captions}}),c=new Vd({props:{once:!0,copy:t[0]["section-three"].copy,refs:t[0]["section-three"].references,title:t[0]["section-three"].title,captions:t[0]["section-three"].captions}}),f=new Qd({props:{once:!0,copy:t[0]["section-three"].copy,refs:t[0]["section-three"].references}}),p=new qt({}),{c(){Dt(e.$$.fragment),n=z(),Dt(r.$$.fragment),i=z(),Dt(o.$$.fragment),a=z(),Dt(s.$$.fragment),l=z(),Dt(c.$$.fragment),u=z(),Dt(f.$$.fragment),h=z(),Dt(p.$$.fragment)},m(t,m){jt(e,t,m),N(t,n,m),jt(r,t,m),N(t,i,m),jt(o,t,m),N(t,a,m),jt(s,t,m),N(t,l,m),jt(c,t,m),N(t,u,m),jt(f,t,m),N(t,h,m),jt(p,t,m),d=!0},p(t,[e]){const n={};1&e&&(n.title=t[0].title),2&e&&(n.authors=t[1]),1&e&&(n.standfirst=t[0].standfirst),1&e&&(n.captions=t[0]["main-section"].captions),r.$set(n);const i={};1&e&&(i.copy=t[0]["section-one"].copy),1&e&&(i.refs=t[0]["section-one"].references),1&e&&(i.title=t[0]["section-one"].title),1&e&&(i.captions=t[0]["section-one"].captions),o.$set(i);const a={};1&e&&(a.copy=t[0]["section-two"].copy),1&e&&(a.refs=t[0]["section-two"].references),1&e&&(a.title=t[0]["section-two"].title),1&e&&(a.captions=t[0]["section-two"].captions),s.$set(a);const l={};1&e&&(l.copy=t[0]["section-three"].copy),1&e&&(l.refs=t[0]["section-three"].references),1&e&&(l.title=t[0]["section-three"].title),1&e&&(l.captions=t[0]["section-three"].captions),c.$set(l);const u={};1&e&&(u.copy=t[0]["section-three"].copy),1&e&&(u.refs=t[0]["section-three"].references),f.$set(u)},i(t){d||(Mt(e.$$.fragment,t),Mt(r.$$.fragment,t),Mt(o.$$.fragment,t),Mt(s.$$.fragment,t),Mt(c.$$.fragment,t),Mt(f.$$.fragment,t),Mt(p.$$.fragment,t),d=!0)},o(t){kt(e.$$.fragment,t),kt(r.$$.fragment,t),kt(o.$$.fragment,t),kt(s.$$.fragment,t),kt(c.$$.fragment,t),kt(f.$$.fragment,t),kt(p.$$.fragment,t),d=!1},d(t){zt(e,t),t&&A(n),zt(r,t),t&&A(i),zt(o,t),t&&A(a),zt(s,t),t&&A(l),zt(c,t),t&&A(u),zt(f,t),t&&A(h),zt(p,t)}}}function tm(t,e,n){let{data:r}=e,{authors:i}=e;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"authors"in t&&n(1,i=t.authors)},[r,i]}return new class extends Pt{constructor(t){super(),Lt(this,t,tm,Jd,s,{data:0,authors:1})}}({target:document.body,props:{data:De,authors:[{name:"Jenny Allen",detail:["MIT Sloan School of Management, 100 Main St., Cambridge, MA 02142"]},{name:"Homa Hosseinmardi",detail:["Department of Computer and Information Science, University of Pennsylvania, Philadelphia, PA 19104","homahm@seas.upenn.edu"]},{name:"Baird Howland",detail:["The Annenberg School for Communication, University of Pennsylvania, Philadelphia, PA 19104"]},{name:"Markus Mobius",detail:["Microsoft Research New England, Cambridge, MA 02142"]},{name:"Dan Muise",detail:["Department of Communication, Stanford University, Stanford, CA 94305","muise.dan@gmail.comm"]},{name:"David M. Rothschild",detail:["Microsoft Research New York, New York, NY 10012"]},{name:"Duncan J. Watts",detail:["Department of Computer and Information Science, University of Pennsylvania, Philadelphia, PA 19104","The Annenberg School of Communication, University of Pennsylvania, Philadelphia, PA 19104","Operations, Information, and Decisions Department, University of Pennsylvania, Philadelphia, PA 19104","djwatts@seas.upenn.edu"]}]}})}();
//# sourceMappingURL=bundle.js.map
