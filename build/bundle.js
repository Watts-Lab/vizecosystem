var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function l(t,e,n){t.$$.on_destroy.push(a(e,n))}function c(t,e,n,i){if(t){const r=u(t,e,n,i);return t[0](r)}}function u(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function f(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function h(t,e,n,i,r,o){if(r){const s=u(e,n,i,o);t.p(s,r)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t){return null==t?"":t}function m(t,e,n){return t.set(n),e}function g(e){return e&&o(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),b=v?t=>requestAnimationFrame(t):t;const x=new Set;function w(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&b(w)}function _(t,e){t.appendChild(e)}function $(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function M(t){const e=T("style");return function(t,e){_(t.head||t,e)}($(t),e),e.sheet}function k(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function N(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function E(){return A(" ")}function j(){return A("")}function D(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function P(t){return function(e){return e.preventDefault(),t.call(this,e)}}function z(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e,n,i){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function F(t,e){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e)return void(i.selected=!0)}t.selectedIndex=-1}function I(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let U;function Y(){if(void 0===U){U=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){U=!0}}return U}function q(t,e,n){t.classList[n?"add":"remove"](e)}function H(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}const V=new Map;let W,B=0;function Z(t,e,n,i,r,o,s,a=0){const l=16.666/i;let c="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*o(t);c+=100*t+`%{${s(i,1-i)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,h=$(t),{stylesheet:p,rules:d}=V.get(h)||function(t,e){const n={stylesheet:M(e),rules:{}};return V.set(t,n),n}(h,t);d[f]||(d[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${i}ms linear ${r}ms 1 both`,B+=1,f}function X(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),B-=r,B||b((()=>{B||(V.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),V.clear())})))}function K(t){W=t}function G(){if(!W)throw new Error("Function called outside component initialization");return W}function Q(t){G().$$.on_mount.push(t)}function J(){const t=G();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=H(e,n,{cancelable:i});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function tt(t){return G().$$.context.get(t)}const et=[],nt=[],it=[],rt=[],ot=Promise.resolve();let st=!1;function at(t){it.push(t)}function lt(t){rt.push(t)}const ct=new Set;let ut,ft=0;function ht(){const t=W;do{for(;ft<et.length;){const t=et[ft];ft++,K(t),pt(t.$$)}for(K(null),et.length=0,ft=0;nt.length;)nt.pop()();for(let t=0;t<it.length;t+=1){const e=it[t];ct.has(e)||(ct.add(e),e())}it.length=0}while(et.length);for(;rt.length;)rt.pop()();st=!1,ct.clear(),K(t)}function pt(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(at)}}function dt(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const mt=new Set;let gt;function vt(){gt={r:0,c:[],p:gt}}function yt(){gt.r||r(gt.c),gt=gt.p}function bt(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function xt(t,e,n,i){if(t&&t.o){if(mt.has(t))return;mt.add(t),gt.c.push((()=>{mt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}const wt={duration:0};function _t(n,i,r){let s,a,l=i(n,r),c=!1,u=0;function f(){s&&X(n,s)}function h(){const{delay:i=0,duration:r=300,easing:o=e,tick:h=t,css:p}=l||wt;p&&(s=Z(n,0,1,r,i,o,p,u++)),h(0,1);const d=y()+i,m=d+r;a&&a.abort(),c=!0,at((()=>dt(n,!0,"start"))),a=function(t){let e;return 0===x.size&&b(w),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}((t=>{if(c){if(t>=m)return h(1,0),dt(n,!0,"end"),f(),c=!1;if(t>=d){const e=o((t-d)/r);h(e,1-e)}}return c}))}let p=!1;return{start(){p||(p=!0,X(n),o(l)?(l=l(),(ut||(ut=Promise.resolve(),ut.then((()=>{ut=null}))),ut).then(h)):h())},invalidate(){p=!1},end(){c&&(f(),c=!1)}}}function $t(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Mt(t){t&&t.c()}function kt(t,e,i,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(e,i),s||at((()=>{const e=l.map(n).filter(o);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(at)}function Ct(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nt(t,e){-1===t.$$.dirty[0]&&(et.push(t),st||(st=!0,ot.then(ht)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tt(e,n,o,s,a,l,c,u=[-1]){const f=W;K(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(h.root);let p=!1;if(h.ctx=o?o(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&Nt(e,t)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(C)}else h.fragment&&h.fragment.c();n.intro&&bt(e.$$.fragment),kt(e,n.target,n.anchor,n.customElement),ht()}K(f)}class St{$destroy(){Ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function At(e){let n,i,r,o,s,a,l,c,u,f,h,p,d;return{c(){n=T("header"),i=T("div"),r=T("div"),r.innerHTML='<a class="logo_anchor svelte-14bps0i" href="https://css.seas.upenn.edu/"><img class="logo_img svelte-14bps0i" src="https://css.seas.upenn.edu/wp-content/uploads/2021/09/WEBSITE-LOGO.png" alt="Computational Social Science Lab" id="logo"/></a>',o=E(),s=T("div"),s.innerHTML='<nav id="top-menu-nav"><ul id="top-menu" class="nav svelte-14bps0i"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2731 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu svelte-14bps0i"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1554 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2232 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1747 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-37 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu svelte-14bps0i"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-735 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-292 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377 svelte-14bps0i"><a class="sub-menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-344 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105 svelte-14bps0i"><a class="menu-item-anchor svelte-14bps0i" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li></ul></nav>',a=E(),l=T("div"),c=T("nav"),u=T("div"),u.innerHTML='<div class="line svelte-14bps0i"></div> \n                    <div class="line svelte-14bps0i"></div> \n                    <div class="line svelte-14bps0i"></div>',f=E(),h=T("ul"),h.innerHTML='<li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu-mobile"><li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu-mobile"><li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="sub-menu-list-mobile svelte-14bps0i"><a class="sub-item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="svelte-14bps0i"><a class="item-mobile svelte-14bps0i" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li>',L(r,"class","logo_container svelte-14bps0i"),L(s,"id","et-top-navigation"),L(s,"class","svelte-14bps0i"),L(u,"class","icon svelte-14bps0i"),L(h,"id","nav-mobile"),L(h,"class","nav-mobile nav-mobile-hidden svelte-14bps0i"),L(c,"id","top-menu-nav-mobile"),L(c,"class","svelte-14bps0i"),L(l,"id","et-top-navigation-mobile"),L(l,"class","svelte-14bps0i"),L(i,"class","container clearfix et_menu_container svelte-14bps0i"),L(n,"id","main-header"),L(n,"data-height-onload","84"),L(n,"data-height-loaded","true"),L(n,"data-fixed-height-onload","84"),O(n,"top","0px"),L(n,"class","svelte-14bps0i")},m(t,m){k(t,n,m),_(n,i),_(i,r),_(i,o),_(i,s),_(i,a),_(i,l),_(l,c),_(c,u),_(c,f),_(c,h),p||(d=D(u,"click",e[0]),p=!0)},p:t,i:t,o:t,d(t){t&&C(n),p=!1,d()}}}function Et(t){let e=null;return Q((()=>{e=document.getElementById("nav-mobile")})),[function(t){const{classList:n}=e;n.contains("nav-mobile-active")?(n.remove("nav-mobile-active"),n.add("nav-mobile-hidden")):(n.add("nav-mobile-active"),n.remove("nav-mobile-hidden"))}]}class jt extends St{constructor(t){super(),Tt(this,t,Et,At,s,{})}}function Dt(e){let n;return{c(){n=T("footer"),n.innerHTML='<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_footer et_pb_with_background et_section_regular et_pb_section--with-menu svelte-m2njio"><div class="et_pb_row et_pb_row_0_tb_footer et_pb_row--with-menu et_pb_row_4col svelte-m2njio" style="z-index: 3;"><div class="et_pb_column et_pb_column_1_4 et_pb_column_0_tb_footer global-footer-column-1 et_pb_css_mix_blend_mode_passthrough svelte-m2njio"><div class="et_pb_module et_pb_image et_pb_image_0_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.seas.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3438 svelte-m2njio"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_1_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.asc.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3440 svelte-m2njio"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_2_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.wharton.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="111" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton-300x69.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3439 svelte-m2njio"/></span></a></div></div> \n\n            <div class="et_pb_column et_pb_column_1_4 et_pb_column_1_tb_footer global-footer-column-2 et_pb_css_mix_blend_mode_passthrough et_pb_column--with-menu svelte-m2njio"><div class="et_pb_module et_pb_text et_pb_text_0_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><h2 class="svelte-m2njio">Navigate</h2></div></div> \n                <div class="et_pb_module et_pb_divider et_pb_divider_0_tb_footer et_pb_divider_position_ et_pb_space svelte-m2njio"><div class="et_pb_divider_internal svelte-m2njio"></div></div> \n                <div class="et_pb_module et_pb_menu et_pb_menu_0_tb_footer footer-vertical-menu et_pb_bg_layout_light et_pb_text_align_left et_dropdown_animation_fade et_pb_menu--without-logo et_pb_menu--style-left_aligned svelte-m2njio"><div class="et_pb_menu_inner_container clearfix"><div class="et_pb_menu__wrap"><div class="et_pb_menu__menu svelte-m2njio"><nav class="et-menu-nav svelte-m2njio"><ul id="menu-footer-menu-new" class="et-menu nav svelte-m2njio"><li id="menu-item-3425" class="et_pb_menu_page_id-2233 menu-item menu-item-type-post_type menu-item-object-page menu-item-3425 svelte-m2njio"><a href="https://css.seas.upenn.edu/about/" class="svelte-m2njio">About</a></li> \n                                        <li id="menu-item-3426" class="et_pb_menu_page_id-1732 menu-item menu-item-type-post_type menu-item-object-page menu-item-3426 svelte-m2njio"><a href="https://css.seas.upenn.edu/people/" class="svelte-m2njio">People</a></li> \n                                        <li id="menu-item-3430" class="et_pb_menu_page_id-22 menu-item menu-item-type-post_type menu-item-object-page menu-item-3430 svelte-m2njio"><a href="https://css.seas.upenn.edu/research/" class="svelte-m2njio">Research</a></li> \n                                        <li id="menu-item-3428" class="et_pb_menu_page_id-65 menu-item menu-item-type-post_type menu-item-object-page menu-item-3428 svelte-m2njio"><a href="https://css.seas.upenn.edu/partnerships/" class="svelte-m2njio">Partners</a></li> \n                                        <li id="menu-item-3429" class="et_pb_menu_page_id-52 menu-item menu-item-type-post_type menu-item-object-page menu-item-3429 svelte-m2njio"><a href="https://css.seas.upenn.edu/publications/" class="svelte-m2njio">Publications</a></li> \n                                        <li id="menu-item-3427" class="et_pb_menu_page_id-92 menu-item menu-item-type-post_type menu-item-object-page menu-item-3427 svelte-m2njio"><a href="https://css.seas.upenn.edu/blog-news-events/" class="svelte-m2njio">News</a></li></ul></nav></div></div></div></div></div> \n    \n    <div class="et_pb_column et_pb_column_1_4 et_pb_column_2_tb_footer global-footer-column-3 et_pb_css_mix_blend_mode_passthrough svelte-m2njio"><div class="et_pb_module et_pb_text et_pb_text_1_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><h2 class="svelte-m2njio">Contact</h2></div></div> \n        <div class="et_pb_module et_pb_divider et_pb_divider_1_tb_footer et_pb_divider_position_ et_pb_space svelte-m2njio"><div class="et_pb_divider_internal svelte-m2njio"></div></div> \n        <div class="et_pb_module et_pb_text et_pb_text_2_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p class="svelte-m2njio">3401 Walnut Street<br/>Suite 417B<br/>Philadelphia PA, 19104</p> \n                <p class="svelte-m2njio">CSSLab@seas.upenn.edu</p> \n                <p class="svelte-m2njio">(215) 573-7098</p></div></div></div></div> \n    <div class="et_pb_row et_pb_row_1_tb_footer et_pb_equal_columns svelte-m2njio"><div class="et_pb_column et_pb_column_4_4 et_pb_column_4_tb_footer et_pb_css_mix_blend_mode_passthrough et-last-child"><div class="et_pb_module et_pb_text et_pb_text_4_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p style="text-align: center;" class="svelte-m2njio"><a href="https://www.upenn.edu/" class="svelte-m2njio">Penn Homepage</a> \n                        <a href="https://www.upenn.edu/about/disclaimer" class="svelte-m2njio">Disclaimer</a> \n                        <a href="https://www.publicsafety.upenn.edu/contact/" class="svelte-m2njio">Emergency Services</a> \n                        <a href="https://www.upenn.edu/about/privacy-policy" class="svelte-m2njio">Privacy Policy</a> \n                        <a href="https://accessibility.web-resources.upenn.edu/get-help" class="svelte-m2njio">Report Accessibility Issues and Get Help</a> \n                        <a href="https://www.upenn.edu/about/report-copyright-infringement" class="svelte-m2njio">Report Copyright Infringement</a></p></div></div> \n            <div class="et_pb_module et_pb_text et_pb_text_5_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p style="text-align: center;" class="svelte-m2njio"><em><strong></strong></em></p> \n                    <p style="text-align: center;" class="svelte-m2njio"><em><a href="https://css.seas.upenn.edu/research-assistant-positions/" class="svelte-m2njio"><strong>Interested in working at the CSSLab?</strong> Click here to view opportunities for Penn students</a></em></p></div></div></div></div></div></div>',L(n,"class","et-l et-l--footer svelte-m2njio")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&C(n)}}}class Pt extends St{constructor(t){super(),Tt(this,t,null,Dt,s,{})}}var zt={},Lt={};function Rt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Ot(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Ft(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function It(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Ft(-t,6):t>9999?"+"+Ft(t,6):Ft(t,4)}(t.getUTCFullYear())+"-"+Ft(t.getUTCMonth()+1,2)+"-"+Ft(t.getUTCDate(),2)+(r?"T"+Ft(e,2)+":"+Ft(n,2)+":"+Ft(i,2)+"."+Ft(r,3)+"Z":i?"T"+Ft(e,2)+":"+Ft(n,2)+":"+Ft(i,2)+"Z":n||e?"T"+Ft(e,2)+":"+Ft(n,2)+"Z":"")}var Ut=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return Lt;if(c)return c=!1,zt;var e,i,r=s;if(34===t.charCodeAt(r)){for(;s++<o&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=o?l=!0:10===(i=t.charCodeAt(s++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(s)&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if(10===(i=t.charCodeAt(e=s++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(s)&&++s;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==Lt;){for(var f=[];i!==zt&&i!==Lt;)f.push(i),i=u();e&&null==(f=e(f,a++))||r.push(f)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?It(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=Rt(t);return function(i,r){return e(n(i),r,t)}}(t,e):Rt(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=Ot(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Ot(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}}(","),Yt=Ut.parse;function qt(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ht&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t}const Ht=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Vt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Wt(t,e){return fetch(t,e).then(Vt)}var Bt,Zt=(Bt=Yt,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Wt(t,e).then((function(t){return Bt(t,n)}))});function Xt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gt(t){let e,n,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}return 2!==t.length?(e=Xt,n=(e,n)=>Xt(t(e),n),i=(e,n)=>t(e)-n):(e=t===Xt||t===Kt?t:Qt,n=t,i=t),{left:r,center:function(t,e,n=0,o=t.length){const s=r(t,e,n,o-1);return s>n&&i(t[s-1],e)>-i(t[s],e)?s-1:s},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}}}function Qt(){return 0}const Jt=Gt(Xt).right;Gt((function(t){return null===t?NaN:+t})).center;var te=Jt;class ee{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=e[i],o=t+r,s=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);s&&(e[n++]=s),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,n=t[--r],o=e+n,i=n-(o-e),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(n=2*i,e=o+n,n==e-o&&(o=e))}return o}}class ne extends Map{constructor(t,e=re){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(ie(this,t))}has(t){return super.has(ie(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n);t.has(i)&&(n=t.get(i),t.delete(i));return n}(this,t))}}function ie({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function re(t){return null!==t&&"object"==typeof t?t.valueOf():t}function oe(t){return t}function se(t,...e){return le(t,oe,oe,e)}function ae(t,...e){return le(t,Array.from,oe,e)}function le(t,e,n,i){return function t(r,o){if(o>=i.length)return n(r);const s=new ne,a=i[o++];let l=-1;for(const t of r){const e=a(t,++l,r),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,o));return e(s)}(t,0)}var ce=Math.sqrt(50),ue=Math.sqrt(10),fe=Math.sqrt(2);function he(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=ce?10:o>=ue?5:o>=fe?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=ce?10:o>=ue?5:o>=fe?2:1)}function pe(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=ce?r*=10:o>=ue?r*=5:o>=fe&&(r*=2),e<t?-r:r}function de(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function me(e){let n,i;return{c(){n=T("h1"),i=A(e[0]),L(n,"class","svelte-wev0vk")},m(t,e){k(t,n,e),_(n,i)},p(t,[e]){1&e&&R(i,t[0])},i:t,o:t,d(t){t&&C(n)}}}function ge(t,e,n){let{title:i}=e;return t.$$set=t=>{"title"in t&&n(0,i=t.title)},[i]}class ve extends St{constructor(t){super(),Tt(this,t,ge,me,s,{title:0})}}function ye(e){let n,i,r,o,s,a,l;return{c(){n=T("div"),i=T("a"),r=A("Read the original research\n    "),o=S("svg"),s=S("path"),a=S("polyline"),l=S("line"),L(s,"d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"),L(a,"points","15 3 21 3 21 9"),L(l,"x1","10"),L(l,"y1","14"),L(l,"x2","21"),L(l,"y2","3"),L(o,"xmlns","http://www.w3.org/2000/svg"),L(o,"viewBox","0 0 24 24"),L(o,"fill","none"),L(o,"stroke","currentColor"),L(o,"stroke-width","2"),L(o,"stroke-linecap","round"),L(o,"stroke-linejoin","round"),L(o,"class","feather feather-external-link svelte-mwaz07"),L(i,"class","btn svelte-mwaz07"),L(i,"href",e[0]),L(i,"target","_top"),L(n,"class","btn-container svelte-mwaz07")},m(t,e){k(t,n,e),_(n,i),_(i,r),_(i,o),_(o,s),_(o,a),_(o,l)},p(t,[e]){1&e&&L(i,"href",t[0])},i:t,o:t,d(t){t&&C(n)}}}function be(t,e,n){let{url:i}=e;return t.$$set=t=>{"url"in t&&n(0,i=t.url)},[i]}class xe extends St{constructor(t){super(),Tt(this,t,be,ye,s,{url:0})}}function we(t,e,n){const i=t.slice();return i[1]=e[n],i}function _e(t){let e,n,i=t[1].value+"";return{c(){e=T("p"),n=A(i),L(e,"class","svelte-hixzrs")},m(t,i){k(t,e,i),_(e,n)},p(t,e){1&e&&i!==(i=t[1].value+"")&&R(n,i)},d(t){t&&C(e)}}}function $e(t){let e,n,i,r,o=t[0],s=[];for(let e=0;e<o.length;e+=1)s[e]=_e(we(t,o,e));return i=new xe({props:{url:"https://www.pnas.org/doi/10.1073/pnas.2101967118"}}),{c(){e=T("div");for(let t=0;t<s.length;t+=1)s[t].c();n=E(),Mt(i.$$.fragment),L(e,"class","standfirst-wrapper svelte-hixzrs")},m(t,o){k(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);_(e,n),kt(i,e,null),r=!0},p(t,[i]){if(1&i){let r;for(o=t[0],r=0;r<o.length;r+=1){const a=we(t,o,r);s[r]?s[r].p(a,i):(s[r]=_e(a),s[r].c(),s[r].m(e,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},i(t){r||(bt(i.$$.fragment,t),r=!0)},o(t){xt(i.$$.fragment,t),r=!1},d(t){t&&C(e),N(s,t),Ct(i)}}}function Me(t,e,n){let{standfirst:i}=e;return t.$$set=t=>{"standfirst"in t&&n(0,i=t.standfirst)},[i]}class ke extends St{constructor(t){super(),Tt(this,t,Me,$e,s,{standfirst:0})}}function Ce(t,e,n){const i=t.slice();return i[1]=e[n],i[3]=n,i}function Ne(t,e,n){const i=t.slice();return i[4]=e[n],i}function Te(t){let e,n,i=t[4]+"";return{c(){e=T("p"),n=A(i),L(e,"class","detail-list-value svelte-1j6g9m2")},m(t,i){k(t,e,i),_(e,n)},p(t,e){1&e&&i!==(i=t[4]+"")&&R(n,i)},d(t){t&&C(e)}}}function Se(t){let e,n,i,o,s,a,l,c,u,f=t[1].name+"",h=t[1].detail,p=[];for(let e=0;e<h.length;e+=1)p[e]=Te(Ne(t,h,e));return{c(){e=T("div"),n=T("p"),i=A(f),o=E(),s=T("div"),a=T("div");for(let t=0;t<p.length;t+=1)p[t].c();l=E(),L(n,"class","author-name svelte-1j6g9m2"),L(a,"class","detail-list svelte-1j6g9m2"),L(s,"class","detail svelte-1j6g9m2"),L(e,"class","author-container svelte-1j6g9m2")},m(t,r){k(t,e,r),_(e,n),_(n,i),_(e,o),_(e,s),_(s,a);for(let t=0;t<p.length;t+=1)p[t].m(a,null);_(e,l),c||(u=[D(e,"mouseover",Ee),D(e,"focus",Ee),D(e,"mouseout",je),D(e,"blur",je)],c=!0)},p(t,e){if(1&e&&f!==(f=t[1].name+"")&&R(i,f),1&e){let n;for(h=t[1].detail,n=0;n<h.length;n+=1){const i=Ne(t,h,n);p[n]?p[n].p(i,e):(p[n]=Te(i),p[n].c(),p[n].m(a,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=h.length}},d(t){t&&C(e),N(p,t),c=!1,r(u)}}}function Ae(e){let n,i=e[0],r=[];for(let t=0;t<i.length;t+=1)r[t]=Se(Ce(e,i,t));return{c(){n=T("div");for(let t=0;t<r.length;t+=1)r[t].c();L(n,"class","authors svelte-1j6g9m2")},m(t,e){k(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(1&e){let o;for(i=t[0],o=0;o<i.length;o+=1){const s=Ce(t,i,o);r[o]?r[o].p(s,e):(r[o]=Se(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&C(n),N(r,t)}}}function Ee(t){t.target.classList.add("active")}function je(t){t.target.classList.remove("active")}function De(t,e,n){let{authors:i}=e;return t.$$set=t=>{"authors"in t&&n(0,i=t.authors)},[i]}class Pe extends St{constructor(t){super(),Tt(this,t,De,Ae,s,{authors:0})}}const ze=[];function Le(e,n=t){let i;const r=new Set;function o(t){if(s(e,t)&&(e=t,i)){const t=!ze.length;for(const t of r)t[1](),ze.push(t,e);if(t){for(let t=0;t<ze.length;t+=2)ze[t][0](ze[t+1]);ze.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const l=[s,a];return r.add(l),1===r.size&&(i=n(o)||t),s(e),()=>{r.delete(l),0===r.size&&(i(),i=null)}}}}function Re(e,n,i){const s=!Array.isArray(e),l=s?[e]:e,c=n.length<2;return u=e=>{let i=!1;const u=[];let f=0,h=t;const p=()=>{if(f)return;h();const i=n(s?u[0]:u,e);c?e(i):h=o(i)?i:t},d=l.map(((t,e)=>a(t,(t=>{u[e]=t,f&=~(1<<e),i&&p()}),(()=>{f|=1<<e}))));return i=!0,p(),function(){r(d),h()}},{subscribe:Le(i,u).subscribe};var u}function Oe(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function Fe(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function Ie(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(e),r=i.length;let o,s,a,l,c,u,f,h;const p=t.length;for(o=0;o<r;o+=1){for(l=i[o],f=e[l],c=null,u=null,s=0;s<p;s+=1)if(h=f(t[s]),Array.isArray(h)){const t=h.length;for(a=0;a<t;a+=1)!1!==h[a]&&void 0!==h[a]&&null!==h[a]&&!1===Number.isNaN(h[a])&&((null===c||h[a]<c)&&(c=h[a]),(null===u||h[a]>u)&&(u=h[a]))}else!1!==h&&null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===u||h>u)&&(u=h));n[l]=[c,u]}return n}function Ue(t,e,n){const i=Object.keys(n).reduce(((t,i)=>{const r=function(t){return"function"==typeof t.bandwidth?"ordinal":(e=Object.keys(t),n=["domain","range","unknown","copy"],e.length===n.length&&e.every((t=>n.includes(t)))?"ordinal":"other");var e,n}(n[i]);return t[r]||(t[r]={}),t[r][i]=e[i],t}),{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=function(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(e),o=r.length;let s,a,l,c,u,f,h;const p=t.length;for(s=0;s<o;s+=1){for(h=new Set,c=r[s],u=e[c],a=0;a<p;a+=1)if(f=u(t[a]),Array.isArray(f)){const t=f.length;for(l=0;l<t;l+=1)h.add(f[l])}else h.add(f);const o=Array.from(h);i[c]=!0===n?o.sort():o}return i}(t,i.ordinal)),i.other&&(r={...r,...Ie(t,i.other)}),r}function Ye(t){return function([e,n]){return"function"==typeof n&&(n=n(e[t])),e?function(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}(e[t],n):n}}function qe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function He(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Ve=Symbol("implicit");function We(){var t=new ne,e=[],n=[],i=Ve;function r(r){let o=t.get(r);if(void 0===o){if(i!==Ve)return i;t.set(r,o=e.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new ne;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return We(e,n).unknown(i)},qe.apply(r,arguments),r}function Be(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ze(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Xe(){}var Ke=.7,Ge=1/Ke,Qe="\\s*([+-]?\\d+)\\s*",Je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",en=/^#([0-9a-f]{3,8})$/,nn=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),rn=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),on=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Je}\\)$`),sn=new RegExp(`^rgba\\(${tn},${tn},${tn},${Je}\\)$`),an=new RegExp(`^hsl\\(${Je},${tn},${tn}\\)$`),ln=new RegExp(`^hsla\\(${Je},${tn},${tn},${Je}\\)$`),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function un(){return this.rgb().formatHex()}function fn(){return this.rgb().formatRgb()}function hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=en.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?pn(e):3===n?new vn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?dn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?dn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nn.exec(t))?new vn(e[1],e[2],e[3],1):(e=rn.exec(t))?new vn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=on.exec(t))?dn(e[1],e[2],e[3],e[4]):(e=sn.exec(t))?dn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=an.exec(t))?$n(e[1],e[2]/100,e[3]/100,1):(e=ln.exec(t))?$n(e[1],e[2]/100,e[3]/100,e[4]):cn.hasOwnProperty(t)?pn(cn[t]):"transparent"===t?new vn(NaN,NaN,NaN,0):null}function pn(t){return new vn(t>>16&255,t>>8&255,255&t,1)}function dn(t,e,n,i){return i<=0&&(t=e=n=NaN),new vn(t,e,n,i)}function mn(t){return t instanceof Xe||(t=hn(t)),t?new vn((t=t.rgb()).r,t.g,t.b,t.opacity):new vn}function gn(t,e,n,i){return 1===arguments.length?mn(t):new vn(t,e,n,null==i?1:i)}function vn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function yn(){return`#${_n(this.r)}${_n(this.g)}${_n(this.b)}`}function bn(){const t=xn(this.opacity);return`${1===t?"rgb(":"rgba("}${wn(this.r)}, ${wn(this.g)}, ${wn(this.b)}${1===t?")":`, ${t})`}`}function xn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _n(t){return((t=wn(t))<16?"0":"")+t.toString(16)}function $n(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new kn(t,e,n,i)}function Mn(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);if(t instanceof Xe||(t=hn(t)),!t)return new kn;if(t instanceof kn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new kn(s,a,l,t.opacity)}function kn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Cn(t){return(t=(t||0)%360)<0?t+360:t}function Nn(t){return Math.max(0,Math.min(1,t||0))}function Tn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Be(Xe,hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:un,formatHex:un,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Mn(this).formatHsl()},formatRgb:fn,toString:fn}),Be(vn,gn,Ze(Xe,{brighter(t){return t=null==t?Ge:Math.pow(Ge,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(wn(this.r),wn(this.g),wn(this.b),xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yn,formatHex:yn,formatHex8:function(){return`#${_n(this.r)}${_n(this.g)}${_n(this.b)}${_n(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:bn,toString:bn})),Be(kn,(function(t,e,n,i){return 1===arguments.length?Mn(t):new kn(t,e,n,null==i?1:i)}),Ze(Xe,{brighter(t){return t=null==t?Ge:Math.pow(Ge,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ke:Math.pow(Ke,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new vn(Tn(t>=240?t-240:t+120,r,i),Tn(t,r,i),Tn(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new kn(Cn(this.h),Nn(this.s),Nn(this.l),xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xn(this.opacity);return`${1===t?"hsl(":"hsla("}${Cn(this.h)}, ${100*Nn(this.s)}%, ${100*Nn(this.l)}%${1===t?")":`, ${t})`}`}}));var Sn=t=>()=>t;function An(t){return 1==(t=+t)?En:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Sn(isNaN(e)?n:e)}}function En(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Sn(isNaN(t)?e:t)}var jn=function t(e){var n=An(e);function i(t,e){var i=n((t=gn(t)).r,(e=gn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=En(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function Dn(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function Pn(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Un(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}function zn(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Ln(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Rn(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Un(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(On.source,"g");function In(t,e){var n,i,r,o=On.lastIndex=Fn.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=On.exec(t))&&(i=Fn.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ln(n,i)})),o=Fn.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function Un(t,e){var n,i=typeof e;return null==e||"boolean"===i?Sn(e):("number"===i?Ln:"string"===i?(n=hn(e))?(e=n,jn):In:e instanceof hn?jn:e instanceof Date?zn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Dn:Array.isArray(e)?Pn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Rn:Ln)(t,e)}function Yn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qn(t,e){void 0===e&&(e=t,t=Un);for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}function Hn(t){return+t}var Vn=[0,1];function Wn(t){return t}function Bn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Zn(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=Bn(r,i),o=n(s,o)):(i=Bn(i,r),o=n(o,s)),function(t){return o(i(t))}}function Xn(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=Bn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=te(t,e,1,i)-1;return o[n](r[n](e))}}function Kn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gn(){var t,e,n,i,r,o,s=Vn,a=Vn,l=Un,c=Wn;function u(){var t=Math.min(s.length,a.length);return c!==Wn&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),i=t>2?Xn:Zn,r=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(r||(r=i(s.map(t),a,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=i(a,s.map(t),Ln)))(n)))},f.domain=function(t){return arguments.length?(s=Array.from(t,Hn),u()):s.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),l=Yn,u()},f.clamp=function(t){return arguments.length?(c=!!t||Wn,u()):c!==Wn},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,i){return t=n,e=i,u()}}function Qn(){return Gn()(Wn,Wn)}function Jn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function ti(t){return(t=Jn(Math.abs(t)))?t[1]:NaN}var ei,ni=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ii(t){if(!(e=ni.exec(t)))throw new Error("invalid format: "+t);var e;return new ri({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ri(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function oi(t,e){var n=Jn(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}ii.prototype=ri.prototype,ri.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var si={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oi(100*t,e),r:oi,s:function(t,e){var n=Jn(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(ei=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Jn(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ai(t){return t}var li,ci,ui,fi=Array.prototype.map,hi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pi(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?ai:(e=fi.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?ai:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(fi.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=ii(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):si[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?r:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?l:"",w=si[y],_=/[defgprs%]/.test(y);function $(t){var r,o,l,h=b,$=x;if("c"===y)$=w(t)+$,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:c:"-"===f||"("===f?"":f)+h,$=("s"===y?hi[8+ei/3]:"")+$+(M&&"("===f?")":""),_)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){$=(46===l?s+t.slice(r+1):t.slice(r))+$,t=t.slice(0,r);break}}m&&!p&&(t=i(t,1/0));var k=h.length+t.length+$.length,C=k<d?new Array(d-k+1).join(e):"";switch(m&&p&&(t=i(C+t,C.length?d-$.length:1/0),C=""),n){case"<":t=h+t+$+C;break;case"=":t=h+C+t+$;break;case"^":t=C.slice(0,k=C.length>>1)+h+t+$+C.slice(k);break;default:t=C+h+t+$}return a(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),$.toString=function(){return t+""},$}return{format:f,formatPrefix:function(t,e){var n=f(((t=ii(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ti(e)/3))),r=Math.pow(10,-i),o=hi[8+i/3];return function(t){return n(r*t)+o}}}}function di(t,e,n,i){var r,o=pe(t,e,n);switch((i=ii(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ti(e)/3)))-ti(Math.abs(t)))}(o,s))||(i.precision=r),ui(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ti(e)-ti(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-ti(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return ci(i)}function mi(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=he(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)/s}return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return di(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=a,a=r);u-- >0;){if((r=he(l,c,n))===i)return o[s]=l,o[a]=c,e(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function gi(){var t=Qn();return t.copy=function(){return Kn(t,gi())},qe.apply(t,arguments),mi(t)}function vi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yi(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bi(t){return t<0?-t*t:t*t}function xi(t){var e=t(Wn,Wn),n=1;function i(){return 1===n?t(Wn,Wn):.5===n?t(yi,bi):t(vi(n),vi(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},mi(e)}function wi(){var t=xi(Gn());return t.copy=function(){return Kn(t,wi()).exponent(t.exponent())},qe.apply(t,arguments),t}function _i(){return wi.apply(null,arguments).exponent(.5)}function $i(){var t,e=[.5],n=[0,1],i=1;function r(r){return null!=r&&r<=r?n[te(e,r,0,i)]:t}return r.domain=function(t){return arguments.length?(e=Array.from(t),i=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(t){return arguments.length?(n=Array.from(t),i=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return $i().domain(e).range(n).unknown(t)},qe.apply(r,arguments)}li=pi({thousands:",",grouping:[3],currency:["$",""]}),ci=li.format,ui=li.formatPrefix;var Mi=new Date,ki=new Date;function Ci(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return Ci((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return Mi.setTime(+e),ki.setTime(+i),t(Mi),t(ki),Math.floor(n(Mi,ki))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var Ni=Ci((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ni.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ci((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ni:null};var Ti=Ni;Ni.range;const Si=1e3,Ai=6e4,Ei=36e5,ji=864e5,Di=6048e5,Pi=2592e6,zi=31536e6;var Li=Ci((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Si)}),(function(t,e){return(e-t)/Si}),(function(t){return t.getUTCSeconds()})),Ri=Li;Li.range;var Oi=Ci((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Si)}),(function(t,e){t.setTime(+t+e*Ai)}),(function(t,e){return(e-t)/Ai}),(function(t){return t.getMinutes()})),Fi=Oi;Oi.range;var Ii=Ci((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Si-t.getMinutes()*Ai)}),(function(t,e){t.setTime(+t+e*Ei)}),(function(t,e){return(e-t)/Ei}),(function(t){return t.getHours()})),Ui=Ii;Ii.range;var Yi=Ci((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/ji),(t=>t.getDate()-1)),qi=Yi;function Hi(t){return Ci((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/Di}))}Yi.range;var Vi=Hi(0),Wi=Hi(1),Bi=Hi(2),Zi=Hi(3),Xi=Hi(4),Ki=Hi(5),Gi=Hi(6);Vi.range,Wi.range,Bi.range,Zi.range,Xi.range,Ki.range,Gi.range;var Qi=Ci((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Ji=Qi;Qi.range;var tr=Ci((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));tr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ci((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var er=tr;tr.range;var nr=Ci((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/ji}),(function(t){return t.getUTCDate()-1})),ir=nr;function rr(t){return Ci((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Di}))}nr.range;var or=rr(0),sr=rr(1),ar=rr(2),lr=rr(3),cr=rr(4),ur=rr(5),fr=rr(6);or.range,sr.range,ar.range,lr.range,cr.range,ur.range,fr.range;var hr=Ci((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));hr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ci((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var pr=hr;hr.range;const[dr,mr]=function(t,e,n,i,r,o){const s=[[Ri,1,Si],[Ri,5,5e3],[Ri,15,15e3],[Ri,30,3e4],[o,1,Ai],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,Ei],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,ji],[i,2,1728e5],[n,1,Di],[e,1,Pi],[e,3,7776e6],[t,1,zi]];function a(e,n,i){const r=Math.abs(n-e)/i,o=Gt((([,,t])=>t)).right(s,r);if(o===s.length)return t.every(pe(e/zi,n/zi,i));if(0===o)return Ti.every(Math.max(pe(e,n,i),1));const[a,l]=s[r/s[o-1][2]<s[o][2]/r?o-1:o];return a.every(l)}return[function(t,e,n){const i=e<t;i&&([t,e]=[e,t]);const r=n&&"function"==typeof n.range?n:a(t,e,n),o=r?r.range(t,+e+1):[];return i?o.reverse():o},a]}(er,Ji,Vi,qi,Ui,Fi);function gr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var br,xr,wr={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,$r=/^%/,Mr=/[\\^$*+?|[\]().{}]/g;function kr(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Cr(t){return t.replace(Mr,"\\$&")}function Nr(t){return new RegExp("^(?:"+t.map(Cr).join("|")+")","i")}function Tr(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Sr(t,e,n){var i=_r.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ar(t,e,n){var i=_r.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Er(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function jr(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Dr(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Pr(t,e,n){var i=_r.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function zr(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Lr(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Rr(t,e,n){var i=_r.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Or(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Fr(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ir(t,e,n){var i=_r.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Ur(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Yr(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function qr(t,e,n){var i=_r.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Hr(t,e,n){var i=_r.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Vr(t,e,n){var i=_r.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Wr(t,e,n){var i=$r.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Br(t,e,n){var i=_r.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Zr(t,e,n){var i=_r.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Xr(t,e){return kr(t.getDate(),e,2)}function Kr(t,e){return kr(t.getHours(),e,2)}function Gr(t,e){return kr(t.getHours()%12||12,e,2)}function Qr(t,e){return kr(1+qi.count(er(t),t),e,3)}function Jr(t,e){return kr(t.getMilliseconds(),e,3)}function to(t,e){return Jr(t,e)+"000"}function eo(t,e){return kr(t.getMonth()+1,e,2)}function no(t,e){return kr(t.getMinutes(),e,2)}function io(t,e){return kr(t.getSeconds(),e,2)}function ro(t){var e=t.getDay();return 0===e?7:e}function oo(t,e){return kr(Vi.count(er(t)-1,t),e,2)}function so(t){var e=t.getDay();return e>=4||0===e?Xi(t):Xi.ceil(t)}function ao(t,e){return t=so(t),kr(Xi.count(er(t),t)+(4===er(t).getDay()),e,2)}function lo(t){return t.getDay()}function co(t,e){return kr(Wi.count(er(t)-1,t),e,2)}function uo(t,e){return kr(t.getFullYear()%100,e,2)}function fo(t,e){return kr((t=so(t)).getFullYear()%100,e,2)}function ho(t,e){return kr(t.getFullYear()%1e4,e,4)}function po(t,e){var n=t.getDay();return kr((t=n>=4||0===n?Xi(t):Xi.ceil(t)).getFullYear()%1e4,e,4)}function mo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kr(e/60|0,"0",2)+kr(e%60,"0",2)}function go(t,e){return kr(t.getUTCDate(),e,2)}function vo(t,e){return kr(t.getUTCHours(),e,2)}function yo(t,e){return kr(t.getUTCHours()%12||12,e,2)}function bo(t,e){return kr(1+ir.count(pr(t),t),e,3)}function xo(t,e){return kr(t.getUTCMilliseconds(),e,3)}function wo(t,e){return xo(t,e)+"000"}function _o(t,e){return kr(t.getUTCMonth()+1,e,2)}function $o(t,e){return kr(t.getUTCMinutes(),e,2)}function Mo(t,e){return kr(t.getUTCSeconds(),e,2)}function ko(t){var e=t.getUTCDay();return 0===e?7:e}function Co(t,e){return kr(or.count(pr(t)-1,t),e,2)}function No(t){var e=t.getUTCDay();return e>=4||0===e?cr(t):cr.ceil(t)}function To(t,e){return t=No(t),kr(cr.count(pr(t),t)+(4===pr(t).getUTCDay()),e,2)}function So(t){return t.getUTCDay()}function Ao(t,e){return kr(sr.count(pr(t)-1,t),e,2)}function Eo(t,e){return kr(t.getUTCFullYear()%100,e,2)}function jo(t,e){return kr((t=No(t)).getUTCFullYear()%100,e,2)}function Do(t,e){return kr(t.getUTCFullYear()%1e4,e,4)}function Po(t,e){var n=t.getUTCDay();return kr((t=n>=4||0===n?cr(t):cr.ceil(t)).getUTCFullYear()%1e4,e,4)}function zo(){return"+0000"}function Lo(){return"%"}function Ro(t){return+t}function Oo(t){return Math.floor(+t/1e3)}function Fo(t){return new Date(t)}function Io(t){return t instanceof Date?+t:+new Date(+t)}function Uo(t,e,n,i,r,o,s,a,l,c){var u=Qn(),f=u.invert,h=u.domain,p=c(".%L"),d=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(t){return(l(t)<t?p:a(t)<t?d:s(t)<t?m:o(t)<t?g:i(t)<t?r(t)<t?v:y:n(t)<t?b:x)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?h(Array.from(t,Io)):h().map(Fo)},u.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}(n,t)):u},u.copy=function(){return Kn(u,Uo(t,e,n,i,r,o,s,a,l,c))},u}function Yo(){return qe.apply(Uo(dr,mr,er,Ji,Vi,qi,Ui,Fi,Ri,xr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ho(){var t,e,n,i,r,o,s,a=0,l=.5,c=1,u=1,f=Wn,h=!1;function p(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(u*t<u*e?i:r),f(h?Math.max(0,Math.min(1,t)):t))}function d(t){return function(e){var n,i,r;return arguments.length?([n,i,r]=e,f=qn(t,[n,i,r]),p):[f(0),f(.5),f(1)]}}return p.domain=function(s){return arguments.length?([a,l,c]=s,t=o(a=+a),e=o(l=+l),n=o(c=+c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),u=e<t?-1:1,p):[a,l,c]},p.clamp=function(t){return arguments.length?(h=!!t,p):h},p.interpolator=function(t){return arguments.length?(f=t,p):f},p.range=d(Un),p.rangeRound=d(Yn),p.unknown=function(t){return arguments.length?(s=t,p):s},function(s){return o=s,t=s(a),e=s(l),n=s(c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),u=e<t?-1:1,p}}function Vo(){var t=mi(Ho()(Wn));return t.copy=function(){return qo(t,Vo())},He.apply(t,arguments)}!function(t){br=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Nr(r),u=Tr(r),f=Nr(o),h=Tr(o),p=Nr(s),d=Tr(s),m=Nr(a),g=Tr(a),v=Nr(l),y=Tr(l),b={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Xr,e:Xr,f:to,g:fo,G:po,H:Kr,I:Gr,j:Qr,L:Jr,m:eo,M:no,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ro,s:Oo,S:io,u:ro,U:oo,V:ao,w:lo,W:co,x:null,X:null,y:uo,Y:ho,Z:mo,"%":Lo},x={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:go,e:go,f:wo,g:jo,G:Po,H:vo,I:yo,j:bo,L:xo,m:_o,M:$o,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ro,s:Oo,S:Mo,u:ko,U:Co,V:To,w:So,W:Ao,x:null,X:null,y:Eo,Y:Do,Z:zo,"%":Lo},w={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=h.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=g.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,n,i){return M(t,e,n,i)},d:Fr,e:Fr,f:Vr,g:zr,G:Pr,H:Ur,I:Ur,j:Ir,L:Hr,m:Or,M:Yr,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=u.get(i[0].toLowerCase()),n+i[0].length):-1},q:Rr,Q:Br,s:Zr,S:qr,u:Ar,U:Er,V:jr,w:Sr,W:Dr,x:function(t,e,i){return M(t,n,e,i)},X:function(t,e,n){return M(t,i,e,n)},y:zr,Y:Pr,Z:Lr,"%":Wr};function _(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=wr[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function $(t,e){return function(n){var i,r,o=yr(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=vr(yr(o.y,0,1))).getUTCDay(),i=r>4||0===r?sr.ceil(i):sr(i),i=ir.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=gr(yr(o.y,0,1))).getDay(),i=r>4||0===r?Wi.ceil(i):Wi(i),i=qi.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?vr(yr(o.y,0,1)).getUTCDay():gr(yr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,vr(o)):gr(o)}}function M(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=w[r in wr?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=_(n,b),b.X=_(i,b),b.c=_(e,b),x.x=_(n,x),x.X=_(i,x),x.c=_(e,x),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=$(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=$(t+="",!0);return e.toString=function(){return t},e}}}(t),xr=br.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Wo={x:gi,y:gi,z:gi,r:_i};function Bo(t){return t}function Zo(t){return e=>Math.log(t*e)}function Xo(t){return e=>t*Math.exp(e)}function Ko(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Go(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Qo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jo(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:i}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:Zo(n),ground:Xo(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Qo(t),ground:Qo(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Qo(t),ground:Qo(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:Ko(t),ground:Go(t),scaleType:e}}return{lift:Bo,ground:Bo,scaleType:e}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[s,a]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,f=e[1]||0,h=(a-s)/(Math.abs(c-l)-u-f);return[s-u*h,f*h+a].map((t=>i(o?new Date(t):t)))}function ts(t){return function([e,n,i,r,o,s,a,l,c,u]){if(null===n)return null;const f=function(t,e,n,i,r,o){return r?"function"==typeof r?r({width:e,height:n}):r:function(t,e,n,i,r){let o,s;return!0===r?(o=0,s=100):(o="r"===t?1:0,s="y"===t?n:"r"===t?25:e),!0===i?[s,o]:[o,s]}(t,e,n,i,o)}(t,a,l,s,c,u),h=e===Wo[t]?e():e.copy();return h.domain(i),(!h.interpolator||"function"==typeof h.interpolator&&h.interpolator().name.startsWith("identity"))&&h.range(f),r&&h.domain(Jo(h,r)),!0!==o&&"number"!=typeof o||("function"==typeof h.nice?h.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function es([t,e]){return n=>{const i=t(n);return Array.isArray(i)?i.map((t=>e(t))):e(i)}}function ns([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const is=t=>({element:4&t[0],width:256&t[0],height:512&t[0],aspectRatio:1024&t[0],containerWidth:128&t[0],containerHeight:64&t[0]}),rs=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function os(t){let e,n,i;const r=t[90].default,o=c(r,t,t[89],rs);return{c(){e=T("div"),o&&o.c(),L(e,"class","layercake-container svelte-1ll0j6t"),at((()=>t[92].call(e))),O(e,"position",t[5],!1),O(e,"top","absolute"===t[5]?"0":null,!1),O(e,"right","absolute"===t[5]?"0":null,!1),O(e,"bottom","absolute"===t[5]?"0":null,!1),O(e,"left","absolute"===t[5]?"0":null,!1),O(e,"pointer-events",!1===t[4]?"none":null,!1)},m(r,s){k(r,e,s),o&&o.m(e,null),t[91](e),n=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=T("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Y();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=D(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=D(n.contentWindow,"resize",e)}),_(t,n),()=>{(i||r&&n.contentWindow)&&r(),C(n)}}(e,t[92].bind(e)),i=!0},p(t,n){o&&o.p&&(!i||1988&n[0]|134217728&n[2])&&h(o,r,t,t[89],i?f(r,t[89],n,is):p(t[89]),rs),32&n[0]&&O(e,"position",t[5],!1),32&n[0]&&O(e,"top","absolute"===t[5]?"0":null,!1),32&n[0]&&O(e,"right","absolute"===t[5]?"0":null,!1),32&n[0]&&O(e,"bottom","absolute"===t[5]?"0":null,!1),32&n[0]&&O(e,"left","absolute"===t[5]?"0":null,!1),16&n[0]&&O(e,"pointer-events",!1===t[4]?"none":null,!1)},i(t){i||(bt(o,t),i=!0)},o(t){xt(o,t),i=!1},d(i){i&&C(e),o&&o.d(i),t[91](null),n()}}}function ss(t){let e,n,i=(!0===t[3]||"undefined"!=typeof window)&&os(t);return{c(){i&&i.c(),e=j()},m(t,r){i&&i.m(t,r),k(t,e,r),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,n),8&n[0]&&bt(i,1)):(i=os(t),i.c(),bt(i,1),i.m(e.parentNode,e)):i&&(vt(),xt(i,1,1,(()=>{i=null})),yt())},i(t){n||(bt(i),n=!0)},o(t){xt(i),n=!1},d(t){i&&i.d(t),t&&C(e)}}}function as(t,e,n){let i,r,o,s,a,c,u,f,h,p,d,g,v,y,b,x,w,_,$,M,k,C,N,T,S,A,E,j,D,P,z,L,R,O,F,I,U,Y,q,H,V,{$$slots:W={},$$scope:B}=e,{ssr:Z=!1}=e,{pointerEvents:X=!0}=e,{position:K="relative"}=e,{percentRange:J=!1}=e,{width:tt}=e,{height:et}=e,{containerWidth:it=tt||100}=e,{containerHeight:rt=et||100}=e,{element:ot}=e,{x:st}=e,{y:at}=e,{z:lt}=e,{r:ct}=e,{data:ut=[]}=e,{xDomain:ft}=e,{yDomain:ht}=e,{zDomain:pt}=e,{rDomain:dt}=e,{xNice:mt=!1}=e,{yNice:gt=!1}=e,{zNice:vt=!1}=e,{rNice:yt=!1}=e,{xPadding:bt}=e,{yPadding:xt}=e,{zPadding:wt}=e,{rPadding:_t}=e,{xScale:$t=Wo.x}=e,{yScale:Mt=Wo.y}=e,{zScale:kt=Wo.z}=e,{rScale:Ct=Wo.r}=e,{xRange:Nt}=e,{yRange:Tt}=e,{zRange:St}=e,{rRange:At}=e,{xReverse:Et=!1}=e,{yReverse:jt="function"!=typeof Mt.bandwidth}=e,{zReverse:Dt=!1}=e,{rReverse:Pt=!1}=e,{padding:zt={}}=e,{extents:Lt={}}=e,{flatData:Rt}=e,{custom:Ot={}}=e,Ft=!1;Q((()=>{Ft=!0}));const It={},Ut=Le(J);l(t,Ut,(t=>n(128,Y=t)));const Yt=Le(it);l(t,Yt,(t=>n(7,U=t)));const qt=Le(rt);l(t,qt,(t=>n(6,I=t)));const Ht=Le(Fe(Lt));l(t,Ht,(t=>n(127,F=t)));const Vt=Le(ut);l(t,Vt,(t=>n(126,O=t)));const Wt=Le(Rt||ut);l(t,Wt,(t=>n(125,R=t)));const Bt=Le(zt);l(t,Bt,(t=>n(124,L=t)));const Zt=Le(Oe(st));l(t,Zt,(t=>n(123,z=t)));const Xt=Le(Oe(at));l(t,Xt,(t=>n(122,P=t)));const Kt=Le(Oe(lt));l(t,Kt,(t=>n(121,D=t)));const Gt=Le(Oe(ct));l(t,Gt,(t=>n(120,j=t)));const Qt=Le(ft);l(t,Qt,(t=>n(119,E=t)));const Jt=Le(ht);l(t,Jt,(t=>n(118,A=t)));const te=Le(pt);l(t,te,(t=>n(117,S=t)));const ee=Le(dt);l(t,ee,(t=>n(116,T=t)));const ne=Le(mt);l(t,ne,(t=>n(115,N=t)));const ie=Le(gt);l(t,ie,(t=>n(114,C=t)));const re=Le(vt);l(t,re,(t=>n(113,k=t)));const oe=Le(yt);l(t,oe,(t=>n(112,M=t)));const se=Le(Et);l(t,se,(t=>n(111,$=t)));const ae=Le(jt);l(t,ae,(t=>n(110,_=t)));const le=Le(Dt);l(t,le,(t=>n(109,w=t)));const ce=Le(Pt);l(t,ce,(t=>n(108,x=t)));const ue=Le(bt);l(t,ue,(t=>n(107,b=t)));const fe=Le(xt);l(t,fe,(t=>n(106,y=t)));const he=Le(wt);l(t,he,(t=>n(105,v=t)));const pe=Le(_t);l(t,pe,(t=>n(104,g=t)));const de=Le(Nt);l(t,de,(t=>n(103,d=t)));const me=Le(Tt);l(t,me,(t=>n(102,p=t)));const ge=Le(St);l(t,ge,(t=>n(101,h=t)));const ve=Le(At);l(t,ve,(t=>n(100,f=t)));const ye=Le($t);l(t,ye,(t=>n(99,u=t)));const be=Le(Mt);l(t,be,(t=>n(98,c=t)));const xe=Le(kt);l(t,xe,(t=>n(97,a=t)));const we=Le(Ct);l(t,we,(t=>n(96,s=t)));const _e=Le(It);l(t,_e,(t=>n(94,r=t)));const $e=Le(Ot);l(t,$e,(t=>n(95,o=t)));const Me=Re([Zt,Xt,Kt,Gt],(([t,e,n,i])=>{const r={};return t&&(r.x=t),e&&(r.y=e),n&&(r.z=n),i&&(r.r=i),r})),ke=Re([Bt,Yt,qt],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ce=Re([Yt,qt,ke],(([t,e,n])=>{const i={};return i.top=n.top,i.right=t-n.right,i.bottom=e-n.bottom,i.left=n.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&!0===Ft&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&!0===Ft&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i})),Ne=Re([Ce],(([t])=>t.width));l(t,Ne,(t=>n(8,q=t)));const Te=Re([Ce],(([t])=>t.height));l(t,Te,(t=>n(9,H=t)));const Se=Re([Wt,Me,Ht,ye,be,we,xe],(([t,e,n,i,r,o,s])=>{const a={x:i,y:r,r:o,z:s},l=Fe(e,n),c=Object.fromEntries(Object.keys(l).map((t=>[t,a[t]])));if(Object.keys(l).length>0){return{...Ue(t,l,c),...n}}return{}})),Ae=Re([Se,Qt],Ye("x")),Ee=Re([Se,Jt],Ye("y")),je=Re([Se,te],Ye("z")),De=Re([Se,ee],Ye("r")),Pe=Re([ye,Se,Ae,ue,ne,se,Ne,Te,de,Ut],ts("x")),ze=Re([Zt,Pe],es),Ie=Re([be,Se,Ee,fe,ie,ae,Ne,Te,me,Ut],ts("y")),qe=Re([Xt,Ie],es),He=Re([xe,Se,je,he,re,le,Ne,Te,ge,Ut],ts("z")),Ve=Re([Kt,He],es),We=Re([we,Se,De,pe,oe,ce,Ne,Te,ve,Ut],ts("r")),Be=Re([Gt,We],es),Ze=Re([Pe],ns),Xe=Re([Ie],ns),Ke=Re([He],ns),Ge=Re([We],ns),Qe=Re([Ne,Te],(([t,e])=>t/e));return l(t,Qe,(t=>n(10,V=t))),t.$$set=t=>{"ssr"in t&&n(3,Z=t.ssr),"pointerEvents"in t&&n(4,X=t.pointerEvents),"position"in t&&n(5,K=t.position),"percentRange"in t&&n(51,J=t.percentRange),"width"in t&&n(52,tt=t.width),"height"in t&&n(53,et=t.height),"containerWidth"in t&&n(0,it=t.containerWidth),"containerHeight"in t&&n(1,rt=t.containerHeight),"element"in t&&n(2,ot=t.element),"x"in t&&n(54,st=t.x),"y"in t&&n(55,at=t.y),"z"in t&&n(56,lt=t.z),"r"in t&&n(57,ct=t.r),"data"in t&&n(58,ut=t.data),"xDomain"in t&&n(59,ft=t.xDomain),"yDomain"in t&&n(60,ht=t.yDomain),"zDomain"in t&&n(61,pt=t.zDomain),"rDomain"in t&&n(62,dt=t.rDomain),"xNice"in t&&n(63,mt=t.xNice),"yNice"in t&&n(64,gt=t.yNice),"zNice"in t&&n(65,vt=t.zNice),"rNice"in t&&n(66,yt=t.rNice),"xPadding"in t&&n(67,bt=t.xPadding),"yPadding"in t&&n(68,xt=t.yPadding),"zPadding"in t&&n(69,wt=t.zPadding),"rPadding"in t&&n(70,_t=t.rPadding),"xScale"in t&&n(71,$t=t.xScale),"yScale"in t&&n(72,Mt=t.yScale),"zScale"in t&&n(73,kt=t.zScale),"rScale"in t&&n(74,Ct=t.rScale),"xRange"in t&&n(75,Nt=t.xRange),"yRange"in t&&n(76,Tt=t.yRange),"zRange"in t&&n(77,St=t.zRange),"rRange"in t&&n(78,At=t.rRange),"xReverse"in t&&n(79,Et=t.xReverse),"yReverse"in t&&n(80,jt=t.yReverse),"zReverse"in t&&n(81,Dt=t.zReverse),"rReverse"in t&&n(82,Pt=t.rReverse),"padding"in t&&n(83,zt=t.padding),"extents"in t&&n(84,Lt=t.extents),"flatData"in t&&n(85,Rt=t.flatData),"custom"in t&&n(86,Ot=t.custom),"$$scope"in t&&n(89,B=t.$$scope)},t.$$.update=()=>{8388608&t.$$.dirty[1]&&st&&n(87,It.x=st,It),16777216&t.$$.dirty[1]&&at&&n(87,It.y=at,It),33554432&t.$$.dirty[1]&&lt&&n(87,It.z=lt,It),67108864&t.$$.dirty[1]&&ct&&n(87,It.r=ct,It),268435456&t.$$.dirty[1]&&ft&&n(87,It.xDomain=ft,It),536870912&t.$$.dirty[1]&&ht&&n(87,It.yDomain=ht,It),1073741824&t.$$.dirty[1]&&pt&&n(87,It.zDomain=pt,It),1&t.$$.dirty[2]&&dt&&n(87,It.rDomain=dt,It),8192&t.$$.dirty[2]&&Nt&&n(87,It.xRange=Nt,It),16384&t.$$.dirty[2]&&Tt&&n(87,It.yRange=Tt,It),32768&t.$$.dirty[2]&&St&&n(87,It.zRange=St,It),65536&t.$$.dirty[2]&&At&&n(87,It.rRange=At,It),1048576&t.$$.dirty[1]&&m(Ut,Y=J,Y),1&t.$$.dirty[0]&&m(Yt,U=it,U),2&t.$$.dirty[0]&&m(qt,I=rt,I),4194304&t.$$.dirty[2]&&m(Ht,F=Fe(Lt),F),134217728&t.$$.dirty[1]&&m(Vt,O=ut,O),134217728&t.$$.dirty[1]|8388608&t.$$.dirty[2]&&m(Wt,R=Rt||ut,R),2097152&t.$$.dirty[2]&&m(Bt,L=zt,L),8388608&t.$$.dirty[1]&&m(Zt,z=Oe(st),z),16777216&t.$$.dirty[1]&&m(Xt,P=Oe(at),P),33554432&t.$$.dirty[1]&&m(Kt,D=Oe(lt),D),67108864&t.$$.dirty[1]&&m(Gt,j=Oe(ct),j),268435456&t.$$.dirty[1]&&m(Qt,E=ft,E),536870912&t.$$.dirty[1]&&m(Jt,A=ht,A),1073741824&t.$$.dirty[1]&&m(te,S=pt,S),1&t.$$.dirty[2]&&m(ee,T=dt,T),2&t.$$.dirty[2]&&m(ne,N=mt,N),4&t.$$.dirty[2]&&m(ie,C=gt,C),8&t.$$.dirty[2]&&m(re,k=vt,k),16&t.$$.dirty[2]&&m(oe,M=yt,M),131072&t.$$.dirty[2]&&m(se,$=Et,$),262144&t.$$.dirty[2]&&m(ae,_=jt,_),524288&t.$$.dirty[2]&&m(le,w=Dt,w),1048576&t.$$.dirty[2]&&m(ce,x=Pt,x),32&t.$$.dirty[2]&&m(ue,b=bt,b),64&t.$$.dirty[2]&&m(fe,y=xt,y),128&t.$$.dirty[2]&&m(he,v=wt,v),256&t.$$.dirty[2]&&m(pe,g=_t,g),8192&t.$$.dirty[2]&&m(de,d=Nt,d),16384&t.$$.dirty[2]&&m(me,p=Tt,p),32768&t.$$.dirty[2]&&m(ge,h=St,h),65536&t.$$.dirty[2]&&m(ve,f=At,f),512&t.$$.dirty[2]&&m(ye,u=$t,u),1024&t.$$.dirty[2]&&m(be,c=Mt,c),2048&t.$$.dirty[2]&&m(xe,a=kt,a),4096&t.$$.dirty[2]&&m(we,s=Ct,s),16777216&t.$$.dirty[2]&&m($e,o=Ot,o),33554432&t.$$.dirty[2]&&m(_e,r=It,r),67108864&t.$$.dirty[2]&&function(t,e){G().$$.context.set(t,e)}("LayerCake",i)},n(88,i={activeGetters:Me,width:Ne,height:Te,percentRange:Ut,aspectRatio:Qe,containerWidth:Yt,containerHeight:qt,x:Zt,y:Xt,z:Kt,r:Gt,custom:$e,data:Vt,xNice:ne,yNice:ie,zNice:re,rNice:oe,xReverse:se,yReverse:ae,zReverse:le,rReverse:ce,xPadding:ue,yPadding:fe,zPadding:he,rPadding:pe,padding:ke,flatData:Wt,extents:Se,xDomain:Ae,yDomain:Ee,zDomain:je,rDomain:De,xRange:Ze,yRange:Xe,zRange:Ke,rRange:Ge,config:_e,xScale:Pe,xGet:ze,yScale:Ie,yGet:qe,zScale:He,zGet:Ve,rScale:We,rGet:Be}),[it,rt,ot,Z,X,K,I,U,q,H,V,Ut,Yt,qt,Ht,Vt,Wt,Bt,Zt,Xt,Kt,Gt,Qt,Jt,te,ee,ne,ie,re,oe,se,ae,le,ce,ue,fe,he,pe,de,me,ge,ve,ye,be,xe,we,_e,$e,Ne,Te,Qe,J,tt,et,st,at,lt,ct,ut,ft,ht,pt,dt,mt,gt,vt,yt,bt,xt,wt,_t,$t,Mt,kt,Ct,Nt,Tt,St,At,Et,jt,Dt,Pt,zt,Lt,Rt,Ot,It,i,B,W,function(t){nt[t?"unshift":"push"]((()=>{ot=t,n(2,ot)}))},function(){it=this.clientWidth,rt=this.clientHeight,n(0,it),n(1,rt)}]}class ls extends St{constructor(t){super(),Tt(this,t,as,ss,s,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xPadding:67,yPadding:68,zPadding:69,rPadding:70,xScale:71,yScale:72,zScale:73,rScale:74,xRange:75,yRange:76,zRange:77,rRange:78,xReverse:79,yReverse:80,zReverse:81,rReverse:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const cs=t=>({element:1&t}),us=t=>({element:t[0]});function fs(t){let e,n;const i=t[6].default,r=c(i,t,t[5],us);return{c(){e=T("div"),r&&r.c(),L(e,"class","layercake-layout-html svelte-1u9nfei"),O(e,"z-index",t[1],!1),O(e,"pointer-events",!1===t[2]?"none":null,!1),O(e,"top",t[3].top+"px",!1),O(e,"right",t[3].right+"px",!1),O(e,"bottom",t[3].bottom+"px",!1),O(e,"left",t[3].left+"px",!1)},m(i,o){k(i,e,o),r&&r.m(e,null),t[7](e),n=!0},p(t,[o]){r&&r.p&&(!n||33&o)&&h(r,i,t,t[5],n?f(i,t[5],o,cs):p(t[5]),us),2&o&&O(e,"z-index",t[1],!1),4&o&&O(e,"pointer-events",!1===t[2]?"none":null,!1),8&o&&O(e,"top",t[3].top+"px",!1),8&o&&O(e,"right",t[3].right+"px",!1),8&o&&O(e,"bottom",t[3].bottom+"px",!1),8&o&&O(e,"left",t[3].left+"px",!1)},i(t){n||(bt(r,t),n=!0)},o(t){xt(r,t),n=!1},d(n){n&&C(e),r&&r.d(n),t[7](null)}}}function hs(t,e,n){let i,{$$slots:r={},$$scope:o}=e,{element:s}=e,{zIndex:a}=e,{pointerEvents:c}=e;const{padding:u}=tt("LayerCake");return l(t,u,(t=>n(3,i=t))),t.$$set=t=>{"element"in t&&n(0,s=t.element),"zIndex"in t&&n(1,a=t.zIndex),"pointerEvents"in t&&n(2,c=t.pointerEvents),"$$scope"in t&&n(5,o=t.$$scope)},[s,a,c,i,u,o,r,function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class ps extends St{constructor(t){super(),Tt(this,t,hs,fs,s,{element:0,zIndex:1,pointerEvents:2})}}const ds=t=>({element:1&t}),ms=t=>({element:t[0]}),gs=t=>({element:1&t}),vs=t=>({element:t[0]});function ys(t){let e,n,i,r,o;const s=t[12].defs,a=c(s,t,t[11],vs),l=t[12].default,u=c(l,t,t[11],ms);return{c(){e=S("svg"),n=S("defs"),a&&a.c(),i=S("g"),u&&u.c(),L(i,"class","layercake-layout-svg_g"),L(i,"transform",r="translate("+t[7].left+", "+t[7].top+")"),L(e,"class","layercake-layout-svg svelte-17l4rdd"),L(e,"viewBox",t[4]),L(e,"width",t[5]),L(e,"height",t[6]),O(e,"z-index",t[2],!1),O(e,"pointer-events",!1===t[3]?"none":null,!1)},m(r,s){k(r,e,s),_(e,n),a&&a.m(n,null),_(e,i),u&&u.m(i,null),t[13](i),t[14](e),o=!0},p(t,[n]){a&&a.p&&(!o||2049&n)&&h(a,s,t,t[11],o?f(s,t[11],n,gs):p(t[11]),vs),u&&u.p&&(!o||2049&n)&&h(u,l,t,t[11],o?f(l,t[11],n,ds):p(t[11]),ms),(!o||128&n&&r!==(r="translate("+t[7].left+", "+t[7].top+")"))&&L(i,"transform",r),(!o||16&n)&&L(e,"viewBox",t[4]),(!o||32&n)&&L(e,"width",t[5]),(!o||64&n)&&L(e,"height",t[6]),4&n&&O(e,"z-index",t[2],!1),8&n&&O(e,"pointer-events",!1===t[3]?"none":null,!1)},i(t){o||(bt(a,t),bt(u,t),o=!0)},o(t){xt(a,t),xt(u,t),o=!1},d(n){n&&C(e),a&&a.d(n),u&&u.d(n),t[13](null),t[14](null)}}}function bs(t,e,n){let i,r,o,{$$slots:s={},$$scope:a}=e,{element:c}=e,{innerElement:u}=e,{zIndex:f}=e,{pointerEvents:h}=e,{viewBox:p}=e;const{containerWidth:d,containerHeight:m,padding:g}=tt("LayerCake");return l(t,d,(t=>n(5,i=t))),l(t,m,(t=>n(6,r=t))),l(t,g,(t=>n(7,o=t))),t.$$set=t=>{"element"in t&&n(0,c=t.element),"innerElement"in t&&n(1,u=t.innerElement),"zIndex"in t&&n(2,f=t.zIndex),"pointerEvents"in t&&n(3,h=t.pointerEvents),"viewBox"in t&&n(4,p=t.viewBox),"$$scope"in t&&n(11,a=t.$$scope)},[c,u,f,h,p,i,r,o,d,m,g,a,s,function(t){nt[t?"unshift":"push"]((()=>{u=t,n(1,u)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class xs extends St{constructor(t){super(),Tt(this,t,bs,ys,s,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}var ws=1e-6,_s=Math.PI,$s=_s/2,Ms=_s/4,ks=2*_s,Cs=180/_s,Ns=_s/180,Ts=Math.abs,Ss=Math.atan,As=Math.atan2,Es=Math.cos,js=Math.sin,Ds=Math.sign||function(t){return t>0?1:t<0?-1:0},Ps=Math.sqrt;function zs(t){return t>1?$s:t<-1?-$s:Math.asin(t)}function Ls(){}function Rs(t,e){t&&Fs.hasOwnProperty(t.type)&&Fs[t.type](t,e)}var Os={Feature:function(t,e){Rs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Rs(n[i].geometry,e)}},Fs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Is(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Is(n[i],e,0)},Polygon:function(t,e){Us(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Us(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Rs(n[i],e)}};function Is(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Us(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Is(t[n],e,1);e.polygonEnd()}function Ys(t){return[As(t[1],t[0]),zs(t[2])]}function qs(t){var e=t[0],n=t[1],i=Es(n);return[i*Es(e),i*js(e),js(n)]}function Hs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Vs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ws(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Bs(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Zs(t){var e=Ps(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Xs(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Ks(t,e){return[Ts(t)>_s?t+Math.round(-t/ks)*ks:t,e]}function Gs(t){return function(e,n){return[(e+=t)>_s?e-ks:e<-_s?e+ks:e,n]}}function Qs(t){var e=Gs(t);return e.invert=Gs(-t),e}function Js(t,e){var n=Es(t),i=js(t),r=Es(e),o=js(e);function s(t,e){var s=Es(e),a=Es(t)*s,l=js(t)*s,c=js(e),u=c*n+a*i;return[As(l*r-u*o,a*n-c*i),zs(u*r+l*o)]}return s.invert=function(t,e){var s=Es(e),a=Es(t)*s,l=js(t)*s,c=js(e),u=c*r-l*o;return[As(l*r+c*o,a*n+u*i),zs(u*n-a*i)]},s}function ta(t,e){(e=qs(e))[0]-=t,Zs(e);var n=function(t){return t>1?0:t<-1?_s:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+ks-ws)%ks}function ea(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Ls,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function na(t,e){return Ts(t[0]-e[0])<ws&&Ts(t[1]-e[1])<ws}function ia(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ra(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(na(i,s)){if(!i[2]&&!s[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}s[0]+=2e-6}a.push(n=new ia(i,t,null,!0)),l.push(n.o=new ia(i,null,n,!1)),a.push(n=new ia(s,t,null,!1)),l.push(n.o=new ia(s,null,n,!0))}})),a.length){for(l.sort(e),oa(a),oa(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var c,u,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,s=c.length;o<s;++o)r.point((u=c[o])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}}function oa(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function sa(t){return Ts(t[0])<=_s?t[0]:Ds(t[0])*((Ts(t[0])+_s)%ks-_s)}function aa(t,e,n,i){return function(r){var o,s,a,l=e(r),c=ea(),u=e(c),f=!1,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,s=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=g,s=de(s);var t=function(t,e){var n=sa(e),i=e[1],r=js(i),o=[js(n),-Es(n),0],s=0,a=0,l=new ee;1===r?i=$s+ws:-1===r&&(i=-$s-ws);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,p=f[h-1],d=sa(p),m=p[1]/2+Ms,g=js(m),v=Es(m),y=0;y<h;++y,d=x,g=_,v=$,p=b){var b=f[y],x=sa(b),w=b[1]/2+Ms,_=js(w),$=Es(w),M=x-d,k=M>=0?1:-1,C=k*M,N=C>_s,T=g*_;if(l.add(As(T*k*js(C),v*$+T*Es(C))),s+=N?M+k*ks:M,N^d>=n^x>=n){var S=Vs(qs(p),qs(b));Zs(S);var A=Vs(o,S);Zs(A);var E=(N^M>=0?-1:1)*zs(A[2]);(i>E||i===E&&(S[0]||S[1]))&&(a+=N^M>=0?1:-1)}}return(s<-1e-6||s<ws&&l<-1e-12)^1&a}(o,i);s.length?(f||(r.polygonStart(),f=!0),ra(s,ca,t,n,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(e,n){t(e,n)&&r.point(e,n)}function d(t,e){l.point(t,e)}function m(){h.point=d,l.lineStart()}function g(){h.point=p,l.lineEnd()}function v(t,e){a.push([t,e]),u.point(t,e)}function y(){u.lineStart(),a=[]}function b(){v(a[0][0],a[0][1]),u.lineEnd();var t,e,n,i,l=u.clean(),h=c.result(),p=h.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),s.push(h.filter(la))}return h}}function la(t){return t.length>1}function ca(t,e){return((t=t.x)[0]<0?t[1]-$s-ws:$s-t[1])-((e=e.x)[0]<0?e[1]-$s-ws:$s-e[1])}Ks.invert=Ks;var ua=aa((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?_s:-_s,l=Ts(o-n);Ts(l-_s)<ws?(t.point(n,i=(i+s)/2>0?$s:-$s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=_s&&(Ts(n-r)<ws&&(n-=r*ws),Ts(o-a)<ws&&(o-=a*ws),i=function(t,e,n,i){var r,o,s=js(t-n);return Ts(s)>ws?Ss((js(e)*(o=Es(i))*js(n)-js(i)*(r=Es(e))*js(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*$s,i.point(-_s,r),i.point(0,r),i.point(_s,r),i.point(_s,0),i.point(_s,-r),i.point(0,-r),i.point(-_s,-r),i.point(-_s,0),i.point(-_s,r);else if(Ts(t[0]-e[0])>ws){var o=t[0]<e[0]?_s:-_s;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-_s,-$s]);function fa(t){var e=Es(t),n=6*Ns,i=e>0,r=Ts(e)>ws;function o(t,n){return Es(t)*Es(n)>e}function s(t,n,i){var r=[1,0,0],o=Vs(qs(t),qs(n)),s=Hs(o,o),a=o[0],l=s-a*a;if(!l)return!i&&t;var c=e*s/l,u=-e*a/l,f=Vs(r,o),h=Bs(r,c);Ws(h,Bs(o,u));var p=f,d=Hs(h,p),m=Hs(p,p),g=d*d-m*(Hs(h,h)-1);if(!(g<0)){var v=Ps(g),y=Bs(p,(-d-v)/m);if(Ws(y,h),y=Ys(y),!i)return y;var b,x=t[0],w=n[0],_=t[1],$=n[1];w<x&&(b=x,x=w,w=b);var M=w-x,k=Ts(M-_s)<ws;if(!k&&$<_&&(b=_,_=$,$=b),k||M<ws?k?_+$>0^y[1]<(Ts(y[0]-x)<ws?_:$):_<=y[1]&&y[1]<=$:M>_s^(x<=y[0]&&y[0]<=w)){var C=Bs(p,(-d+v)/m);return Ws(C,h),[y,Ys(C)]}}}function a(e,n){var r=i?t:_s-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return aa(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var p,d=[f,h],m=o(f,h),g=i?m?0:a(f,h):m?a(f+(f<0?_s:-_s),h):0;if(!e&&(c=l=m)&&t.lineStart(),m!==l&&(!(p=s(e,d))||na(e,p)||na(d,p))&&(d[2]=1),m!==l)u=0,m?(t.lineStart(),p=s(d,e),t.point(p[0],p[1])):(p=s(e,d),t.point(p[0],p[1],2),t.lineEnd()),e=p;else if(r&&e&&i^m){var v;g&n||!(v=s(d,e,!0))||(u=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!m||e&&na(e,d)||t.point(d[0],d[1]),e=d,l=m,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,i,r,o){!function(t,e,n,i,r,o){if(n){var s=Es(e),a=js(e),l=i*n;null==r?(r=e+i*ks,o=e-l/2):(r=ta(s,r),o=ta(s,o),(i>0?r<o:r>o)&&(r+=i*ks));for(var c,u=r;i>0?u>o:u<o;u-=l)c=Ys([s,-a*Es(u),-a*js(u)]),t.point(c[0],c[1])}}(o,t,n,r,e,i)}),i?[0,-t]:[-_s,t-_s])}var ha=1e9,pa=-ha;function da(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,c){var u=0,f=0;if(null==r||(u=s(r,a))!==(f=s(o,a))||l(r,o)<0^a>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+a+4)%4)!==f);else c.point(o[0],o[1])}function s(i,r){return Ts(i[0]-t)<ws?r>0?0:3:Ts(i[0]-n)<ws?r>0?2:1:Ts(i[1]-e)<ws?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var l,c,u,f,h,p,d,m,g,v,y,b=s,x=ea(),w={point:_,lineStart:function(){w.point=$,c&&c.push(u=[]);v=!0,g=!1,d=m=NaN},lineEnd:function(){l&&($(f,h),p&&g&&x.rejoin(),l.push(x.result()));w.point=_,g&&b.lineEnd()},polygonStart:function(){b=x,l=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,s,a=c[n],l=1,u=a.length,f=a[0],h=f[0],p=f[1];l<u;++l)o=h,s=p,h=(f=a[l])[0],p=f[1],s<=i?p>i&&(h-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(h-o)*(i-s)<(p-s)*(t-o)&&--e;return e}(),n=y&&e,r=(l=de(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&ra(l,a,e,o,s),s.polygonEnd());b=s,l=c=u=null}};function _(t,e){r(t,e)&&b.point(t,e)}function $(o,s){var a=r(o,s);if(c&&u.push([o,s]),v)f=o,h=s,p=a,v=!1,a&&(b.lineStart(),b.point(o,s));else if(a&&g)b.point(o,s);else{var l=[d=Math.max(pa,Math.min(ha,d)),m=Math.max(pa,Math.min(ha,m))],x=[o=Math.max(pa,Math.min(ha,o)),s=Math.max(pa,Math.min(ha,s))];!function(t,e,n,i,r,o){var s,a=t[0],l=t[1],c=0,u=1,f=e[0]-a,h=e[1]-l;if(s=n-a,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<u&&(u=s)}else if(f>0){if(s>u)return;s>c&&(c=s)}if(s=r-a,f||!(s<0)){if(s/=f,f<0){if(s>u)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<u&&(u=s)}if(s=i-l,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=o-l,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}return c>0&&(t[0]=a+c*f,t[1]=l+c*h),u<1&&(e[0]=a+u*f,e[1]=l+u*h),!0}}}}}(l,x,t,e,n,i)?a&&(b.lineStart(),b.point(o,s),y=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(x[0],x[1]),a||b.lineEnd(),y=!1)}d=o,m=s,g=a}return w}}var ma=t=>t,ga=1/0,va=ga,ya=-ga,ba=ya,xa={point:function(t,e){t<ga&&(ga=t);t>ya&&(ya=t);e<va&&(va=e);e>ba&&(ba=e)},lineStart:Ls,lineEnd:Ls,polygonStart:Ls,polygonEnd:Ls,result:function(){var t=[[ga,va],[ya,ba]];return ya=ba=-(va=ga=1/0),t}};var wa=xa;function _a(t){return function(e){var n=new $a;for(var i in t)n[i]=t[i];return n.stream=e,n}}function $a(){}function Ma(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),function(t,e){t&&Os.hasOwnProperty(t.type)?Os[t.type](t,e):Rs(t,e)}(n,t.stream(wa)),e(wa.result()),null!=i&&t.clipExtent(i),t}function ka(t,e,n){return Ma(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])}),n)}function Ca(t,e,n){return ka(t,[[0,0],e],n)}function Na(t,e,n){return Ma(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])}),n)}function Ta(t,e,n){return Ma(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])}),n)}$a.prototype={constructor:$a,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sa=Es(30*Ns);function Aa(t,e){return+e?function(t,e){function n(i,r,o,s,a,l,c,u,f,h,p,d,m,g){var v=c-i,y=u-r,b=v*v+y*y;if(b>4*e&&m--){var x=s+h,w=a+p,_=l+d,$=Ps(x*x+w*w+_*_),M=zs(_/=$),k=Ts(Ts(_)-1)<ws||Ts(o-f)<ws?(o+f)/2:As(w,x),C=t(k,M),N=C[0],T=C[1],S=N-i,A=T-r,E=y*S-v*A;(E*E/b>e||Ts((v*S+y*A)/b-.5)>.3||s*h+a*p+l*d<Sa)&&(n(i,r,o,s,a,l,N,T,k,x/=$,w/=$,_,m,g),g.point(N,T),n(N,T,k,x,w,_,c,u,f,h,p,d,m,g))}}return function(e){var i,r,o,s,a,l,c,u,f,h,p,d,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=x},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function g(n,i){n=t(n,i),e.point(n[0],n[1])}function v(){u=NaN,m.point=y,e.lineStart()}function y(i,r){var o=qs([i,r]),s=t(i,r);n(u,f,c,h,p,d,u=s[0],f=s[1],c=i,h=o[0],p=o[1],d=o[2],16,e),e.point(u,f)}function b(){m.point=g,e.lineEnd()}function x(){v(),m.point=w,m.lineEnd=_}function w(t,e){y(i=t,e),r=u,o=f,s=h,a=p,l=d,m.point=y}function _(){n(u,f,c,h,p,d,r,o,i,s,a,l,16,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return _a({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Ea=_a({point:function(t,e){this.stream.point(t*Ns,e*Ns)}});function ja(t,e,n,i,r,o){if(!o)return function(t,e,n,i,r){function o(o,s){return[e+t*(o*=i),n-t*(s*=r)]}return o.invert=function(o,s){return[(o-e)/t*i,(n-s)/t*r]},o}(t,e,n,i,r);var s=Es(o),a=js(o),l=s*t,c=a*t,u=s/t,f=a/t,h=(a*n-s*e)/t,p=(a*e+s*n)/t;function d(t,o){return[l*(t*=i)-c*(o*=r)+e,n-c*t-l*o]}return d.invert=function(t,e){return[i*(u*t-f*e+h),r*(p-f*t-u*e)]},d}function Da(t){var e,n,i,r,o,s,a,l,c,u,f=150,h=480,p=250,d=0,m=0,g=0,v=0,y=0,b=0,x=1,w=1,_=null,$=ua,M=null,k=ma,C=.5;function N(t){return l(t[0]*Ns,t[1]*Ns)}function T(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Cs,t[1]*Cs]}function S(){var t=ja(f,0,0,x,w,b).apply(null,e(d,m)),i=ja(f,h-t[0],p-t[1],x,w,b);return n=function(t,e,n){return(t%=ks)?e||n?Xs(Qs(t),Js(e,n)):Qs(t):e||n?Js(e,n):Ks}(g,v,y),a=Xs(e,i),l=Xs(n,a),s=Aa(a,C),A()}function A(){return c=u=null,N}return N.stream=function(t){return c&&u===t?c:c=Ea(function(t){return _a({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)($(s(k(u=t)))))},N.preclip=function(t){return arguments.length?($=t,_=void 0,A()):$},N.postclip=function(t){return arguments.length?(k=t,M=i=r=o=null,A()):k},N.clipAngle=function(t){return arguments.length?($=+t?fa(_=t*Ns):(_=null,ua),A()):_*Cs},N.clipExtent=function(t){return arguments.length?(k=null==t?(M=i=r=o=null,ma):da(M=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),A()):null==M?null:[[M,i],[r,o]]},N.scale=function(t){return arguments.length?(f=+t,S()):f},N.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],S()):[h,p]},N.center=function(t){return arguments.length?(d=t[0]%360*Ns,m=t[1]%360*Ns,S()):[d*Cs,m*Cs]},N.rotate=function(t){return arguments.length?(g=t[0]%360*Ns,v=t[1]%360*Ns,y=t.length>2?t[2]%360*Ns:0,S()):[g*Cs,v*Cs,y*Cs]},N.angle=function(t){return arguments.length?(b=t%360*Ns,S()):b*Cs},N.reflectX=function(t){return arguments.length?(x=t?-1:1,S()):x<0},N.reflectY=function(t){return arguments.length?(w=t?-1:1,S()):w<0},N.precision=function(t){return arguments.length?(s=Aa(a,C=t*t),A()):Ps(C)},N.fitExtent=function(t,e){return ka(N,t,e)},N.fitSize=function(t,e){return Ca(N,t,e)},N.fitWidth=function(t,e){return Na(N,t,e)},N.fitHeight=function(t,e){return Ta(N,t,e)},function(){return e=t.apply(this,arguments),N.invert=e.invert&&T,S()}}function Pa(t,e){var n=js(t),i=(n+js(e))/2;if(Ts(i)<ws)return function(t){var e=Es(t);function n(t,n){return[t*e,js(n)/e]}return n.invert=function(t,n){return[t/e,zs(n*e)]},n}(t);var r=1+n*(2*i-n),o=Ps(r)/i;function s(t,e){var n=Ps(r-2*i*js(e))/i;return[n*js(t*=i),o-n*Es(t)]}return s.invert=function(t,e){var n=o-e,s=As(t,Ts(n))*Ds(n);return n*i<0&&(s-=_s*Ds(t)*Ds(n)),[s/i,zs((r-(t*t+n*n)*i*i)/(2*i))]},s}function za(){return function(t){var e=0,n=_s/3,i=Da(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ns,n=t[1]*Ns):[e*Cs,n*Cs]},r}(Pa).scale(155.424).center([0,33.6442])}function La(){var t,e,n,i,r,o,s=za().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),a=za().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=za().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(i.point(e,s),o)||(r.point(e,s),o)}function f(){return t=e=null,u}return u.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:s).invert(t)},u.stream=function(n){return t&&e===n?t:(i=[s.stream(e=n),a.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},u.precision=function(t){return arguments.length?(s.precision(t),a.precision(t),l.precision(t),f()):s.precision()},u.scale=function(t){return arguments.length?(s.scale(t),a.scale(.35*t),l.scale(t),u.translate(s.translate())):s.scale()},u.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],u=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),i=a.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+ws,u+.12*e+ws],[o-.214*e-ws,u+.234*e-ws]]).stream(c),r=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+ws,u+.166*e+ws],[o-.115*e-ws,u+.234*e-ws]]).stream(c),f()},u.fitExtent=function(t,e){return ka(u,t,e)},u.fitSize=function(t,e){return Ca(u,t,e)},u.fitWidth=function(t,e){return Na(u,t,e)},u.fitHeight=function(t,e){return Ta(u,t,e)},u.scale(1070)}function Ra(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,c,u,f,h,p=t._root,d={data:i},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(s=(g+y)/2))?g=s:y=s,r=p,!(p=p[f=u<<1|c]))return r[f]=d,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return d.next=p,r?r[f]=d:t._root=d,t;do{r=r?r[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(s=(g+y)/2))?g=s:y=s}while((f=u<<1|c)==(h=(l>=s)<<1|a>=o));return r[h]=p,r[f]=d,t}function Oa(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Fa(t){return t[0]}function Ia(t){return t[1]}function Ua(t,e,n){var i=new Ya(null==e?Fa:e,null==n?Ia:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Ya(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function qa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ha=Ua.prototype=Ya.prototype;function Va(t){return function(){return t}}function Wa(t){return 1e-6*(t()-.5)}function Ba(t){return t.x+t.vx}function Za(t){return t.y+t.vy}Ha.copy=function(){var t,e,n=new Ya(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=qa(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=qa(e));return n},Ha.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Ra(this.cover(e,n),e,n,t)},Ha.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>f&&(f=r));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<o;++n)Ra(this,s[n],a[n],t[n]);return this},Ha.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,l=r-n||1,c=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Ha.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ha.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ha.find=function(t,e,n){var i,r,o,s,a,l,c,u=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new Oa(m,u,f,h,p)),null==n?n=1/0:(u=t-n,f=e-n,h=t+n,p=e+n,n*=n);l=d.pop();)if(!(!(m=l.node)||(r=l.x0)>h||(o=l.y0)>p||(s=l.x1)<u||(a=l.y1)<f))if(m.length){var g=(r+s)/2,v=(o+a)/2;d.push(new Oa(m[3],g,v,s,a),new Oa(m[2],r,v,g,a),new Oa(m[1],g,o,s,v),new Oa(m[0],r,o,g,v)),(c=(e>=v)<<1|t>=g)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=l)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);u=t-w,f=e-w,h=t+w,p=e+w,i=m.data}}return i},Ha.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,c,u,f,h,p=this._root,d=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(a=(d+g)/2))?d=a:g=a,(u=s>=(l=(m+v)/2))?m=l:v=l,e=p,!(p=p[f=u<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[f]=r:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=r,this)},Ha.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ha.root=function(){return this._root},Ha.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ha.visit=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new Oa(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var c=(i+o)/2,u=(r+s)/2;(n=l[3])&&a.push(new Oa(n,c,u,o,s)),(n=l[2])&&a.push(new Oa(n,i,u,c,s)),(n=l[1])&&a.push(new Oa(n,c,r,o,u)),(n=l[0])&&a.push(new Oa(n,i,r,c,u))}return this},Ha.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Oa(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,f=(a+c)/2;(o=r[0])&&n.push(new Oa(o,s,a,u,f)),(o=r[1])&&n.push(new Oa(o,u,a,l,f)),(o=r[2])&&n.push(new Oa(o,s,f,u,c)),(o=r[3])&&n.push(new Oa(o,u,f,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ha.x=function(t){return arguments.length?(this._x=t,this):this._x},Ha.y=function(t){return arguments.length?(this._y=t,this):this._y};var Xa={value:()=>{}};function Ka(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Ga(i)}function Ga(t){this._=t}function Qa(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Ja(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function tl(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Xa,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Ga.prototype=Ka.prototype={constructor:Ga,on:function(t,e){var n,i=this._,r=Qa(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=tl(i[n],t.name,e);else if(null==e)for(n in i)i[n]=tl(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=Ja(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ga(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var el,nl,il=0,rl=0,ol=0,sl=0,al=0,ll=0,cl="object"==typeof performance&&performance.now?performance:Date,ul="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fl(){return al||(ul(hl),al=cl.now()+ll)}function hl(){al=0}function pl(){this._call=this._time=this._next=null}function dl(t,e,n){var i=new pl;return i.restart(t,e,n),i}function ml(){al=(sl=cl.now())+ll,il=rl=0;try{!function(){fl(),++il;for(var t,e=el;e;)(t=al-e._time)>=0&&e._call.call(void 0,t),e=e._next;--il}()}finally{il=0,function(){var t,e,n=el,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:el=e);nl=t,vl(i)}(),al=0}}function gl(){var t=cl.now(),e=t-sl;e>1e3&&(ll-=e,sl=t)}function vl(t){il||(rl&&(rl=clearTimeout(rl)),t-al>24?(t<1/0&&(rl=setTimeout(ml,t-cl.now()-ll)),ol&&(ol=clearInterval(ol))):(ol||(sl=cl.now(),ol=setInterval(gl,1e3)),il=1,ul(ml)))}pl.prototype=dl.prototype={constructor:pl,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?fl():+n)+(null==e?0:+e),this._next||nl===this||(nl?nl._next=this:el=this,nl=this),this._call=t,this._time=n,vl()},stop:function(){this._call&&(this._call=null,this._time=1/0,vl())}};const yl=4294967296;function bl(t){return t.x}function xl(t){return t.y}var wl=Math.PI*(3-Math.sqrt(5));function _l(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=new Map,l=dl(f),c=Ka("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%yl)/yl}();function f(){h(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function h(i){var l,c,u=t.length;void 0===i&&(i=1);for(var f=0;f<i;++f)for(n+=(o-n)*r,a.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),o=n*wl;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),p(),e={tick:h,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),a.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(d),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,d(n)),e):a.get(t)},find:function(e,n,i){var r,o,s,a,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(s=(r=e-(a=t[c]).x)*r+(o=n-a.y)*o)<i&&(l=a,i=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function $l(t,e,n){const i=t.slice();i[27]=e[n];const r=i[2](i[27].FAKE_VALUE*(i[27].data.value>0?1:-1));return i[28]=r,i}function Ml(t){let e,n,i,r,o,s,a,l,c,u,f,h,p,m=t[27].abbr+"";function g(...e){return t[18](t[27],...e)}return{c(){e=S("g"),n=S("circle"),a=S("text"),l=A(m),L(n,"class","node svelte-11jqfcd"),L(n,"fill",i=t[28]),L(n,"cx",r=0),L(n,"cy",o=0),L(n,"r",s=t[27].r),L(a,"class",c=d("state-label "+(t[1]?"active":""))+" svelte-11jqfcd"),L(a,"fill",u=t[9](t[28])),L(e,"class","node-group svelte-11jqfcd"),L(e,"transform",f=`translate(${t[27].x}, ${t[27].y})`)},m(t,i){k(t,e,i),_(e,n),_(e,a),_(a,l),h||(p=D(n,"click",g),h=!0)},p(r,o){t=r,5&o&&i!==(i=t[28])&&L(n,"fill",i),1&o&&s!==(s=t[27].r)&&L(n,"r",s),1&o&&m!==(m=t[27].abbr+"")&&R(l,m),2&o&&c!==(c=d("state-label "+(t[1]?"active":""))+" svelte-11jqfcd")&&L(a,"class",c),5&o&&u!==(u=t[9](t[28]))&&L(a,"fill",u),1&o&&f!==(f=`translate(${t[27].x}, ${t[27].y})`)&&L(e,"transform",f)},d(t){t&&C(e),h=!1,p()}}}function kl(e){let n,i=e[0],r=[];for(let t=0;t<i.length;t+=1)r[t]=Ml($l(e,i,t));return{c(){n=S("g");for(let t=0;t<r.length;t+=1)r[t].c();L(n,"class","bee-group")},m(t,e){k(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(775&e){let o;for(i=t[0],o=0;o<i.length;o+=1){const s=$l(t,i,o);r[o]?r[o].p(s,e):(r[o]=Ml(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&C(n),N(r,t)}}}function Cl(t,e,n){let i,r,o,s,a,c;const{height:u,width:f,rScale:h,zScale:p,data:d}=tt("LayerCake");l(t,u,(t=>n(20,a=t))),l(t,f,(t=>n(21,c=t))),l(t,h,(t=>n(16,o=t))),l(t,p,(t=>n(2,r=t))),l(t,d,(t=>n(17,s=t)));let{collideStrength:m=1}=e,{manyBodyStrength:g=1}=e,{medium:v}=e,{diet_threshold:y}=e,{partisanship_scenario:b}=e;const x=J(),w=La().translate([c/2,a/2]);let _=[],$=_l().alpha(0).alphaMin(.4).force("collide",function(t){var e,n,i,r=1,o=1;function s(){for(var t,s,l,c,u,f,h,p=e.length,d=0;d<o;++d)for(s=Ua(e,Ba,Za).visitAfter(a),t=0;t<p;++t)l=e[t],f=n[l.index],h=f*f,c=l.x+l.vx,u=l.y+l.vy,s.visit(m);function m(t,e,n,o,s){var a=t.data,p=t.r,d=f+p;if(!a)return e>c+d||o<c-d||n>u+d||s<u-d;if(a.index>l.index){var m=c-a.x-a.vx,g=u-a.y-a.vy,v=m*m+g*g;v<d*d&&(0===m&&(v+=(m=Wa(i))*m),0===g&&(v+=(g=Wa(i))*g),v=(d-(v=Math.sqrt(v)))/v*r,l.vx+=(m*=v)*(d=(p*=p)/(h+p)),l.vy+=(g*=v)*d,a.vx-=m*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=Va(null==t?1:+t)),s.initialize=function(t,n){e=t,i=n,l()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(r=+t,s):r},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Va(+e),l(),s):t},s}((t=>t.r+10)).strength(m).iterations(2)).force("charge",function(){var t,e,n,i,r,o=Va(-30),s=1,a=1/0,l=.81;function c(n){var r,o=t.length,s=Ua(t,bl,xl).visitAfter(f);for(i=n,r=0;r<o;++r)e=t[r],s.visit(h)}function u(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+o(n,e,t)}}function f(t){var e,n,i,o,s,a=0,l=0;if(t.length){for(i=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=r[e.data.index]}while(e=e.next)}t.value=a}function h(t,o,c,u){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,p=u-o,d=f*f+h*h;if(p*p/l<d)return d<a&&(0===f&&(d+=(f=Wa(n))*f),0===h&&(d+=(h=Wa(n))*h),d<s&&(d=Math.sqrt(s*d)),e.vx+=f*t.value*i/d,e.vy+=h*t.value*i/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===f&&(d+=(f=Wa(n))*f),0===h&&(d+=(h=Wa(n))*h),d<s&&(d=Math.sqrt(s*d)));do{t.data!==e&&(p=r[t.data.index]*i/d,e.vx+=f*p,e.vy+=h*p)}while(t=t.next)}}return c.initialize=function(e,i){t=e,n=i,u()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:Va(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(g));function M(t,e){x("click",{target:t.target,node:e})}const k=We().domain(r.range()).range(["gainsboro","gainsboro","black","gainsboro","gainsboro"]);return t.$$set=t=>{"collideStrength"in t&&n(10,m=t.collideStrength),"manyBodyStrength"in t&&n(11,g=t.manyBodyStrength),"medium"in t&&n(12,v=t.medium),"diet_threshold"in t&&n(13,y=t.diet_threshold),"partisanship_scenario"in t&&n(14,b=t.partisanship_scenario)},t.$$.update=()=>{196608&t.$$.dirty&&n(0,_=s.map(((t,e)=>{const[n,i]=w(t.coordinates);return{...t,FAKE_VALUE:Math.random()*t.population/1e6,x:n,y:i,r:o(Math.abs(t.data.value))}}))),32769&t.$$.dirty&&n(15,$=$.nodes(_).on("tick",(()=>{n(0,_=$.nodes())})).on("end",(()=>{n(1,i=!0)}))),28672&t.$$.dirty&&$.alpha(1).restart()},n(1,i=!1),[_,i,r,u,f,h,p,d,M,k,m,g,v,y,b,$,o,s,(t,e)=>M(e,t)]}class Nl extends St{constructor(t){super(),Tt(this,t,Cl,kl,s,{collideStrength:10,manyBodyStrength:11,medium:12,diet_threshold:13,partisanship_scenario:14})}}const Tl=Math.PI,Sl=2*Tl,Al=1e-6,El=Sl-Al;function jl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Dl(){return new jl}function Pl(t){return function(){return t}}function zl(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ll(t){this._context=t}function Rl(t){return new Ll(t)}function Ol(t){return t[0]}function Fl(t){return t[1]}function Il(t,e){var n=Pl(!0),i=null,r=Rl,o=null;function s(s){var a,l,c,u=(s=zl(s)).length,f=!1;for(null==i&&(o=r(c=Dl())),a=0;a<=u;++a)!(a<u&&n(l=s[a],a,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,a,s),+e(l,a,s));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Ol:Pl(t),e="function"==typeof e?e:void 0===e?Fl:Pl(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Pl(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Pl(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}function Ul(t,e,n){var i=null,r=Pl(!0),o=null,s=Rl,a=null;function l(l){var c,u,f,h,p,d=(l=zl(l)).length,m=!1,g=new Array(d),v=new Array(d);for(null==o&&(a=s(p=Dl())),c=0;c<=d;++c){if(!(c<d&&r(h=l[c],c,l))===m)if(m=!m)u=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=c-1;f>=u;--f)a.point(g[f],v[f]);a.lineEnd(),a.areaEnd()}m&&(g[c]=+t(h,c,l),v[c]=+e(h,c,l),a.point(i?+i(h,c,l):g[c],n?+n(h,c,l):v[c]))}if(p)return a=null,p+""||null}function c(){return Il().defined(r).curve(s).context(o)}return t="function"==typeof t?t:void 0===t?Ol:Pl(+t),e="function"==typeof e?e:Pl(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?Fl:Pl(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:Pl(+e),i=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Pl(+e),l):t},l.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Pl(+t),l):i},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:Pl(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Pl(+t),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(i).y(e)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:Pl(!!t),l):r},l.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),l):s},l.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),l):o},l}function Yl(){}function ql(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Hl(t){this._context=t}function Vl(t){return new Hl(t)}function Wl(t){this._context=t}function Bl(t){return new Wl(t)}function Zl(t){this._context=t}function Xl(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Kl(t){return new Zl(t)}jl.prototype=Dl.prototype={constructor:jl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,l=i-e,c=o-t,u=s-e,f=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Al)if(Math.abs(u*a-l*c)>Al&&r){var h=n-o,p=i-s,d=a*a+l*l,m=h*h+p*p,g=Math.sqrt(d),v=Math.sqrt(f),y=r*Math.tan((Tl-Math.acos((d+f-m)/(2*g*v)))/2),b=y/v,x=y/g;Math.abs(b-1)>Al&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+r+","+r+",0,0,"+ +(u*h>c*p)+","+(this._x1=t+x*a)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+s,c=e+a,u=1^o,f=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Al||Math.abs(this._y1-c)>Al)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Sl+Sl),f>El?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Al&&(this._+="A"+n+","+n+",0,"+ +(f>=Tl)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},Ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ql(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ql(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Wl.prototype={areaStart:Yl,areaEnd:Yl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Zl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Xl(t),r=Xl(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Gl="àáäâèéëêìíïîòóöôùúüûñç·/_,:;";function Ql(t){let e=t.replace(/^\s+|\s+$/g,"");e=e.toLowerCase();for(let t=0,n=Gl.length;t<n;t++)e=e.replace(new RegExp(Gl.charAt(t),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(t));return String(e).replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}const Jl=new Map([["tv_R",0],["tv_L",3],["online_R",1],["online_L",2]]),tc=new Map([["L","blue"],["R","red"]]),ec=new Map([["tv",{line:"#588157",polygon:"#C5CEB6"}],["online",{line:"#f7934c",polygon:"#f7c59f"}]]);function nc(t){let e,n,i,r,o,s,a,l,c,u,f,h,p,d,m,g,v,y,b,x,w,$,M,N,T,A,E,j,D,P,z,R,O,F,I,U,Y,q,H,V,W,B;return{c(){e=S("clipPath"),n=S("path"),l=S("clipPath"),c=S("path"),m=S("g"),g=S("rect"),$=S("rect"),D=S("g"),P=S("rect"),U=S("rect"),L(n,"d",i=t[3]([...t[4].filter(rc),!1])),L(n,"stroke",t[0]),L(n,"stroke-width",r=0),L(n,"fill-opacity",o=1),L(n,"fill",s=ec.get("tv").polygon),L(n,"shape-rendering","geometricPrecision"),L(e,"id",a=`clipPath-${Ql(t[2][0].state)}_tv_${t[1]}`),L(c,"d",u=t[3]([...t[4].filter(oc),!1])),L(c,"stroke",t[0]),L(c,"stroke-width",f=0),L(c,"fill-opacity",h=1),L(c,"fill",p=ec.get("online").polygon),L(c,"shape-rendering","geometricPrecision"),L(l,"id",d=`clipPath-${Ql(t[2][0].state)}_online_${t[1]}`),L(g,"x",v=-t[5]/2),L(g,"y",y=-t[6]/2),L(g,"height",b=t[6]/2),L(g,"width",x=t[5]/2),L(g,"fill","blue"),L(g,"fill-opacity",w=.5),L($,"x",M=0),L($,"y",N=-t[6]/2),L($,"height",T=t[6]/2),L($,"width",A=t[5]/2),L($,"fill","red"),L($,"fill-opacity",E=.5),L(m,"class","top_bg_tv"),L(m,"clip-path",j=`url(#clipPath-${Ql(t[2][0].state)}_tv_${t[1]})`),L(P,"x",z=-t[5]/2),L(P,"y",R=0),L(P,"height",O=t[6]/2),L(P,"width",F=t[5]/2),L(P,"fill","blue"),L(P,"fill-opacity",I=.5),L(U,"x",Y=0),L(U,"y",q=0),L(U,"height",H=t[6]/2),L(U,"width",V=t[5]/2),L(U,"fill","red"),L(U,"fill-opacity",W=.5),L(D,"class","top_bg_tv"),L(D,"clip-path",B=`url(#clipPath-${Ql(t[2][0].state)}_online_${t[1]})`)},m(t,i){k(t,e,i),_(e,n),k(t,l,i),_(l,c),k(t,m,i),_(m,g),_(m,$),k(t,D,i),_(D,P),_(D,U)},p(t,r){24&r&&i!==(i=t[3]([...t[4].filter(rc),!1]))&&L(n,"d",i),1&r&&L(n,"stroke",t[0]),6&r&&a!==(a=`clipPath-${Ql(t[2][0].state)}_tv_${t[1]}`)&&L(e,"id",a),24&r&&u!==(u=t[3]([...t[4].filter(oc),!1]))&&L(c,"d",u),1&r&&L(c,"stroke",t[0]),6&r&&d!==(d=`clipPath-${Ql(t[2][0].state)}_online_${t[1]}`)&&L(l,"id",d),32&r&&v!==(v=-t[5]/2)&&L(g,"x",v),64&r&&y!==(y=-t[6]/2)&&L(g,"y",y),64&r&&b!==(b=t[6]/2)&&L(g,"height",b),32&r&&x!==(x=t[5]/2)&&L(g,"width",x),64&r&&N!==(N=-t[6]/2)&&L($,"y",N),64&r&&T!==(T=t[6]/2)&&L($,"height",T),32&r&&A!==(A=t[5]/2)&&L($,"width",A),6&r&&j!==(j=`url(#clipPath-${Ql(t[2][0].state)}_tv_${t[1]})`)&&L(m,"clip-path",j),32&r&&z!==(z=-t[5]/2)&&L(P,"x",z),64&r&&O!==(O=t[6]/2)&&L(P,"height",O),32&r&&F!==(F=t[5]/2)&&L(P,"width",F),64&r&&H!==(H=t[6]/2)&&L(U,"height",H),32&r&&V!==(V=t[5]/2)&&L(U,"width",V),6&r&&B!==(B=`url(#clipPath-${Ql(t[2][0].state)}_online_${t[1]})`)&&L(D,"clip-path",B)},d(t){t&&C(e),t&&C(l),t&&C(m),t&&C(D)}}}function ic(e){let n,i,r=e[4]&&nc(e);return{c(){n=S("g"),r&&r.c(),L(n,"class","radar-path"),L(n,"transform",i="translate("+e[5]/2+", "+e[6]/2+")")},m(t,e){k(t,n,e),r&&r.m(n,null)},p(t,[e]){t[4]?r?r.p(t,e):(r=nc(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null),96&e&&i!==(i="translate("+t[5]/2+", "+t[6]/2+")")&&L(n,"transform",i)},i:t,o:t,d(t){t&&C(n),r&&r.d()}}}const rc=t=>"tv"===t.medium,oc=t=>"online"===t.medium;function sc(t,e,n){let i,r,o,s,a;const{data:c,width:u,height:f,xGet:h,xScale:p,extents:d}=tt("LayerCake");l(t,c,(t=>n(2,r=t))),l(t,u,(t=>n(5,s=t))),l(t,f,(t=>n(6,a=t))),l(t,p,(t=>n(20,o=t)));let m,g,{fill:v="#f0c"}=e,{stroke:y="black"}=e,{strokeWidth:b=2}=e,{fillOpacity:x=0}=e,{r:w=4.5}=e,{circleFill:_="#f0c"}=e,{circleStroke:$="#fff"}=e,{circleStrokeWidth:M=1}=e,{angleOffset:k=Math.PI/4}=e,{customClass:C=""}=e;return t.$$set=t=>{"fill"in t&&n(11,v=t.fill),"stroke"in t&&n(0,y=t.stroke),"strokeWidth"in t&&n(12,b=t.strokeWidth),"fillOpacity"in t&&n(13,x=t.fillOpacity),"r"in t&&n(14,w=t.r),"circleFill"in t&&n(15,_=t.circleFill),"circleStroke"in t&&n(16,$=t.circleStroke),"circleStrokeWidth"in t&&n(17,M=t.circleStrokeWidth),"angleOffset"in t&&n(18,k=t.angleOffset),"customClass"in t&&n(1,C=t.customClass)},t.$$.update=()=>{786432&t.$$.dirty&&n(3,m=Il().curve(Bl).x((t=>t?t.value*Math.cos(i*Jl.get(`${t.medium}_${t.political_lean}`)-Math.PI/2+k):0)).y((t=>t?t.value*Math.sin(i*Jl.get(`${t.medium}_${t.political_lean}`)-Math.PI/2+k):0))),1048580&t.$$.dirty&&n(4,g=[{value:o(r[0].right_pct),medium:"tv",political_lean:"R"},{value:o(r[1].right_pct),medium:"online",political_lean:"R"},{value:o(r[1].left_pct),medium:"tv",political_lean:"L"},{value:o(r[0].left_pct),medium:"online",political_lean:"L"}])},n(19,i=Math.PI/2),[y,C,r,m,g,s,a,c,u,f,p,v,b,x,w,_,$,M,k,i,o]}class ac extends St{constructor(t){super(),Tt(this,t,sc,ic,s,{fill:11,stroke:0,strokeWidth:12,fillOpacity:13,r:14,circleFill:15,circleStroke:16,circleStrokeWidth:17,angleOffset:18,customClass:1})}}function lc(e){let n,i,r,o,s;return{c(){n=S("g"),i=S("circle"),r=S("circle"),L(i,"cx","0"),L(i,"cy","0"),L(i,"r",e[1]),L(i,"stroke","#ccc"),L(i,"stroke-width","0.5"),L(i,"fill","#CDCDCD"),L(i,"fill-opacity",e[0]),L(r,"cx","0"),L(r,"cy","0"),L(r,"r",o=e[1]/2),L(r,"stroke","#ccc"),L(r,"stroke-width","0.5"),L(r,"fill","none"),L(n,"class","axis"),L(n,"transform",s="translate("+e[2]/2+", "+e[3]/2+")")},m(t,e){k(t,n,e),_(n,i),_(n,r)},p(t,[e]){2&e&&L(i,"r",t[1]),1&e&&L(i,"fill-opacity",t[0]),2&e&&o!==(o=t[1]/2)&&L(r,"r",o),12&e&&s!==(s="translate("+t[2]/2+", "+t[3]/2+")")&&L(n,"transform",s)},i:t,o:t,d(t){t&&C(n)}}}function cc(t,e,n){let i,r,o,s,a;const{data:c,width:u,height:f,xScale:h}=tt("LayerCake");l(t,c,(t=>n(13,r=t))),l(t,u,(t=>n(2,s=t))),l(t,f,(t=>n(3,a=t))),l(t,h,(t=>n(14,o=t)));let{lineLengthFactor:p=1.1}=e,{labelPlacementFactor:d=1.25}=e,{fillOpacity:m=0}=e,{angleOffset:g=Math.PI/4}=e,{includeAxis:v=!0}=e,{includeLabels:y=!0}=e;return t.$$set=t=>{"lineLengthFactor"in t&&n(8,p=t.lineLengthFactor),"labelPlacementFactor"in t&&n(9,d=t.labelPlacementFactor),"fillOpacity"in t&&n(0,m=t.fillOpacity),"angleOffset"in t&&n(10,g=t.angleOffset),"includeAxis"in t&&n(11,v=t.includeAxis),"includeLabels"in t&&n(12,y=t.includeLabels)},t.$$.update=()=>{16384&t.$$.dirty&&n(1,i=o.range()[1]),8192&t.$$.dirty&&(Math.PI,r.length)},[m,i,s,a,c,u,f,h,p,d,g,v,y,r,o]}class uc extends St{constructor(t){super(),Tt(this,t,cc,lc,s,{lineLengthFactor:8,labelPlacementFactor:9,fillOpacity:0,angleOffset:10,includeAxis:11,includeLabels:12})}}function fc(t){let e,n;return e=new xs({props:{$$slots:{default:[hc]},$$scope:{ctx:t}}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};20&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function hc(t){let e,n,i,r;return e=new uc({props:{includeAxis:!0,includeLabels:!1}}),i=new ac({props:{customClass:t[2]}}),{c(){Mt(e.$$.fragment),n=E(),Mt(i.$$.fragment)},m(t,o){kt(e,t,o),k(t,n,o),kt(i,t,o),r=!0},p(t,e){const n={};4&e&&(n.customClass=t[2]),i.$set(n)},i(t){r||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),xt(i.$$.fragment,t),r=!1},d(t){Ct(e,t),t&&C(n),Ct(i,t)}}}function pc(t){let e,n,i=t[3]&&fc(t);return{c(){i&&i.c(),e=j()},m(t,r){i&&i.m(t,r),k(t,e,r),n=!0},p(t,n){t[3]?i?(i.p(t,n),8&n&&bt(i,1)):(i=fc(t),i.c(),bt(i,1),i.m(e.parentNode,e)):i&&(vt(),xt(i,1,1,(()=>{i=null})),yt())},i(t){n||(bt(i),n=!0)},o(t){xt(i),n=!1},d(t){i&&i.d(t),t&&C(e)}}}function dc(t){let e,n,i,r;return n=new ls({props:{padding:t[0],data:t[1],xDomain:[0,1],xRange:mc,$$slots:{default:[pc]},$$scope:{ctx:t}}}),{c(){e=T("div"),Mt(n.$$.fragment),L(e,"class",i="radar-chart "+t[2]+" svelte-1syekv5")},m(t,i){k(t,e,i),kt(n,e,null),r=!0},p(t,[o]){const s={};1&o&&(s.padding=t[0]),2&o&&(s.data=t[1]),28&o&&(s.$$scope={dirty:o,ctx:t}),n.$set(s),(!r||4&o&&i!==(i="radar-chart "+t[2]+" svelte-1syekv5"))&&L(e,"class",i)},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){t&&C(e),Ct(n)}}}const mc=({height:t})=>[0,t/2];function gc(t,e,n){let{margins:i={top:15,right:0,bottom:15,left:0}}=e,{data:r}=e,{customClass:o}=e,s=!1;return Q((()=>{n(3,s=!0)})),t.$$set=t=>{"margins"in t&&n(0,i=t.margins),"data"in t&&n(1,r=t.data),"customClass"in t&&n(2,o=t.customClass)},[i,r,o,s]}class vc extends St{constructor(t){super(),Tt(this,t,gc,dc,s,{margins:0,data:1,customClass:2})}}const yc=xr("%b-%y");function bc(t){const e=t.slice(),n=e[1].detail.node;return e[8]=n.abbr,e[9]=n.state,e}function xc(t){let e,n,i,r,o,s,a,l,c,u,f,h=t[8]+"",p=t[9]+"";return l=new vc({props:{data:t[2].get(t[8]).get(t[3]).get(t[4]),customClass:"popupOverlay"}}),{c(){e=T("h1"),n=T("span"),i=A(h),r=E(),o=A(p),s=E(),a=T("div"),Mt(l.$$.fragment),c=E(),u=T("p"),u.innerHTML='<span class="svelte-lr02d8">TV &amp; Web news diet polarization</span> Lorem ipsum dolor sit amet consectetur \n      adipisicing elit. Odit, inventore impedit deleniti magnam eum eveniet \n      dolorum porro, saepe molestiae quis et, quia libero suscipit numquam?',L(n,"class","svelte-lr02d8"),L(e,"class","title svelte-lr02d8"),L(a,"class","overlay-bowtie-container svelte-lr02d8"),L(u,"class","caption overlay-bowtie-caption svelte-lr02d8")},m(t,h){k(t,e,h),_(e,n),_(n,i),_(e,r),_(e,o),k(t,s,h),k(t,a,h),kt(l,a,null),k(t,c,h),k(t,u,h),f=!0},p(t,e){(!f||2&e)&&h!==(h=t[8]+"")&&R(i,h),(!f||2&e)&&p!==(p=t[9]+"")&&R(o,p);const n={};30&e&&(n.data=t[2].get(t[8]).get(t[3]).get(t[4])),l.$set(n)},i(t){f||(bt(l.$$.fragment,t),f=!0)},o(t){xt(l.$$.fragment,t),f=!1},d(t){t&&C(e),t&&C(s),t&&C(a),Ct(l),t&&C(c),t&&C(u)}}}function wc(t){let e,n,i,r,o,s,a,l=!t[0]&&xc(bc(t));return{c(){e=T("div"),l&&l.c(),n=E(),i=T("div"),L(i,"class","close-button svelte-lr02d8"),L(e,"class",r="overlay "+(t[0]?"":"active")+" svelte-lr02d8")},m(r,c){k(r,e,c),l&&l.m(e,null),_(e,n),_(e,i),o=!0,s||(a=D(i,"click",t[6]),s=!0)},p(t,[i]){t[0]?l&&(vt(),xt(l,1,1,(()=>{l=null})),yt()):l?(l.p(bc(t),i),1&i&&bt(l,1)):(l=xc(bc(t)),l.c(),bt(l,1),l.m(e,n)),(!o||1&i&&r!==(r="overlay "+(t[0]?"":"active")+" svelte-lr02d8"))&&L(e,"class",r)},i(t){o||(bt(l),o=!0)},o(t){xt(l),o=!1},d(t){t&&C(e),l&&l.d(),s=!1,a()}}}function _c(t,e,n){const i=J();let{hidePopup:r}=e,{popup:o}=e,{dataMap:s}=e,{diet_threshold:a}=e,{partisanship_scenario:l}=e;function c(){i("closePopup")}return t.$$set=t=>{"hidePopup"in t&&n(0,r=t.hidePopup),"popup"in t&&n(1,o=t.popup),"dataMap"in t&&n(2,s=t.dataMap),"diet_threshold"in t&&n(3,a=t.diet_threshold),"partisanship_scenario"in t&&n(4,l=t.partisanship_scenario)},[r,o,s,a,l,c,()=>c()]}class $c extends St{constructor(t){super(),Tt(this,t,_c,wc,s,{hidePopup:0,popup:1,dataMap:2,diet_threshold:3,partisanship_scenario:4})}}var Mc=[{state:"Maine",abbr:"ME",row:1,col:11},{state:"Wisconsin",abbr:"WI",row:2,col:6},{state:"Vermont",abbr:"VT",row:2,col:10},{state:"New Hampshire",abbr:"NH",row:2,col:11},{state:"Washington",abbr:"WA",row:3,col:1},{state:"Idaho",abbr:"ID",row:3,col:2},{state:"Montana",abbr:"MT",row:3,col:3},{state:"North Dakota",abbr:"ND",row:3,col:4},{state:"Minnesota",abbr:"MN",row:3,col:5},{state:"Illinois",abbr:"IL",row:3,col:6},{state:"Michigan",abbr:"MI",row:3,col:7},{state:"New York",abbr:"NY",row:3,col:9},{state:"Massachusetts",abbr:"MA",row:3,col:10},{state:"Oregon",abbr:"OR",row:4,col:1},{state:"Nevada",abbr:"NV",row:4,col:2},{state:"Wyoming",abbr:"WY",row:4,col:3},{state:"South Dakota",abbr:"SD",row:4,col:4},{state:"Iowa",abbr:"IA",row:4,col:5},{state:"Indiana",abbr:"IN",row:4,col:6},{state:"Ohio",abbr:"OH",row:4,col:7},{state:"Pennsylvania",abbr:"PA",row:4,col:8},{state:"New Jersey",abbr:"NJ",row:4,col:9},{state:"Connecticut",abbr:"CT",row:4,col:10},{state:"Rhode Island",abbr:"RI",row:4,col:11},{state:"California",abbr:"CA",row:5,col:1},{state:"Utah",abbr:"UT",row:5,col:2},{state:"Colorado",abbr:"CO",row:5,col:3},{state:"Nebraska",abbr:"NE",row:5,col:4},{state:"Missouri",abbr:"MO",row:5,col:5},{state:"Kentucky",abbr:"KY",row:5,col:6},{state:"West Virginia",abbr:"WV",row:5,col:7},{state:"Virginia",abbr:"VA",row:5,col:8},{state:"Maryland",abbr:"MD",row:5,col:9},{state:"Delaware",abbr:"DE",row:5,col:10},{state:"Arizona",abbr:"AZ",row:6,col:2},{state:"New Mexico",abbr:"NM",row:6,col:3},{state:"Kansas",abbr:"KS",row:6,col:4},{state:"Arkansas",abbr:"AR",row:6,col:5},{state:"Tennessee",abbr:"TN",row:6,col:6},{state:"North Carolina",abbr:"NC",row:6,col:7},{state:"South Carolina",abbr:"SC",row:6,col:8},{state:"District of Columbia",abbr:"DC",row:6,col:9},{state:"Oklahoma",abbr:"OK",row:7,col:4},{state:"Louisiana",abbr:"LA",row:7,col:5},{state:"Mississippi",abbr:"MS",row:7,col:6},{state:"Alabama",abbr:"AL",row:7,col:7},{state:"Georgia",abbr:"GA",row:7,col:8},{state:"Hawaii",abbr:"HI",row:8,col:1},{state:"Alaska",abbr:"AK",row:8,col:2},{state:"Texas",abbr:"TX",row:8,col:4},{state:"Florida",abbr:"FL",row:8,col:9}];function kc(t){const e=t.slice(),n=e[14].detail.node;e[35]=n.abbr,e[36]=n.x,e[37]=n.y,e[38]=n.r;const i=e[36]-16+e[38]*Math.cos(-3*Math.PI/4);e[39]=i;const r=e[37]-16+e[38]*Math.sin(-3*Math.PI/4);return e[40]=r,e}function Cc(t,e,n){const i=t.slice();return i[41]=e[n],i}function Nc(e){let n;return{c(){n=T("div"),L(n,"class","legend-block svelte-458h5i"),O(n,"--color",e[41])},m(t,e){k(t,n,e)},p:t,d(t){t&&C(n)}}}function Tc(t){let e,n;return e=new Nl({props:{medium:t[7],diet_threshold:t[6],partisanship_scenario:t[5],collideStrength:.1,manyBodyStrength:-.5}}),e.$on("mouseenter",t[16]),e.$on("mouseleave",t[17]),e.$on("click",t[18]),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};128&n[0]&&(i.medium=t[7]),64&n[0]&&(i.diet_threshold=t[6]),32&n[0]&&(i.partisanship_scenario=t[5]),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Sc(t){let e,n,i=t[11]&&Tc(t);return{c(){i&&i.c(),e=j()},m(t,r){i&&i.m(t,r),k(t,e,r),n=!0},p(t,n){t[11]?i?(i.p(t,n),2048&n[0]&&bt(i,1)):(i=Tc(t),i.c(),bt(i,1),i.m(e.parentNode,e)):i&&(vt(),xt(i,1,1,(()=>{i=null})),yt())},i(t){n||(bt(i),n=!0)},o(t){xt(i),n=!1},d(t){i&&i.d(t),t&&C(e)}}}function Ac(t){let e,n,i=t[35]+"";return{c(){e=T("div"),n=A(i),L(e,"class","label"),O(e,"transform","translate("+t[39]+"px, "+t[40]+"px)")},m(t,i){k(t,e,i),_(e,n)},p(t,r){16384&r[0]&&i!==(i=t[35]+"")&&R(n,i),16384&r[0]&&O(e,"transform","translate("+t[39]+"px, "+t[40]+"px)")},d(t){t&&C(e)}}}function Ec(t){let e,n,i,r=!0!==t[9]&&Ac(kc(t));return n=new $c({props:{hidePopup:t[10],diet_threshold:t[6],partisanship_scenario:t[5],popup:t[13],dataMap:t[1]}}),n.$on("closePopup",t[19]),{c(){r&&r.c(),e=E(),Mt(n.$$.fragment)},m(t,o){r&&r.m(t,o),k(t,e,o),kt(n,t,o),i=!0},p(t,i){!0!==t[9]?r?r.p(kc(t),i):(r=Ac(kc(t)),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null);const o={};1024&i[0]&&(o.hidePopup=t[10]),64&i[0]&&(o.diet_threshold=t[6]),32&i[0]&&(o.partisanship_scenario=t[5]),8192&i[0]&&(o.popup=t[13]),2&i[0]&&(o.dataMap=t[1]),n.$set(o)},i(t){i||(bt(n.$$.fragment,t),i=!0)},o(t){xt(n.$$.fragment,t),i=!1},d(t){r&&r.d(t),t&&C(e),Ct(n,t)}}}function jc(t){let e,n,i,r;return e=new xs({props:{$$slots:{default:[Sc]},$$scope:{ctx:t}}}),i=new ps({props:{pointerEvents:!t[10],$$slots:{default:[Ec]},$$scope:{ctx:t}}}),{c(){Mt(e.$$.fragment),n=E(),Mt(i.$$.fragment)},m(t,o){kt(e,t,o),k(t,n,o),kt(i,t,o),r=!0},p(t,n){const r={};2272&n[0]|8192&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};1024&n[0]&&(o.pointerEvents=!t[10]),26210&n[0]|8192&n[1]&&(o.$$scope={dirty:n,ctx:t}),i.$set(o)},i(t){r||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),xt(i.$$.fragment,t),r=!1},d(t){Ct(e,t),t&&C(n),Ct(i,t)}}}function Dc(t){let e,n,i,o,s,a,l,c,u,f,h,p,d,m,g,v,y,b,x,w,$,M,j,P,z,R,O,I,U,Y,q,H,V,W,B,Z,X,K,G,Q,J,tt,et,nt,it,rt,ot,st,lt,ct,ut,ft,ht,pt,dt,mt,gt,vt,yt,wt,_t,$t,Nt,Tt,St,At,Et,jt,Dt,Pt,zt,Lt,Rt,Ot,Ft,It,Ut,Yt,qt,Ht,Vt,Wt,Bt,Zt,Xt,Kt,Gt,Qt,Jt=t[20],te=[];for(let e=0;e<Jt.length;e+=1)te[e]=Nc(Cc(t,Jt,e));return Xt=new ls({props:{flatData:t[0],data:t[12],rScale:t[21],rDomain:t[21].domain(),rRange:t[21].range(),zScale:t[22],zDomain:t[22].domain(),zRange:t[22].range(),padding:{top:0,right:0,bottom:0,left:0},$$slots:{default:[jc]},$$scope:{ctx:t}}}),{c(){e=T("div"),n=T("div"),i=T("div"),o=T("div"),s=A("Medium \n\t\t\t\t"),a=T("span"),a.textContent="?",l=E(),c=T("div"),u=A("TV"),h=E(),p=T("label"),d=T("input"),m=E(),g=T("span"),v=E(),y=T("div"),b=A("Web"),w=E(),$=T("div"),M=T("div"),j=A("Partisanship \n\t\t\t\t"),P=T("span"),P.textContent="?",z=E(),R=T("div"),O=A("Lenient"),U=E(),Y=T("label"),q=T("input"),H=E(),V=T("span"),W=E(),B=T("div"),Z=A("Strict"),K=E(),G=T("div"),Q=T("div"),J=A("Diet % \n\t\t\t\t"),tt=T("span"),tt.textContent="?",et=E(),nt=T("div"),it=A("50%"),ot=E(),st=T("label"),lt=T("input"),ct=E(),ut=T("span"),ft=E(),ht=T("div"),pt=A("75%"),mt=E(),gt=T("div"),vt=T("div"),vt.textContent="Period",yt=E(),wt=T("select"),_t=T("option"),_t.textContent="March",$t=T("option"),$t.textContent="April",Nt=E(),Tt=T("div"),St=T("div"),At=T("h5"),At.textContent="Partisan lean difference",Et=E(),jt=T("span"),jt.textContent="More left",Dt=E();for(let t=0;t<te.length;t+=1)te[t].c();Pt=E(),zt=T("span"),zt.textContent="More right",Lt=E(),Rt=T("div"),Ot=T("h5"),Ot.textContent="Per capita news consumption",Ft=E(),It=S("svg"),Ut=S("text"),Yt=A("20 per 100,000"),qt=S("circle"),Ht=S("circle"),Vt=S("text"),Wt=A("5"),Bt=E(),Zt=T("div"),Mt(Xt.$$.fragment),L(a,"class","info svelte-458h5i"),L(o,"class","control-title svelte-458h5i"),L(c,"class",f="control-label "+(t[4]?"":"active")+" svelte-458h5i"),L(d,"type","checkbox"),L(d,"id","medium"),L(d,"name","medium"),L(d,"class","svelte-458h5i"),L(g,"class","slider svelte-458h5i"),L(p,"class","switch svelte-458h5i"),L(y,"class",x="control-label "+(t[4]?"active":"")+" svelte-458h5i"),L(i,"id","medium"),L(i,"class","control control-switch svelte-458h5i"),L(P,"class","info svelte-458h5i"),L(M,"class","control-title svelte-458h5i"),L(R,"class",I="control-label "+(t[3]?"":"active")+" svelte-458h5i"),L(q,"type","checkbox"),L(q,"id","partisanship"),L(q,"name","partisanship"),L(q,"class","svelte-458h5i"),L(V,"class","slider svelte-458h5i"),L(Y,"class","switch svelte-458h5i"),L(B,"class",X="control-label "+(t[3]?"active":"")+" svelte-458h5i"),L($,"id","partisanship"),L($,"class","control control-switch svelte-458h5i"),L(tt,"class","info svelte-458h5i"),L(Q,"class","control-title svelte-458h5i"),L(nt,"class",rt="control-label "+(t[2]?"":"active")+" svelte-458h5i"),L(lt,"type","checkbox"),L(lt,"id","diet"),L(lt,"name","diet"),L(lt,"class","svelte-458h5i"),L(ut,"class","slider svelte-458h5i"),L(st,"class","switch svelte-458h5i"),L(ht,"class",dt="control-label "+(t[2]?"active":"")+" svelte-458h5i"),L(G,"id","diet"),L(G,"class","control control-switch svelte-458h5i"),L(vt,"class","control-title svelte-458h5i"),_t.__value="3",_t.value=_t.__value,_t.selected=!0,$t.__value="4",$t.value=$t.__value,L(wt,"id","period"),L(wt,"name","period"),L(wt,"class","svelte-458h5i"),void 0===t[8]&&at((()=>t[31].call(wt))),L(gt,"id","period"),L(gt,"class","control control-menu svelte-458h5i"),L(n,"class","controls svelte-458h5i"),L(At,"class","svelte-458h5i"),L(jt,"class","svelte-458h5i"),L(zt,"class","svelte-458h5i"),L(St,"class","legend-item legend-item-color svelte-458h5i"),L(Ot,"class","svelte-458h5i"),L(Ut,"x",t[21](20)+t[21](10)+2),L(Ut,"y",t[21](10)),L(Ut,"class","svelte-458h5i"),L(qt,"cx",t[21](20)+2),L(qt,"cy",t[21](20)+2),L(qt,"r",t[21](10)),L(qt,"fill","none"),L(qt,"stroke","black"),L(qt,"stroke-width",1),L(Ht,"cx",t[21](20)+2),L(Ht,"cy",t[21](20)+t[21](5)),L(Ht,"r",t[21](0)),L(Ht,"fill","none"),L(Ht,"stroke","black"),L(Ht,"stroke-width",1),L(Vt,"x",t[21](20)+t[21](0)+2),L(Vt,"y",t[21](20)+t[21](5)-8),L(Vt,"class","svelte-458h5i"),L(It,"class","svelte-458h5i"),L(Rt,"class","legend-item legend-item-size svelte-458h5i"),L(Tt,"class","legend svelte-458h5i"),L(e,"class","chart-info-wrapper main-column svelte-458h5i"),L(Zt,"id","beeswarm"),L(Zt,"class","chart beeswarm-chart svelte-458h5i")},m(r,f){k(r,e,f),_(e,n),_(n,i),_(i,o),_(o,s),_(o,a),_(i,l),_(i,c),_(c,u),_(i,h),_(i,p),_(p,d),d.checked=t[4],_(p,m),_(p,g),_(i,v),_(i,y),_(y,b),_(n,w),_(n,$),_($,M),_(M,j),_(M,P),_($,z),_($,R),_(R,O),_($,U),_($,Y),_(Y,q),q.checked=t[3],_(Y,H),_(Y,V),_($,W),_($,B),_(B,Z),_(n,K),_(n,G),_(G,Q),_(Q,J),_(Q,tt),_(G,et),_(G,nt),_(nt,it),_(G,ot),_(G,st),_(st,lt),lt.checked=t[2],_(st,ct),_(st,ut),_(G,ft),_(G,ht),_(ht,pt),_(n,mt),_(n,gt),_(gt,vt),_(gt,yt),_(gt,wt),_(wt,_t),_(wt,$t),F(wt,t[8]),_(e,Nt),_(e,Tt),_(Tt,St),_(St,At),_(St,Et),_(St,jt),_(St,Dt);for(let t=0;t<te.length;t+=1)te[t].m(St,null);_(St,Pt),_(St,zt),_(Tt,Lt),_(Tt,Rt),_(Rt,Ot),_(Rt,Ft),_(Rt,It),_(It,Ut),_(Ut,Yt),_(It,qt),_(It,Ht),_(It,Vt),_(Vt,Wt),k(r,Bt,f),k(r,Zt,f),kt(Xt,Zt,null),Kt=!0,Gt||(Qt=[D(a,"mouseenter",t[25]),D(a,"mouseleave",Pc),D(d,"change",t[26]),D(P,"mouseenter",t[27]),D(P,"mouseleave",zc),D(q,"change",t[28]),D(tt,"mouseenter",t[29]),D(tt,"mouseleave",Lc),D(lt,"change",t[30]),D(wt,"change",t[31])],Gt=!0)},p(t,e){if((!Kt||16&e[0]&&f!==(f="control-label "+(t[4]?"":"active")+" svelte-458h5i"))&&L(c,"class",f),16&e[0]&&(d.checked=t[4]),(!Kt||16&e[0]&&x!==(x="control-label "+(t[4]?"active":"")+" svelte-458h5i"))&&L(y,"class",x),(!Kt||8&e[0]&&I!==(I="control-label "+(t[3]?"":"active")+" svelte-458h5i"))&&L(R,"class",I),8&e[0]&&(q.checked=t[3]),(!Kt||8&e[0]&&X!==(X="control-label "+(t[3]?"active":"")+" svelte-458h5i"))&&L(B,"class",X),(!Kt||4&e[0]&&rt!==(rt="control-label "+(t[2]?"":"active")+" svelte-458h5i"))&&L(nt,"class",rt),4&e[0]&&(lt.checked=t[2]),(!Kt||4&e[0]&&dt!==(dt="control-label "+(t[2]?"active":"")+" svelte-458h5i"))&&L(ht,"class",dt),256&e[0]&&F(wt,t[8]),1048576&e[0]){let n;for(Jt=t[20],n=0;n<Jt.length;n+=1){const i=Cc(t,Jt,n);te[n]?te[n].p(i,e):(te[n]=Nc(i),te[n].c(),te[n].m(St,Pt))}for(;n<te.length;n+=1)te[n].d(1);te.length=Jt.length}const n={};1&e[0]&&(n.flatData=t[0]),4096&e[0]&&(n.data=t[12]),28386&e[0]|8192&e[1]&&(n.$$scope={dirty:e,ctx:t}),Xt.$set(n)},i(t){Kt||(bt(Xt.$$.fragment,t),Kt=!0)},o(t){xt(Xt.$$.fragment,t),Kt=!1},d(t){t&&C(e),N(te,t),t&&C(Bt),t&&C(Zt),Ct(Xt),Gt=!1,r(Qt)}}}const Pc=()=>{},zc=()=>{},Lc=()=>{};function Rc(t,e,n){let i,r,o,s,a;const l=new Map(Mc.map((t=>[t.state,t])));let{data:c}=e,{states:u}=e,{dataMap:f}=e,{fullDataMap:h}=e;const p=new Map([["partisanship","partisanship"],["diet","diet"],["tv","tv"]]);let d,m=!0,g=!0,v=!0,y="3",b=!0,x=!0,w=!1;Q((()=>{n(11,w=!0)}));const _=Vo().domain([-2,0,2]).interpolator(qn(jn.gamma(.5),["#011f5b","#D4BAC7","#990000"])),$=[-1,-.5,0,.5,1].map(_),M=_i().domain([0,20]).range([10,50]),k=$i().domain([-.5,-.25,.25,.5]).range($);return t.$$set=t=>{"data"in t&&n(0,c=t.data),"states"in t&&n(23,u=t.states),"dataMap"in t&&n(24,f=t.dataMap),"fullDataMap"in t&&n(1,h=t.fullDataMap)},t.$$.update=()=>{16&t.$$.dirty[0]&&n(7,i=v?"tv":"online"),4&t.$$.dirty[0]&&n(6,r=m?75:50),8&t.$$.dirty[0]&&n(5,o=g?"lenient":"strict"),25166048&t.$$.dirty[0]&&n(12,d=u.map((t=>{const{abbr:e}=l.get(t.state),n=f.get(e).get(i).get(r).get(o)[0];return Object.assign(Object.assign({},t),{abbr:e,data:n})})))},n(14,s=null),n(13,a=null),[c,h,m,g,v,o,r,i,y,b,x,w,d,a,s,p,function(t){n(9,b=!1),n(14,s=t)},function(){n(9,b=!0),n(14,s=null)},function(t){n(10,x=!1),n(13,a=t)},function(){n(10,x=!0),n(13,a=null)},$,M,k,u,f,()=>{console.log(p.get("tv"))},function(){v=this.checked,n(4,v)},()=>{console.log(p.get("partisanship"))},function(){g=this.checked,n(3,g)},()=>{console.log(p.get("diet"))},function(){m=this.checked,n(2,m)},function(){y=I(this),n(8,y)}]}class Oc extends St{constructor(t){super(),Tt(this,t,Rc,Dc,s,{data:0,states:23,dataMap:24,fullDataMap:1},null,[-1,-1])}}function Fc(e){let n;return{c(){n=T("div"),n.innerHTML='<div class="lds-roller svelte-1j12haf"><div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div> \n    <div class="svelte-1j12haf"></div></div>',L(n,"class","chart-placeholder svelte-1j12haf")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&C(n)}}}class Ic extends St{constructor(t){super(),Tt(this,t,null,Fc,s,{})}}var Uc=[{coordinates:[-86.766233,33.001471],state:"Alabama",population:4447100},{coordinates:[-148.716968,61.288254],state:"Alaska",population:626932},{coordinates:[-111.828711,33.373506],state:"Arizona",population:5130632},{coordinates:[-92.576816,35.080251],state:"Arkansas",population:2673400},{coordinates:[-119.355165,35.458606],state:"California",population:33871648},{coordinates:[-105.203628,39.500656],state:"Colorado",population:4301261},{coordinates:[-72.874365,41.494852],state:"Connecticut",population:3405565},{coordinates:[-75.561908,39.397164],state:"Delaware",population:783600},{coordinates:[-77.014001,38.910092],state:"District of Columbia",population:572059},{coordinates:[-81.634622,27.79585],state:"Florida",population:15982378},{coordinates:[-83.868887,33.332208],state:"Georgia",population:8186453},{coordinates:[-157.524452,21.146768],state:"Hawaii",population:1211537},{coordinates:[-115.133222,44.242605],state:"Idaho",population:1293953},{coordinates:[-88.380238,41.278216],state:"Illinois",population:12419293},{coordinates:[-86.261515,40.163935],state:"Indiana",population:6080485},{coordinates:[-93.049161,41.960392],state:"Iowa",population:2926324},{coordinates:[-96.536052,38.454303],state:"Kansas",population:2688418},{coordinates:[-85.241819,37.808159],state:"Kentucky",population:4041769},{coordinates:[-91.457133,30.69927],state:"Louisiana",population:4468976},{coordinates:[-69.719931,44.313614],state:"Maine",population:1274923},{coordinates:[-76.797396,39.145653],state:"Maryland",population:5296486},{coordinates:[-71.363628,42.271831],state:"Massachusetts",population:6349097},{coordinates:[-84.170753,42.866412],state:"Michigan",population:9938444},{coordinates:[-93.583003,45.210782],state:"Minnesota",population:4919479},{coordinates:[-89.593164,32.56642],state:"Mississippi",population:2844658},{coordinates:[-92.15377,38.437715],state:"Missouri",population:5595211},{coordinates:[-111.209708,46.813302],state:"Montana",population:902195},{coordinates:[-97.403875,41.183753],state:"Nebraska",population:1711263},{coordinates:[-116.304648,37.165965],state:"Nevada",population:1998257},{coordinates:[-71.463342,43.153046],state:"New Hampshire",population:1235786},{coordinates:[-74.428055,40.438458],state:"New Jersey",population:8414350},{coordinates:[-106.342108,34.623012],state:"New Mexico",population:1819046},{coordinates:[-74.645228,41.507548],state:"New York",population:18976457},{coordinates:[-79.667654,35.553334],state:"North Carolina",population:8049313},{coordinates:[-99.334736,47.375168],state:"North Dakota",population:642200},{coordinates:[-82.749366,40.480854],state:"Ohio",population:11353140},{coordinates:[-96.834653,35.59794],state:"Oklahoma",population:3450654},{coordinates:[-122.579524,44.732273],state:"Oregon",population:3421399},{coordinates:[-77.075925,40.463528],state:"Pennsylvania",population:12281054},{coordinates:[-71.448902,41.753318],state:"Rhode Island",population:1048319},{coordinates:[-81.032387,34.034551],state:"South Carolina",population:4012012},{coordinates:[-99.043799,44.047502],state:"South Dakota",population:754844},{coordinates:[-86.397772,35.795862],state:"Tennessee",population:5689283},{coordinates:[-97.388631,30.943149],state:"Texas",population:20851820},{coordinates:[-111.90016,40.438987],state:"Utah",population:2233169},{coordinates:[-72.814309,44.081127],state:"Vermont",population:608827},{coordinates:[-77.835857,37.750345],state:"Virginia",population:7078515},{coordinates:[-121.624501,47.341728],state:"Washington",population:5894121},{coordinates:[-80.820221,38.767195],state:"West Virginia",population:1808344},{coordinates:[-89.001006,43.728544],state:"Wisconsin",population:5363675},{coordinates:[-107.008835,42.675762],state:"Wyoming",population:493782}];function Yc(e){let n,i;return n=new Ic({}),{c(){Mt(n.$$.fragment)},m(t,e){kt(n,t,e),i=!0},p:t,i(t){i||(bt(n.$$.fragment,t),i=!0)},o(t){xt(n.$$.fragment,t),i=!1},d(t){Ct(n,t)}}}function qc(t){let e,n;return e=new Oc({props:{data:t[3],states:Uc,dataMap:t[4],fullDataMap:t[5]}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.data=t[3]),16&n&&(i.dataMap=t[4]),32&n&&(i.fullDataMap=t[5]),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Hc(t){let e,n,i,r,o,s,a,l,c,u,f;i=new ve({props:{title:t[0]}}),o=new ke({props:{standfirst:t[1]}}),a=new Pe({props:{authors:t[2]}});const h=[qc,Yc],p=[];function d(t,e){return t[3]&&t[3].length?0:1}return c=d(t),u=p[c]=h[c](t),{c(){e=T("main"),n=T("div"),Mt(i.$$.fragment),r=E(),Mt(o.$$.fragment),s=E(),Mt(a.$$.fragment),l=E(),u.c(),L(n,"class","header-wrapper main-column svelte-1uwrx5s"),L(e,"class","svelte-1uwrx5s")},m(t,u){k(t,e,u),_(e,n),kt(i,n,null),_(n,r),kt(o,n,null),_(n,s),kt(a,n,null),_(e,l),p[c].m(e,null),f=!0},p(t,[n]){const r={};1&n&&(r.title=t[0]),i.$set(r);const s={};2&n&&(s.standfirst=t[1]),o.$set(s);const l={};4&n&&(l.authors=t[2]),a.$set(l);let f=c;c=d(t),c===f?p[c].p(t,n):(vt(),xt(p[f],1,1,(()=>{p[f]=null})),yt(),u=p[c],u?u.p(t,n):(u=p[c]=h[c](t),u.c()),bt(u,1),u.m(e,null))},i(t){f||(bt(i.$$.fragment,t),bt(o.$$.fragment,t),bt(a.$$.fragment,t),bt(u),f=!0)},o(t){xt(i.$$.fragment,t),xt(o.$$.fragment,t),xt(a.$$.fragment,t),xt(u),f=!1},d(t){t&&C(e),Ct(i),Ct(o),Ct(a),p[c].d()}}}function Vc(t,e,n){let i,r,o,{title:s}=e,{standfirst:a=[{value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Commodi consequatur inventore exercitationem ex perferendis provident, earum cumque maiores quam quidem labore, mollitia odit eaque laborum?"}]}=e,{authors:l}=e;return Q((async()=>{const t=await Zt("assets/data/dupe-data-by-state-grid-map.csv",qt);n(3,i=t),n(4,r=se(t.filter((t=>4===t.month)),(t=>t.state),(t=>t.medium),(t=>t.diet_threshold),(t=>t.partisanship_scenario))),n(5,o=se(t.filter((t=>4===t.month)),(t=>t.state),(t=>t.diet_threshold),(t=>t.partisanship_scenario)))})),t.$$set=t=>{"title"in t&&n(0,s=t.title),"standfirst"in t&&n(1,a=t.standfirst),"authors"in t&&n(2,l=t.authors)},[s,a,l,i,r,o]}class Wc extends St{constructor(t){super(),Tt(this,t,Vc,Hc,s,{title:0,standfirst:1,authors:2})}}function Bc(t,e={}){let n;const i=i=>{const r=i[0].isIntersecting?"enter":"exit";"enter"===r&&t.dispatchEvent(new CustomEvent(r)),"enter"===r&&e.once&&n.disconnect()},r=({root:e,top:r,bottom:o})=>{const s={root:e,rootMargin:`${r?-1*r:0}px 0px ${o?-1*o:0}px 0px`};n&&n.disconnect(),n=new IntersectionObserver(i,s),n.observe(t)};return r(e),{update(t){r(t)},destroy(){n&&n.disconnect()}}}function Zc(t,e,n){const i=t.slice();i[14]=e[n],i[18]=n;const r=i[14][1][0][1].map(((t,e)=>({...t,value_2:i[14][1][1][1][e].value})));i[15]=r;const o=i[4](i[14][0]);return i[16]=o,i}function Xc(t,e,n){const i=t.slice();return i[19]=e[n],i[21]=n,i}function Kc(t){let e,n,i,r,o,s,a,l;return{c(){e=S("path"),o=S("path"),L(e,"class",n=d(`path-line path-line-${t[19][0]}`)+" svelte-bfpx4i"),L(e,"d",i=t[2](t[19][1])),L(e,"stroke",r=t[16]),L(o,"class",s=d(`path-polygon path-polygon-${t[19][0]}`)+" svelte-bfpx4i"),L(o,"d",a=t[1](t[15])),L(o,"fill",l=t[16])},m(t,n){k(t,e,n),k(t,o,n)},p(t,c){8&c&&n!==(n=d(`path-line path-line-${t[19][0]}`)+" svelte-bfpx4i")&&L(e,"class",n),12&c&&i!==(i=t[2](t[19][1]))&&L(e,"d",i),24&c&&r!==(r=t[16])&&L(e,"stroke",r),8&c&&s!==(s=d(`path-polygon path-polygon-${t[19][0]}`)+" svelte-bfpx4i")&&L(o,"class",s),10&c&&a!==(a=t[1](t[15]))&&L(o,"d",a),24&c&&l!==(l=t[16])&&L(o,"fill",l)},d(t){t&&C(e),t&&C(o)}}}function Gc(t){let e,n,i=t[14][1].filter(Jc),r=[];for(let e=0;e<i.length;e+=1)r[e]=Kc(Xc(t,i,e));return{c(){e=S("g");for(let t=0;t<r.length;t+=1)r[t].c();L(e,"class",n="threshold-group threshold-group-"+t[14][0]+" svelte-bfpx4i")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(30&o){let n;for(i=t[14][1].filter(Jc),n=0;n<i.length;n+=1){const s=Xc(t,i,n);r[n]?r[n].p(s,o):(r[n]=Kc(s),r[n].c(),r[n].m(e,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=i.length}8&o&&n!==(n="threshold-group threshold-group-"+t[14][0]+" svelte-bfpx4i")&&L(e,"class",n)},d(t){t&&C(e),N(r,t)}}}function Qc(e){let n,i,r=e[3],o=[];for(let t=0;t<r.length;t+=1)o[t]=Gc(Zc(e,r,t));return{c(){n=S("g");for(let t=0;t<o.length;t+=1)o[t].c();L(n,"class",i=d(`line-group line-group-${e[0]}`)+" svelte-bfpx4i")},m(t,e){k(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(30&e){let i;for(r=t[3],i=0;i<r.length;i+=1){const s=Zc(t,r,i);o[i]?o[i].p(s,e):(o[i]=Gc(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}1&e&&i!==(i=d(`line-group line-group-${t[0]}`)+" svelte-bfpx4i")&&L(n,"class",i)},i:t,o:t,d(t){t&&C(n),N(o,t)}}}const Jc=t=>50===t[0];function tu(t,e,n){let i,r,o,s,a,c,u;const{data:f,xGet:h,yGet:p,xScale:d,yScale:m,zScale:g}=tt("LayerCake");l(t,f,(t=>n(3,c=t))),l(t,h,(t=>n(12,a=t))),l(t,p,(t=>n(11,s=t))),l(t,m,(t=>n(10,o=t))),l(t,g,(t=>n(4,u=t)));let{activeChart:v}=e;return t.$$set=t=>{"activeChart"in t&&n(0,v=t.activeChart)},t.$$.update=()=>{6144&t.$$.dirty&&n(2,i=Il().x((t=>a(t))).y((t=>s(t))).curve(Vl)),7168&t.$$.dirty&&n(1,r=Ul().x((t=>a(t))).y0((t=>s(t))).y1((t=>o(t.value_2))))},[v,r,i,c,u,f,h,p,m,g,o,s,a]}class eu extends St{constructor(t){super(),Tt(this,t,tu,Qc,s,{activeChart:0})}}function nu(t,e,n){const i=t.slice();return i[19]=e[n],i[21]=n,i}function iu(t){let e,n;return{c(){e=S("line"),L(e,"class","gridline svelte-11s23aw"),L(e,"y1",n=-1*t[11]),L(e,"y2","0"),L(e,"x1","0"),L(e,"x2","0")},m(t,n){k(t,e,n)},p(t,i){2048&i&&n!==(n=-1*t[11])&&L(e,"y1",n)},d(t){t&&C(e)}}}function ru(t){let e,n,i;return{c(){e=S("line"),L(e,"class","tick-mark svelte-11s23aw"),L(e,"y1",0),L(e,"y2",6),L(e,"x1",n=t[5]||t[7]?t[8].bandwidth()/2:0),L(e,"x2",i=t[5]||t[7]?t[8].bandwidth()/2:0)},m(t,n){k(t,e,n)},p(t,r){416&r&&n!==(n=t[5]||t[7]?t[8].bandwidth()/2:0)&&L(e,"x1",n),416&r&&i!==(i=t[5]||t[7]?t[8].bandwidth()/2:0)&&L(e,"x2",i)},d(t){t&&C(e)}}}function ou(t){let e,n,i,r,o,s,a,l,c=t[4](t[19])+"",u=!1!==t[0]&&iu(t),f=!0===t[1]&&ru(t);return{c(){e=S("g"),u&&u.c(),n=j(),f&&f.c(),i=S("text"),r=A(c),L(i,"x",o=t[5]||t[7]?t[8].bandwidth()/2:0),L(i,"y",t[6]),L(i,"dx",""),L(i,"dy",""),L(i,"text-anchor",s=t[17](t[21])),L(i,"class","svelte-11s23aw"),L(e,"class",a="tick tick-"+t[21]+" svelte-11s23aw"),L(e,"transform",l="translate("+t[8](t[19])+","+t[10][0]+")")},m(t,o){k(t,e,o),u&&u.m(e,null),_(e,n),f&&f.m(e,null),_(e,i),_(i,r)},p(t,s){!1!==t[0]?u?u.p(t,s):(u=iu(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?f?f.p(t,s):(f=ru(t),f.c(),f.m(e,i)):f&&(f.d(1),f=null),528&s&&c!==(c=t[4](t[19])+"")&&R(r,c),416&s&&o!==(o=t[5]||t[7]?t[8].bandwidth()/2:0)&&L(i,"x",o),64&s&&L(i,"y",t[6]),1792&s&&l!==(l="translate("+t[8](t[19])+","+t[10][0]+")")&&L(e,"transform",l)},d(t){t&&C(e),u&&u.d(),f&&f.d()}}}function su(t){let e,n,i;return{c(){e=S("line"),L(e,"class","baseline svelte-11s23aw"),L(e,"y1",n=t[11]+.5),L(e,"y2",i=t[11]+.5),L(e,"x1","0"),L(e,"x2",t[12])},m(t,n){k(t,e,n)},p(t,r){2048&r&&n!==(n=t[11]+.5)&&L(e,"y1",n),2048&r&&i!==(i=t[11]+.5)&&L(e,"y2",i),4096&r&&L(e,"x2",t[12])},d(t){t&&C(e)}}}function au(e){let n,i,r=e[9],o=[];for(let t=0;t<r.length;t+=1)o[t]=ou(nu(e,r,t));let s=!0===e[2]&&su(e);return{c(){n=S("g");for(let t=0;t<o.length;t+=1)o[t].c();i=j(),s&&s.c(),L(n,"class","axis x-axis svelte-11s23aw"),q(n,"snapTicks",e[3])},m(t,e){k(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);_(n,i),s&&s.m(n,null)},p(t,[e]){if(135155&e){let s;for(r=t[9],s=0;s<r.length;s+=1){const a=nu(t,r,s);o[s]?o[s].p(a,e):(o[s]=ou(a),o[s].c(),o[s].m(n,i))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}!0===t[2]?s?s.p(t,e):(s=su(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),8&e&&q(n,"snapTicks",t[3])},i:t,o:t,d(t){t&&C(n),N(o,t),s&&s.d()}}}function lu(t,e,n){let i,r,o,s,a,c;const{width:u,height:f,xScale:h,yRange:p}=tt("LayerCake");l(t,u,(t=>n(12,c=t))),l(t,f,(t=>n(11,a=t))),l(t,h,(t=>n(8,o=t))),l(t,p,(t=>n(10,s=t)));let{gridlines:d=!0}=e,{tickMarks:m=!1}=e,{baseline:g=!1}=e,{snapTicks:v=!1}=e,{formatTick:y=(t=>t)}=e,{ticks:b}=e,{xTick:x=0}=e,{yTick:w=16}=e;return t.$$set=t=>{"gridlines"in t&&n(0,d=t.gridlines),"tickMarks"in t&&n(1,m=t.tickMarks),"baseline"in t&&n(2,g=t.baseline),"snapTicks"in t&&n(3,v=t.snapTicks),"formatTick"in t&&n(4,y=t.formatTick),"ticks"in t&&n(18,b=t.ticks),"xTick"in t&&n(5,x=t.xTick),"yTick"in t&&n(6,w=t.yTick)},t.$$.update=()=>{256&t.$$.dirty&&n(7,i="function"==typeof o.bandwidth),262528&t.$$.dirty&&n(9,r=Array.isArray(b)?b:i?o.domain():"function"==typeof b?b(o.ticks()):o.ticks(b))},[d,m,g,v,y,x,w,i,o,r,s,a,c,u,f,h,p,function(t){if(!0===v){if(0===t)return"start";if(t===r.length-1)return"end"}return"middle"},b]}class cu extends St{constructor(t){super(),Tt(this,t,lu,au,s,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function uu(t,e,n){const i=t.slice();return i[17]=e[n],i[19]=n,i}function fu(t){let e,n,i;return{c(){e=S("line"),L(e,"class","gridline svelte-6edweo"),L(e,"x2","100%"),L(e,"y1",n=t[4]+(t[8]?t[9].bandwidth()/2:0)),L(e,"y2",i=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){k(t,e,n)},p(t,r){784&r&&n!==(n=t[4]+(t[8]?t[9].bandwidth()/2:0))&&L(e,"y1",n),784&r&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&L(e,"y2",i)},d(t){t&&C(e)}}}function hu(t){let e,n,i,r;return{c(){e=S("line"),L(e,"class","tick-mark svelte-6edweo"),L(e,"x1","0"),L(e,"x2",n=t[8]?-6:6),L(e,"y1",i=t[4]+(t[8]?t[9].bandwidth()/2:0)),L(e,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){k(t,e,n)},p(t,o){256&o&&n!==(n=t[8]?-6:6)&&L(e,"x2",n),784&o&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&L(e,"y1",i),784&o&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&L(e,"y2",r)},d(t){t&&C(e)}}}function pu(t){let e,n,i,r,o,s,a,l,c,u=t[2](t[17],t[19],t[10].length)+"",f=!1!==t[0]&&fu(t),h=!0===t[1]&&hu(t);return{c(){e=S("g"),f&&f.c(),n=j(),h&&h.c(),i=S("text"),r=A(u),L(i,"x",t[3]),L(i,"y",o=t[4]+(t[8]?t[9].bandwidth()/2:0)),L(i,"dx",s=t[8]?-9:t[5]),L(i,"dy",a=t[8]?4:t[6]),O(i,"text-anchor",t[8]?"end":t[7]),L(i,"class","svelte-6edweo"),L(e,"class",l="tick tick-"+t[17]+" svelte-6edweo"),L(e,"transform",c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")},m(t,o){k(t,e,o),f&&f.m(e,null),_(e,n),h&&h.m(e,null),_(e,i),_(i,r)},p(t,p){!1!==t[0]?f?f.p(t,p):(f=fu(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),!0===t[1]?h?h.p(t,p):(h=hu(t),h.c(),h.m(e,i)):h&&(h.d(1),h=null),1028&p&&u!==(u=t[2](t[17],t[19],t[10].length)+"")&&R(r,u),8&p&&L(i,"x",t[3]),784&p&&o!==(o=t[4]+(t[8]?t[9].bandwidth()/2:0))&&L(i,"y",o),288&p&&s!==(s=t[8]?-9:t[5])&&L(i,"dx",s),320&p&&a!==(a=t[8]?4:t[6])&&L(i,"dy",a),384&p&&O(i,"text-anchor",t[8]?"end":t[7]),1024&p&&l!==(l="tick tick-"+t[17]+" svelte-6edweo")&&L(e,"class",l),7936&p&&c!==(c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&L(e,"transform",c)},d(t){t&&C(e),f&&f.d(),h&&h.d()}}}function du(e){let n,i,r=e[10],o=[];for(let t=0;t<r.length;t+=1)o[t]=pu(uu(e,r,t));return{c(){n=S("g");for(let t=0;t<o.length;t+=1)o[t].c();L(n,"class","axis y-axis"),L(n,"transform",i="translate("+-e[11].left+", 0)")},m(t,e){k(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(8191&e){let i;for(r=t[10],i=0;i<r.length;i+=1){const s=uu(t,r,i);o[i]?o[i].p(s,e):(o[i]=pu(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}2048&e&&i!==(i="translate("+-t[11].left+", 0)")&&L(n,"transform",i)},i:t,o:t,d(t){t&&C(n),N(o,t)}}}function mu(t,e,n){let i,r,o,s,a;const{padding:c,xRange:u,yScale:f}=tt("LayerCake");l(t,c,(t=>n(11,s=t))),l(t,u,(t=>n(12,a=t))),l(t,f,(t=>n(9,o=t)));let{gridlines:h=!0}=e,{tickMarks:p=!1}=e,{formatTick:d=(t=>t)}=e,{ticks:m=4}=e,{xTick:g=0}=e,{yTick:v=0}=e,{dxTick:y=0}=e,{dyTick:b=-4}=e,{textAnchor:x="start"}=e;return t.$$set=t=>{"gridlines"in t&&n(0,h=t.gridlines),"tickMarks"in t&&n(1,p=t.tickMarks),"formatTick"in t&&n(2,d=t.formatTick),"ticks"in t&&n(16,m=t.ticks),"xTick"in t&&n(3,g=t.xTick),"yTick"in t&&n(4,v=t.yTick),"dxTick"in t&&n(5,y=t.dxTick),"dyTick"in t&&n(6,b=t.dyTick),"textAnchor"in t&&n(7,x=t.textAnchor)},t.$$.update=()=>{512&t.$$.dirty&&n(8,i="function"==typeof o.bandwidth),66304&t.$$.dirty&&n(10,r=Array.isArray(m)?m:i?o.domain():"function"==typeof m?m(o.ticks()):o.ticks(m))},[h,p,d,g,v,y,b,x,i,o,r,s,a,c,u,f,m]}class gu extends St{constructor(t){super(),Tt(this,t,mu,du,s,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}function vu(e){let n,i,r,o,s,a,l,c,u,f,h;return{c(){n=T("div"),i=T("span"),r=A(e[0]),o=E(),s=T("a"),a=A("Download data "),l=S("svg"),c=S("path"),u=S("polyline"),f=S("line"),L(i,"class","caption-text svelte-1m1lkwz"),L(c,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),L(u,"points","7 10 12 15 17 10"),L(f,"x1","12"),L(f,"y1","15"),L(f,"x2","12"),L(f,"y2","3"),L(l,"xmlns","http://www.w3.org/2000/svg"),L(l,"width","24"),L(l,"height","24"),L(l,"viewBox","0 0 24 24"),L(l,"fill","none"),L(l,"stroke","currentColor"),L(l,"stroke-width","2"),L(l,"stroke-linecap","round"),L(l,"stroke-linejoin","round"),L(l,"class","feather feather-download svelte-1m1lkwz"),L(s,"class","download-button svelte-1m1lkwz"),L(s,"href",e[1]),L(s,"download",""),L(n,"class",h="caption caption-"+e[2]+" svelte-1m1lkwz")},m(t,e){k(t,n,e),_(n,i),_(i,r),_(n,o),_(n,s),_(s,a),_(s,l),_(l,c),_(l,u),_(l,f)},p(t,[e]){1&e&&R(r,t[0]),2&e&&L(s,"href",t[1]),4&e&&h!==(h="caption caption-"+t[2]+" svelte-1m1lkwz")&&L(n,"class",h)},i:t,o:t,d(t){t&&C(n)}}}function yu(t,e,n){let{caption:i}=e,{url:r}=e,{type:o}=e;return t.$$set=t=>{"caption"in t&&n(0,i=t.caption),"url"in t&&n(1,r=t.url),"type"in t&&n(2,o=t.type)},[i,r,o]}class bu extends St{constructor(t){super(),Tt(this,t,yu,vu,s,{caption:0,url:1,type:2})}}function xu(t){let e,n,i,r;return e=new cu({props:{gridlines:!1,ticks:t[10],formatTick:t[9],snapTicks:!1,tickMarks:!0}}),i=new gu({props:{ticks:4,formatTick:t[11]}}),{c(){Mt(e.$$.fragment),n=E(),Mt(i.$$.fragment)},m(t,o){kt(e,t,o),k(t,n,o),kt(i,t,o),r=!0},p(t,n){const r={};1024&n&&(r.ticks=t[10]),512&n&&(r.formatTick=t[9]),e.$set(r);const o={};2048&n&&(o.formatTick=t[11]),i.$set(o)},i(t){r||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),xt(i.$$.fragment,t),r=!1},d(t){Ct(e,t),t&&C(n),Ct(i,t)}}}function wu(t){let e,n,i,r=t[15]&&xu(t);return n=new eu({props:{activeChart:"test"}}),{c(){r&&r.c(),e=E(),Mt(n.$$.fragment)},m(t,o){r&&r.m(t,o),k(t,e,o),kt(n,t,o),i=!0},p(t,n){t[15]?r?(r.p(t,n),32768&n&&bt(r,1)):(r=xu(t),r.c(),bt(r,1),r.m(e.parentNode,e)):r&&(vt(),xt(r,1,1,(()=>{r=null})),yt())},i(t){i||(bt(r),bt(n.$$.fragment,t),i=!0)},o(t){xt(r),xt(n.$$.fragment,t),i=!1},d(t){r&&r.d(t),t&&C(e),Ct(n,t)}}}function _u(t){let e,n,i,r;return e=new xs({props:{$$slots:{default:[wu]},$$scope:{ctx:t}}}),i=new ps({}),{c(){Mt(e.$$.fragment),n=E(),Mt(i.$$.fragment)},m(t,o){kt(e,t,o),k(t,n,o),kt(i,t,o),r=!0},p(t,n){const i={};33590784&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),xt(i.$$.fragment,t),r=!1},d(t){Ct(e,t),t&&C(n),Ct(i,t)}}}function $u(t){let e,n;return e=new bu({props:{caption:t[1],url:t[3],type:12===t[13]?"split-cols":"single-cols"}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.caption=t[1]),8&n&&(i.url=t[3]),8192&n&&(i.type=12===t[13]?"split-cols":"single-cols"),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Mu(t){let e,n,i,r,o,s;n=new ls({props:{padding:t[0],flatData:t[2].filter(t[23]),data:ae(t[4].filter(t[24]),ku,Cu),x:t[5],xScale:"date"===t[5]?Yo():gi(),y:t[6],yDomain:t[8],yNice:!0,z:t[7],zScale:We(),zDomain:t[18],zRange:t[19],$$slots:{default:[_u]},$$scope:{ctx:t}}});let a=t[12]&&$u(t);return{c(){e=T("div"),Mt(n.$$.fragment),r=E(),a&&a.c(),o=j(),L(e,"class",i="chart line-chart "+t[14])},m(t,i){k(t,e,i),kt(n,e,null),k(t,r,i),a&&a.m(t,i),k(t,o,i),s=!0},p(t,[r]){const l={};1&r&&(l.padding=t[0]),196612&r&&(l.flatData=t[2].filter(t[23])),196624&r&&(l.data=ae(t[4].filter(t[24]),ku,Cu)),32&r&&(l.x=t[5]),32&r&&(l.xScale="date"===t[5]?Yo():gi()),64&r&&(l.y=t[6]),256&r&&(l.yDomain=t[8]),128&r&&(l.z=t[7]),33590784&r&&(l.$$scope={dirty:r,ctx:t}),n.$set(l),(!s||16384&r&&i!==(i="chart line-chart "+t[14]))&&L(e,"class",i),t[12]?a?(a.p(t,r),4096&r&&bt(a,1)):(a=$u(t),a.c(),bt(a,1),a.m(o.parentNode,o)):a&&(vt(),xt(a,1,1,(()=>{a=null})),yt())},i(t){s||(bt(n.$$.fragment,t),bt(a),s=!0)},o(t){xt(n.$$.fragment,t),xt(a),s=!1},d(t){t&&C(e),Ct(n),t&&C(r),a&&a.d(t),t&&C(o)}}}const ku=t=>t.political_lean,Cu=t=>t.diet_threshold;function Nu(t,e,n){let i,r,{margins:o={top:20,right:10,bottom:20,left:45}}=e,{caption:s=""}=e,{data:a}=e,{url:l=""}=e,{groupedData:c}=e,{xKey:u}=e,{yKey:f}=e,{zKey:h}=e,{yDomain:p=[0,null]}=e,{formatTickX:d}=e,{xTicks:m=6}=e,{formatTickY:g=(t=>t.toFixed(0))}=e,{includeCaption:v=!0}=e,{spanCol:y}=e,{customClass:b}=e,{includeAxis:x=!0}=e,{scaleRange:w}=e,{start:_}=e,{end:$}=e,M=Array.from(tc).map((t=>t[0])),k=Array.from(tc).map((t=>t[1]));return t.$$set=t=>{"margins"in t&&n(0,o=t.margins),"caption"in t&&n(1,s=t.caption),"data"in t&&n(2,a=t.data),"url"in t&&n(3,l=t.url),"groupedData"in t&&n(4,c=t.groupedData),"xKey"in t&&n(5,u=t.xKey),"yKey"in t&&n(6,f=t.yKey),"zKey"in t&&n(7,h=t.zKey),"yDomain"in t&&n(8,p=t.yDomain),"formatTickX"in t&&n(9,d=t.formatTickX),"xTicks"in t&&n(10,m=t.xTicks),"formatTickY"in t&&n(11,g=t.formatTickY),"includeCaption"in t&&n(12,v=t.includeCaption),"spanCol"in t&&n(13,y=t.spanCol),"customClass"in t&&n(14,b=t.customClass),"includeAxis"in t&&n(15,x=t.includeAxis),"scaleRange"in t&&n(20,w=t.scaleRange),"start"in t&&n(21,_=t.start),"end"in t&&n(22,$=t.end)},t.$$.update=()=>{3145728&t.$$.dirty&&n(17,i=w(_)),5242880&t.$$.dirty&&n(16,r=w($))},[o,s,a,l,c,u,f,h,p,d,m,g,v,y,b,x,r,i,M,k,w,_,$,t=>+t.date>=i&&+t.date<=r,t=>+t.date>=i&&+t.date<=r]}class Tu extends St{constructor(t){super(),Tt(this,t,Nu,Mu,s,{margins:0,caption:1,data:2,url:3,groupedData:4,xKey:5,yKey:6,zKey:7,yDomain:8,formatTickX:9,xTicks:10,formatTickY:11,includeCaption:12,spanCol:13,customClass:14,includeAxis:15,scaleRange:20,start:21,end:22})}}function Su(t,e,n){return t<e?e:t>n?n:t}function Au(e){let n,i,o,s,a,l,c,u,f;return{c(){n=T("div"),i=T("div"),o=T("div"),s=E(),a=T("div"),l=E(),c=T("div"),L(o,"class","body svelte-4z6zmw"),O(o,"left",100*e[0]+"%"),O(o,"right",100*(1-e[1])+"%"),L(a,"class","handle svelte-4z6zmw"),L(a,"data-which","start"),O(a,"left",100*e[0]+"%"),L(c,"class","handle svelte-4z6zmw"),L(c,"data-which","end"),O(c,"left",100*e[1]+"%"),L(i,"class","slider svelte-4z6zmw"),L(n,"class","double-range-container svelte-4z6zmw")},m(t,r){k(t,n,r),_(n,i),_(i,o),e[7](o),_(i,s),_(i,a),e[8](a),_(i,l),_(i,c),e[9](i),u||(f=[g(Eu.call(null,o)),D(o,"dragmove",z(P(e[6]))),g(Eu.call(null,a)),D(a,"dragmove",z(P(e[5]("start")))),g(Eu.call(null,c)),D(c,"dragmove",z(P(e[5]("end"))))],u=!0)},p(t,[e]){1&e&&O(o,"left",100*t[0]+"%"),2&e&&O(o,"right",100*(1-t[1])+"%"),1&e&&O(a,"left",100*t[0]+"%"),2&e&&O(c,"left",100*t[1]+"%")},i:t,o:t,d(t){t&&C(n),e[7](null),e[8](null),e[9](null),u=!1,r(f)}}}function Eu(t){let e,n;function i(i){"touchstart"===i.type&&(i=i.touches[0]),e=i.clientX,n=i.clientY,t.dispatchEvent(new CustomEvent("dragstart",{detail:{x:e,y:n}})),window.addEventListener("mousemove",r),window.addEventListener("mouseup",o),window.addEventListener("touchmove",r),window.addEventListener("touchend",o)}function r(i){"touchmove"===i.type&&(i=i.changedTouches[0]);const r=i.clientX-e,o=i.clientY-n;e=i.clientX,n=i.clientY,t.dispatchEvent(new CustomEvent("dragmove",{detail:{x:e,y:n,dx:r,dy:o}}))}function o(i){e=i.clientX,n=i.clientY,t.dispatchEvent(new CustomEvent("dragend",{detail:{x:e,y:n}})),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",o)}return t.addEventListener("mousedown",i),t.addEventListener("touchstart",i),{destroy(){t.removeEventListener("mousedown",i),t.removeEventListener("touchstart",i)}}}function ju(t,e,n){let i,r,o,{start:s=0}=e,{end:a=1}=e;return t.$$set=t=>{"start"in t&&n(0,s=t.start),"end"in t&&n(1,a=t.end)},[s,a,i,r,o,function(t){return function(e){const{left:i,right:r}=o.getBoundingClientRect(),l=r-i,c=Math.min(Math.max((e.detail.x-i)/l,0),1);"start"===t?(n(0,s=c),n(1,a=Math.max(a,c))):(n(0,s=Math.min(c,s)),n(1,a=c))}},function(t){const{width:e}=r.getBoundingClientRect(),{left:l,right:c}=o.getBoundingClientRect(),u=c-l,f=Su(i.getBoundingClientRect().left+event.detail.dx-l,0,u-e),h=Su(f+e,e,u)/u;n(0,s=f/u),n(1,a=h)},function(t){nt[t?"unshift":"push"]((()=>{r=t,n(3,r)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(4,o)}))}]}class Du extends St{constructor(t){super(),Tt(this,t,ju,Au,s,{start:0,end:1})}}function Pu(t,e,n){const i=t.slice();return i[25]=e[n],i}function zu(t,e,n){const i=t.slice();return i[25]=e[n],i[29]=n,i}function Lu(t,e,n){const i=t.slice();return i[30]=e[n],i[29]=n,i}function Ru(t,e,n){const i=t.slice();return i[25]=e[n],i[29]=n,i}function Ou(t){let e,n,i,r=t[25].value+"";return{c(){e=T("p"),n=A(r),i=E()},m(t,r){k(t,e,r),_(e,n),_(e,i)},p(t,e){2&e[0]&&r!==(r=t[25].value+"")&&R(n,r)},d(t){t&&C(e)}}}function Fu(e){let n,i,r,o=e[30].state+"";return{c(){n=T("option"),i=A(o),n.__value=r=e[30].abbr,n.value=n.__value},m(t,e){k(t,n,e),_(n,i)},p:t,d(t){t&&C(n)}}}function Iu(t){let e,n,i,r,o,s,a,l,c,u,f,h,p,d,m=yc(t[15](t[11]))+"",g=yc(t[15](t[12]))+"";function v(e){t[21](e)}function y(e){t[22](e)}let b={};return void 0!==t[11]&&(b.start=t[11]),void 0!==t[12]&&(b.end=t[12]),r=new Du({props:b}),nt.push((()=>$t(r,"start",v))),nt.push((()=>$t(r,"end",y))),{c(){e=T("div"),n=T("div"),n.textContent="Period",i=E(),Mt(r.$$.fragment),a=E(),l=T("div"),c=T("div"),u=A(m),f=E(),h=T("div"),p=A(g),L(n,"class","control-title svelte-1vu53kb"),L(c,"class","label"),L(h,"class","label"),L(l,"class","labels"),L(e,"id","period"),L(e,"class","control control-range svelte-1vu53kb")},m(t,o){k(t,e,o),_(e,n),_(e,i),kt(r,e,null),_(e,a),_(e,l),_(l,c),_(c,u),_(l,f),_(l,h),_(h,p),d=!0},p(t,e){const n={};!o&&2048&e[0]&&(o=!0,n.start=t[11],lt((()=>o=!1))),!s&&4096&e[0]&&(s=!0,n.end=t[12],lt((()=>s=!1))),r.$set(n),(!d||2048&e[0])&&m!==(m=yc(t[15](t[11]))+"")&&R(u,m),(!d||4096&e[0])&&g!==(g=yc(t[15](t[12]))+"")&&R(p,g)},i(t){d||(bt(r.$$.fragment,t),d=!0)},o(t){xt(r.$$.fragment,t),d=!1},d(t){t&&C(e),Ct(r)}}}function Uu(e){let n;return{c(){n=T("div"),L(n,"class","chart-placeholder svelte-1vu53kb")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&C(n)}}}function Yu(t){let e,n;return e=new Tu({props:{data:t[4],groupedData:t[8].get(t[13]).get(t[9]).get(t[10]),scaleRange:t[16],start:t[11],end:t[12],yKey:Zu,xKey:Bu,zKey:Xu,spanCol:12,customClass:"chart-medium",formatTickX:yc,url:Wu,caption:t[3][0].value}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};16&n[0]&&(i.data=t[4]),9984&n[0]&&(i.groupedData=t[8].get(t[13]).get(t[9]).get(t[10])),2048&n[0]&&(i.start=t[11]),4096&n[0]&&(i.end=t[12]),8&n[0]&&(i.caption=t[3][0].value),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function qu(t){let e,n,i,r=t[25].value+"";return{c(){e=T("p"),n=A(r),i=E()},m(t,r){k(t,e,r),_(e,n),_(e,i)},p(t,e){2&e[0]&&r!==(r=t[25].value+"")&&R(n,r)},d(t){t&&C(e)}}}function Hu(t){let e,n,i,r=t[25].value+"";return{c(){e=T("p"),n=A(r),i=E()},m(t,r){k(t,e,r),_(e,n),_(e,i)},p(t,e){4&e[0]&&r!==(r=t[25].value+"")&&R(n,r)},d(t){t&&C(e)}}}function Vu(t){let e,n,i,s,a,l,c,u,f,h,p,d,m,v,y,b,x,w,$,M,S,j,P,z,R,O,I,U,Y,q,H,V,W,B,Z,X,K,G,Q,J,tt,et,nt,it,rt,ot,st,lt,ct,ut,ft,ht,pt,dt,mt,gt,wt,_t,$t=t[1].slice(0,2),Mt=[];for(let e=0;e<$t.length;e+=1)Mt[e]=Ou(Ru(t,$t,e));let kt=Mc.sort(Gu),Ct=[];for(let e=0;e<kt.length;e+=1)Ct[e]=Fu(Lu(t,kt,e));let Nt=t[7]&&t[4]&&Iu(t);const Tt=[Yu,Uu],St=[];function At(t,e){return t[7]&&t[4]?0:1}ct=At(t),ut=St[ct]=Tt[ct](t);let Et=t[1].slice(2),jt=[];for(let e=0;e<Et.length;e+=1)jt[e]=qu(zu(t,Et,e));let Dt=t[2],Pt=[];for(let e=0;e<Dt.length;e+=1)Pt[e]=Hu(Pu(t,Dt,e));return{c(){e=T("div"),n=T("h1"),n.textContent="Section title",i=E(),s=T("div");for(let t=0;t<Mt.length;t+=1)Mt[t].c();a=E(),l=T("div"),c=T("div"),u=T("div"),f=T("div"),h=A("Medium \n                    "),p=T("span"),p.textContent="?",d=E(),m=T("div"),v=A("TV"),b=E(),x=T("label"),w=T("input"),$=E(),M=T("span"),S=E(),j=T("div"),P=A("Web"),R=E(),O=T("div"),I=T("div"),I.textContent="Partisanship",U=E(),Y=T("div"),q=A("Lenient"),V=E(),W=T("label"),B=T("input"),Z=E(),X=T("span"),K=E(),G=T("div"),Q=A("Strict"),tt=E(),et=T("div"),nt=T("div"),nt.textContent="Location",it=E(),rt=T("select"),ot=T("option"),ot.textContent="United States";for(let t=0;t<Ct.length;t+=1)Ct[t].c();st=E(),Nt&&Nt.c(),lt=E(),ut.c(),ft=E(),ht=T("div");for(let t=0;t<jt.length;t+=1)jt[t].c();pt=E(),dt=T("div");for(let t=0;t<Pt.length;t+=1)Pt[t].c();L(n,"class","section-title svelte-1vu53kb"),L(s,"class","copy copy-1 svelte-1vu53kb"),L(p,"class","info svelte-1vu53kb"),L(f,"class","control-title svelte-1vu53kb"),L(m,"class",y="control-label "+(t[5]?"":"active")+" svelte-1vu53kb"),L(w,"type","checkbox"),L(w,"id","medium"),L(w,"name","medium"),L(w,"class","svelte-1vu53kb"),L(M,"class","slider svelte-1vu53kb"),L(x,"class","switch svelte-1vu53kb"),L(j,"class",z="control-label "+(t[5]?"active":"")+" svelte-1vu53kb"),L(u,"id","medium"),L(u,"class","control control-switch svelte-1vu53kb"),L(I,"class","control-title svelte-1vu53kb"),L(Y,"class",H="control-label "+(t[6]?"":"active")+" svelte-1vu53kb"),L(B,"type","checkbox"),L(B,"id","tv"),L(B,"name","tv"),L(B,"class","svelte-1vu53kb"),L(X,"class","slider svelte-1vu53kb"),L(W,"class","switch svelte-1vu53kb"),L(G,"class",J="control-label "+(t[6]?"active":"")+" svelte-1vu53kb"),L(O,"class","control control-switch svelte-1vu53kb"),L(nt,"class","control-title svelte-1vu53kb"),ot.__value="US",ot.value=ot.__value,ot.selected=!0,L(rt,"id","location"),L(rt,"name","location"),void 0===t[13]&&at((()=>t[20].call(rt))),L(et,"id","location"),L(et,"class","control control-menu svelte-1vu53kb"),L(c,"class","controls svelte-1vu53kb"),L(l,"class","chart-wrapper svelte-1vu53kb"),L(ht,"class","copy copy-2 svelte-1vu53kb"),L(dt,"class","references svelte-1vu53kb"),L(e,"class","section section-1 svelte-1vu53kb")},m(r,o){k(r,e,o),_(e,n),_(e,i),_(e,s);for(let t=0;t<Mt.length;t+=1)Mt[t].m(s,null);_(e,a),_(e,l),_(l,c),_(c,u),_(u,f),_(f,h),_(f,p),_(u,d),_(u,m),_(m,v),_(u,b),_(u,x),_(x,w),w.checked=t[5],_(x,$),_(x,M),_(u,S),_(u,j),_(j,P),_(c,R),_(c,O),_(O,I),_(O,U),_(O,Y),_(Y,q),_(O,V),_(O,W),_(W,B),B.checked=t[6],_(W,Z),_(W,X),_(O,K),_(O,G),_(G,Q),_(c,tt),_(c,et),_(et,nt),_(et,it),_(et,rt),_(rt,ot);for(let t=0;t<Ct.length;t+=1)Ct[t].m(rt,null);F(rt,t[13]),_(c,st),Nt&&Nt.m(c,null),_(l,lt),St[ct].m(l,null),_(e,ft),_(e,ht);for(let t=0;t<jt.length;t+=1)jt[t].m(ht,null);_(e,pt),_(e,dt);for(let t=0;t<Pt.length;t+=1)Pt[t].m(dt,null);gt=!0,wt||(_t=[D(p,"mouseenter",t[17]),D(p,"mouseleave",Ku),D(w,"change",t[18]),D(B,"change",t[19]),D(rt,"change",t[20]),g(mt=Bc.call(null,e,{once:t[0]})),D(e,"enter",t[23])],wt=!0)},p(t,e){if(2&e[0]){let n;for($t=t[1].slice(0,2),n=0;n<$t.length;n+=1){const i=Ru(t,$t,n);Mt[n]?Mt[n].p(i,e):(Mt[n]=Ou(i),Mt[n].c(),Mt[n].m(s,null))}for(;n<Mt.length;n+=1)Mt[n].d(1);Mt.length=$t.length}if((!gt||32&e[0]&&y!==(y="control-label "+(t[5]?"":"active")+" svelte-1vu53kb"))&&L(m,"class",y),32&e[0]&&(w.checked=t[5]),(!gt||32&e[0]&&z!==(z="control-label "+(t[5]?"active":"")+" svelte-1vu53kb"))&&L(j,"class",z),(!gt||64&e[0]&&H!==(H="control-label "+(t[6]?"":"active")+" svelte-1vu53kb"))&&L(Y,"class",H),64&e[0]&&(B.checked=t[6]),(!gt||64&e[0]&&J!==(J="control-label "+(t[6]?"active":"")+" svelte-1vu53kb"))&&L(G,"class",J),0&e){let n;for(kt=Mc.sort(Gu),n=0;n<kt.length;n+=1){const i=Lu(t,kt,n);Ct[n]?Ct[n].p(i,e):(Ct[n]=Fu(i),Ct[n].c(),Ct[n].m(rt,null))}for(;n<Ct.length;n+=1)Ct[n].d(1);Ct.length=kt.length}8192&e[0]&&F(rt,t[13]),t[7]&&t[4]?Nt?(Nt.p(t,e),144&e[0]&&bt(Nt,1)):(Nt=Iu(t),Nt.c(),bt(Nt,1),Nt.m(c,null)):Nt&&(vt(),xt(Nt,1,1,(()=>{Nt=null})),yt());let n=ct;if(ct=At(t),ct===n?St[ct].p(t,e):(vt(),xt(St[n],1,1,(()=>{St[n]=null})),yt(),ut=St[ct],ut?ut.p(t,e):(ut=St[ct]=Tt[ct](t),ut.c()),bt(ut,1),ut.m(l,null)),2&e[0]){let n;for(Et=t[1].slice(2),n=0;n<Et.length;n+=1){const i=zu(t,Et,n);jt[n]?jt[n].p(i,e):(jt[n]=qu(i),jt[n].c(),jt[n].m(ht,null))}for(;n<jt.length;n+=1)jt[n].d(1);jt.length=Et.length}if(4&e[0]){let n;for(Dt=t[2],n=0;n<Dt.length;n+=1){const i=Pu(t,Dt,n);Pt[n]?Pt[n].p(i,e):(Pt[n]=Hu(i),Pt[n].c(),Pt[n].m(dt,null))}for(;n<Pt.length;n+=1)Pt[n].d(1);Pt.length=Dt.length}mt&&o(mt.update)&&1&e[0]&&mt.update.call(null,{once:t[0]})},i(t){gt||(bt(Nt),bt(ut),gt=!0)},o(t){xt(Nt),xt(ut),gt=!1},d(t){t&&C(e),N(Mt,t),N(Ct,t),Nt&&Nt.d(),St[ct].d(),N(jt,t),N(Pt,t),wt=!1,r(_t)}}}let Wu="assets/data/dupe-data-by-state.csv",Bu="date",Zu="value",Xu=0;const Ku=()=>{},Gu=(t,e)=>t.state.localeCompare(e.state);function Qu(t,e,n){let i;new Map(Mc.map((t=>[t.state,t])));const r=new Map([["partisanship","partisanship"],["diet","diet"],["tv","tv"]]);let o,s,a=!1,{once:l}=e,{copy:c}=e,{refs:u}=e,{captions:f}=e,h=!0,p=!0,d=h?"tv":"online",m=p?"lenient":"strict";const g=gi();let v=0,y=1;Q((async()=>{const t=await Zt(Wu,qt);n(4,o=t.map((t=>Object.assign(Object.assign({},t),{date:new Date(t.year,t.month,1)}))));const[e,i]=function(t,e){let n,i;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=i=e):(n>e&&(n=e),i<e&&(i=e)));else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(void 0===n?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}return[n,i]}(o,(t=>+t.date));g.range([e,i])}));return t.$$set=t=>{"once"in t&&n(0,l=t.once),"copy"in t&&n(1,c=t.copy),"refs"in t&&n(2,u=t.refs),"captions"in t&&n(3,f=t.captions)},t.$$.update=()=>{16&t.$$.dirty[0]&&o&&n(8,s=se(o,(t=>t.state),(t=>t.medium),(t=>t.partisanship_scenario))),32&t.$$.dirty[0]&&n(9,d=h?"tv":"online"),64&t.$$.dirty[0]&&n(10,m=p?"lenient":"strict")},n(13,i="US"),[l,c,u,f,o,h,p,a,s,d,m,v,y,i,r,g,t=>{const e=new Date(g(t));return e.setDate(1),e.setHours(0,0,0),e.setMilliseconds(0),+e},()=>{console.log(r.get("tv"))},function(){h=this.checked,n(5,h)},function(){p=this.checked,n(6,p)},function(){i=I(this),n(13,i)},function(t){v=t,n(11,v)},function(t){y=t,n(12,y)},()=>n(7,a=!0)]}class Ju extends St{constructor(t){super(),Tt(this,t,Qu,Vu,s,{once:0,copy:1,refs:2,captions:3},null,[-1,-1])}}function tf(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function ef(t){const e=t-1;return e*e*e+1}function nf(t,{delay:e=0,duration:n=400,easing:i=ef,start:r=0,opacity:o=0}={}){const s=getComputedStyle(t),a=+s.opacity,l="none"===s.transform?"":s.transform,c=1-r,u=a*(1-o);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${l} scale(${1-c*e});\n\t\t\topacity: ${a-u*e}\n\t\t`}}function rf(t,{delay:e=0,speed:n,duration:i,easing:r=tf}={}){let o=t.getTotalLength();const s=getComputedStyle(t);return"butt"!==s.strokeLinecap&&(o+=parseInt(s.strokeWidth)),void 0===i?i=void 0===n?800:o/n:"function"==typeof i&&(i=i(o)),{delay:e,duration:i,easing:r,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}const of={origin:[0,0,0],round:4},sf="SVGPathCommander Error",af={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},lf=t=>{let e=t.pathValue[t.segmentStart],n=e.toLowerCase();const{data:i}=t;for(;i.length>=af[n]&&("m"===n&&i.length>2?(t.segments.push([e,...i.splice(0,2)]),n="l",e="m"===e?"l":"L"):t.segments.push([e,...i.splice(0,af[n])]),af[n]););},cf=t=>{const{index:e,pathValue:n}=t,i=n.charCodeAt(e);return 48===i?(t.param=0,void(t.index+=1)):49===i?(t.param=1,void(t.index+=1)):void(t.err=`${sf}: invalid Arc flag "${n[e]}", expecting 0 or 1 at index ${e}`)},uf=t=>t>=48&&t<=57,ff="Invalid path value",hf=t=>{const{max:e,pathValue:n,index:i}=t;let r,o=i,s=!1,a=!1,l=!1,c=!1;if(o>=e)t.err=`${sf}: ${ff} at index ${o}, "pathValue" is missing param`;else if(r=n.charCodeAt(o),(43===r||45===r)&&(o+=1,r=n.charCodeAt(o)),uf(r)||46===r){if(46!==r){if(s=48===r,o+=1,r=n.charCodeAt(o),s&&o<e&&r&&uf(r))return void(t.err=`${sf}: ${ff} at index ${i}, "${n[i]}" illegal number`);for(;o<e&&uf(n.charCodeAt(o));)o+=1,a=!0;r=n.charCodeAt(o)}if(46===r){for(c=!0,o+=1;uf(n.charCodeAt(o));)o+=1,l=!0;r=n.charCodeAt(o)}if(101===r||69===r){if(c&&!a&&!l)return void(t.err=`${sf}: ${ff} at index ${o}, "${n[o]}" invalid float exponent`);if(o+=1,r=n.charCodeAt(o),(43===r||45===r)&&(o+=1),!(o<e&&uf(n.charCodeAt(o))))return void(t.err=`${sf}: ${ff} at index ${o}, "${n[o]}" invalid integer exponent`);for(;o<e&&uf(n.charCodeAt(o));)o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err=`${sf}: ${ff} at index ${o}, "${n[o]}" is not a number`},pf=t=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(t),df=t=>{const{pathValue:e,max:n}=t;for(;t.index<n&&pf(e.charCodeAt(t.index));)t.index+=1},mf=t=>uf(t)||43===t||45===t||46===t,gf=t=>97==(32|t),vf=t=>{const{max:e,pathValue:n,index:i}=t,r=n.charCodeAt(i),o=af[n[i].toLowerCase()];if(t.segmentStart=i,(t=>{switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}})(r))if(t.index+=1,df(t),t.data=[],o){for(;;){for(let i=o;i>0;i-=1){if(!gf(r)||3!==i&&4!==i?hf(t):cf(t),t.err.length)return;t.data.push(t.param),df(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,df(t))}if(t.index>=t.max||!mf(n.charCodeAt(t.index)))break}lf(t)}else lf(t);else t.err=`${sf}: ${ff} "${n[i]}" is not a path command`};class yf{constructor(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const bf=t=>Array.isArray(t)&&t.every((t=>{const e=t[0].toLowerCase();return af[e]===t.length-1&&"achlmqstvz".includes(e)})),xf=t=>{if(bf(t))return[...t];const e=new yf(t);for(df(e);e.index<e.max&&!e.err.length;)vf(e);if(e.err&&e.err.length)throw TypeError(e.err);return e.segments},wf=t=>{const e=t.length;let n,i=-1,r=t[e-1],o=0;for(;++i<e;)n=r,r=t[i],o+=n[1]*r[0]-n[0]*r[1];return o/2},_f=(t,e)=>Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),$f=t=>t.reduce(((e,n,i)=>i?e+_f(t[i-1],n):0),0);var Mf=Object.defineProperty,kf=(t,e,n)=>(((t,e,n)=>{e in t?Mf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const Cf={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},Nf=t=>(t instanceof Float64Array||t instanceof Float32Array||Array.isArray(t)&&t.every((t=>"number"==typeof t)))&&[6,16].some((e=>t.length===e)),Tf=t=>t instanceof DOMMatrix||t instanceof Uf||"object"==typeof t&&Object.keys(Cf).every((e=>t&&e in t)),Sf=t=>{const e=new Uf,n=Array.from(t);if(!Nf(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);if(16===n.length){const[t,i,r,o,s,a,l,c,u,f,h,p,d,m,g,v]=n;e.m11=t,e.a=t,e.m21=s,e.c=s,e.m31=u,e.m41=d,e.e=d,e.m12=i,e.b=i,e.m22=a,e.d=a,e.m32=f,e.m42=m,e.f=m,e.m13=r,e.m23=l,e.m33=h,e.m43=g,e.m14=o,e.m24=c,e.m34=p,e.m44=v}else if(6===n.length){const[t,i,r,o,s,a]=n;e.m11=t,e.a=t,e.m12=i,e.b=i,e.m21=r,e.c=r,e.m22=o,e.d=o,e.m41=s,e.e=s,e.m42=a,e.f=a}return e},Af=t=>{if(Tf(t))return Sf([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},Ef=t=>{if("string"!=typeof t)throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a string.`);const e=String(t).replace(/\s/g,"");let n=new Uf;const i=`CSSMatrix: invalid transform string "${t}"`;return e.split(")").filter((t=>t)).forEach((t=>{const[e,r]=t.split("(");if(!r)throw TypeError(i);const o=r.split(",").map((t=>t.includes("rad")?parseFloat(t)*(180/Math.PI):parseFloat(t))),[s,a,l,c]=o,u=[s,a,l],f=[s,a,l,c];if("perspective"===e&&s&&[a,l].every((t=>void 0===t)))n.m34=-1/s;else if(e.includes("matrix")&&[6,16].includes(o.length)&&o.every((t=>!Number.isNaN(+t)))){const t=o.map((t=>Math.abs(t)<1e-6?0:t));n=n.multiply(Sf(t))}else if("translate3d"===e&&u.every((t=>!Number.isNaN(+t))))n=n.translate(s,a,l);else if("translate"===e&&s&&void 0===l)n=n.translate(s,a||0,0);else if("rotate3d"===e&&f.every((t=>!Number.isNaN(+t)))&&c)n=n.rotateAxisAngle(s,a,l,c);else if("rotate"===e&&s&&[a,l].every((t=>void 0===t)))n=n.rotate(0,0,s);else if("scale3d"===e&&u.every((t=>!Number.isNaN(+t)))&&u.some((t=>1!==t)))n=n.scale(s,a,l);else if("scale"!==e||Number.isNaN(s)||1===s||void 0!==l)if("skew"===e&&(s||!Number.isNaN(s)&&a)&&void 0===l)n=n.skew(s,a||0);else{if(!(["translate","rotate","scale","skew"].some((t=>e.includes(t)))&&/[XYZ]/.test(e)&&s&&[a,l].every((t=>void 0===t))))throw TypeError(i);if("skewX"===e||"skewY"===e)n=n[e](s);else{const t=e.replace(/[XYZ]/,""),i=e.replace(t,""),r=["X","Y","Z"].indexOf(i),o="scale"===t?1:0,a=[0===r?s:o,1===r?s:o,2===r?s:o];n=n[t](...a)}}else{const t=Number.isNaN(+a)?s:a;n=n.scale(s,t,1)}})),n},jf=(t,e)=>e?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44],Df=(t,e,n)=>{const i=new Uf;return i.m41=t,i.e=t,i.m42=e,i.f=e,i.m43=n,i},Pf=(t,e,n)=>{const i=new Uf,r=Math.PI/180,o=t*r,s=e*r,a=n*r,l=Math.cos(o),c=-Math.sin(o),u=Math.cos(s),f=-Math.sin(s),h=Math.cos(a),p=-Math.sin(a),d=u*h,m=-u*p;i.m11=d,i.a=d,i.m12=m,i.b=m,i.m13=f;const g=c*f*h+l*p;i.m21=g,i.c=g;const v=l*h-c*f*p;return i.m22=v,i.d=v,i.m23=-c*u,i.m31=c*p-l*f*h,i.m32=c*h+l*f*p,i.m33=l*u,i},zf=(t,e,n,i)=>{const r=new Uf,o=Math.sqrt(t*t+e*e+n*n);if(0===o)return r;const s=t/o,a=e/o,l=n/o,c=i*(Math.PI/360),u=Math.sin(c),f=Math.cos(c),h=u*u,p=s*s,d=a*a,m=l*l,g=1-2*(d+m)*h;r.m11=g,r.a=g;const v=2*(s*a*h+l*u*f);r.m12=v,r.b=v,r.m13=2*(s*l*h-a*u*f);const y=2*(a*s*h-l*u*f);r.m21=y,r.c=y;const b=1-2*(m+p)*h;return r.m22=b,r.d=b,r.m23=2*(a*l*h+s*u*f),r.m31=2*(l*s*h+a*u*f),r.m32=2*(l*a*h-s*u*f),r.m33=1-2*(p+d)*h,r},Lf=(t,e,n)=>{const i=new Uf;return i.m11=t,i.a=t,i.m22=e,i.d=e,i.m33=n,i},Rf=(t,e)=>{const n=new Uf;if(t){const e=t*Math.PI/180,i=Math.tan(e);n.m21=i,n.c=i}if(e){const t=e*Math.PI/180,i=Math.tan(t);n.m12=i,n.b=i}return n},Of=t=>Rf(t,0),Ff=t=>Rf(0,t),If=(t,e)=>{const n=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,i=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,r=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,o=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,s=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,a=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,l=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,c=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,u=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,f=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,h=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,p=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,d=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,m=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,g=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,v=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return Sf([n,i,r,o,s,a,l,c,u,f,h,p,d,m,g,v])};class Uf{constructor(t){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,t?this.setMatrixValue(t):this}get isIdentity(){return 1===this.m11&&0===this.m12&&0===this.m13&&0===this.m14&&0===this.m21&&1===this.m22&&0===this.m23&&0===this.m24&&0===this.m31&&0===this.m32&&1===this.m33&&0===this.m34&&0===this.m41&&0===this.m42&&0===this.m43&&1===this.m44}get is2D(){return 0===this.m31&&0===this.m32&&1===this.m33&&0===this.m34&&0===this.m43&&1===this.m44}setMatrixValue(t){return"string"==typeof t&&t.length&&"none"!==t?Ef(t):Array.isArray(t)||t instanceof Float64Array||t instanceof Float32Array?Sf(t):"object"==typeof t?Af(t):this}toFloat32Array(t){return Float32Array.from(jf(this,t))}toFloat64Array(t){return Float64Array.from(jf(this,t))}toString(){const{is2D:t}=this;return`${t?"matrix":"matrix3d"}(${this.toFloat64Array(t).join(", ")})`}toJSON(){const{is2D:t,isIdentity:e}=this;return{...this,is2D:t,isIdentity:e}}multiply(t){return If(this,t)}translate(t,e,n){let i=e,r=n;return typeof i>"u"&&(i=0),typeof r>"u"&&(r=0),If(this,Df(t,i,r))}scale(t,e,n){let i=e,r=n;return typeof i>"u"&&(i=t),typeof r>"u"&&(r=1),If(this,Lf(t,i,r))}rotate(t,e,n){let i=t,r=e||0,o=n||0;return"number"==typeof t&&typeof e>"u"&&typeof n>"u"&&(o=i,i=0,r=0),If(this,Pf(i,r,o))}rotateAxisAngle(t,e,n,i){if([t,e,n,i].some((t=>Number.isNaN(+t))))throw new TypeError("CSSMatrix: expecting 4 values");return If(this,zf(t,e,n,i))}skewX(t){return If(this,Of(t))}skewY(t){return If(this,Ff(t))}skew(t,e){return If(this,Rf(t,e))}transformPoint(t){const e=this.m11*t.x+this.m21*t.y+this.m31*t.z+this.m41*t.w,n=this.m12*t.x+this.m22*t.y+this.m32*t.z+this.m42*t.w,i=this.m13*t.x+this.m23*t.y+this.m33*t.z+this.m43*t.w,r=this.m14*t.x+this.m24*t.y+this.m34*t.z+this.m44*t.w;return t instanceof DOMPoint?new DOMPoint(e,n,i,r):{x:e,y:n,z:i,w:r}}}kf(Uf,"Translate",Df),kf(Uf,"Rotate",Pf),kf(Uf,"RotateAxisAngle",zf),kf(Uf,"Scale",Lf),kf(Uf,"SkewX",Of),kf(Uf,"SkewY",Ff),kf(Uf,"Skew",Rf),kf(Uf,"Multiply",If),kf(Uf,"fromArray",Sf),kf(Uf,"fromMatrix",Af),kf(Uf,"fromString",Ef),kf(Uf,"toArray",jf),kf(Uf,"isCompatibleArray",Nf),kf(Uf,"isCompatibleObject",Tf);const Yf=t=>bf(t)&&t.every((([t])=>t===t.toUpperCase())),qf=t=>{if(Yf(t))return[...t];const e=xf(t);let n=0,i=0,r=0,o=0;return e.map((t=>{const e=t.slice(1).map(Number),[s]=t,a=s.toUpperCase();if("M"===s)return[n,i]=e,r=n,o=i,["M",n,i];let l=[];if(s!==a)if("A"===a)l=[a,e[0],e[1],e[2],e[3],e[4],e[5]+n,e[6]+i];else if("V"===a)l=[a,e[0]+i];else if("H"===a)l=[a,e[0]+n];else{const t=e.map(((t,e)=>t+(e%2?i:n)));l=[a,...t]}else l=[a,...e];return"Z"===a?(n=r,i=o):"H"===a?[,n]=l:"V"===a?[,i]=l:([n,i]=l.slice(-2),"M"===a&&(r=n,o=i)),l}))},Hf=(t,e)=>{const[n]=t,{x1:i,y1:r,x2:o,y2:s}=e,a=t.slice(1).map(Number);let l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],r];else if("V"===n)l=["L",i,t[1]];else if("S"===n){const t=2*i-o,n=2*r-s;e.x1=t,e.y1=n,l=["C",t,n,...a]}else if("T"===n){const t=2*i-(e.qx?e.qx:0),n=2*r-(e.qy?e.qy:0);e.qx=t,e.qy=n,l=["Q",t,n,...a]}else if("Q"===n){const[t,n]=a;e.qx=t,e.qy=n}return l},Vf=t=>Yf(t)&&t.every((([t])=>"ACLMQZ".includes(t))),Wf={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Bf=t=>{if(Vf(t))return[...t];const e=qf(t),n={...Wf},i=e.length;for(let t=0;t<i;t+=1){e[t],e[t]=Hf(e[t],n);const i=e[t],r=i.length;n.x1=+i[r-2],n.y1=+i[r-1],n.x2=+i[r-4]||n.x1,n.y2=+i[r-3]||n.y1}return e},Zf=(t,e,n)=>{const[i,r]=t,[o,s]=e;return[i+(o-i)*n,r+(s-r)*n]},Xf=(t,e,n,i,r)=>{const o=_f([t,e],[n,i]);let s={x:0,y:0};if("number"==typeof r)if(r<=0)s={x:t,y:e};else if(r>=o)s={x:n,y:i};else{const[a,l]=Zf([t,e],[n,i],r/o);s={x:a,y:l}}return{length:o,point:s,min:{x:Math.min(t,n),y:Math.min(e,i)},max:{x:Math.max(t,n),y:Math.max(e,i)}}},Kf=(t,e)=>{const{x:n,y:i}=t,{x:r,y:o}=e,s=n*r+i*o,a=Math.sqrt((n**2+i**2)*(r**2+o**2));return(n*o-i*r<0?-1:1)*Math.acos(s/a)},Gf=(t,e,n,i,r,o,s,a,l,c)=>{const{abs:u,sin:f,cos:h,sqrt:p,PI:d}=Math;let m=u(n),g=u(i);const v=(r%360+360)%360*(d/180);if(t===a&&e===l)return{x:t,y:e};if(0===m||0===g)return Xf(t,e,a,l,c).point;const y=(t-a)/2,b=(e-l)/2,x=h(v)*y+f(v)*b,w=-f(v)*y+h(v)*b,_=x**2/m**2+w**2/g**2;_>1&&(m*=p(_),g*=p(_));let $=(m**2*g**2-m**2*w**2-g**2*x**2)/(m**2*w**2+g**2*x**2);$=$<0?0:$;const M=(o!==s?1:-1)*p($),k=M*(m*w/g),C=M*(-g*x/m),N=h(v)*k-f(v)*C+(t+a)/2,T=f(v)*k+h(v)*C+(e+l)/2,S={x:(x-k)/m,y:(w-C)/g},A=Kf({x:1,y:0},S);let E=Kf(S,{x:(-x-k)/m,y:(-w-C)/g});!s&&E>0?E-=2*d:s&&E<0&&(E+=2*d),E%=2*d;const j=A+E*c,D=m*h(j),P=g*f(j);return{x:h(v)*D-f(v)*P+N,y:f(v)*D+h(v)*P+T}},Qf=(t,e,n,i,r,o,s,a,l,c)=>{const u="number"==typeof c;let f=t,h=e,p=0,d=[f,h,p],m=[f,h],g=0,v={x:0,y:0},y=[{x:f,y:h}];u&&c<=0&&(v={x:f,y:h});for(let b=0;b<=300;b+=1){if(g=b/300,({x:f,y:h}=Gf(t,e,n,i,r,o,s,a,l,g)),y=[...y,{x:f,y:h}],p+=_f(m,[f,h]),m=[f,h],u&&p>c&&c>d[2]){const t=(p-c)/(p-d[2]);v={x:m[0]*(1-t)+d[0]*t,y:m[1]*(1-t)+d[1]*t}}d=[f,h,p]}return u&&c>=p&&(v={x:a,y:l}),{length:p,point:v,min:{x:Math.min(...y.map((t=>t.x))),y:Math.min(...y.map((t=>t.y)))},max:{x:Math.max(...y.map((t=>t.x))),y:Math.max(...y.map((t=>t.y)))}}},Jf=(t,e,n,i,r,o,s,a,l)=>{const c=1-l;return{x:c**3*t+3*c**2*l*n+3*c*l**2*r+l**3*s,y:c**3*e+3*c**2*l*i+3*c*l**2*o+l**3*a}},th=(t,e,n,i,r,o,s,a,l)=>{const c="number"==typeof l;let u=t,f=e,h=0,p=[u,f,h],d=[u,f],m=0,g={x:0,y:0},v=[{x:u,y:f}];c&&l<=0&&(g={x:u,y:f});for(let y=0;y<=300;y+=1){if(m=y/300,({x:u,y:f}=Jf(t,e,n,i,r,o,s,a,m)),v=[...v,{x:u,y:f}],h+=_f(d,[u,f]),d=[u,f],c&&h>l&&l>p[2]){const t=(h-l)/(h-p[2]);g={x:d[0]*(1-t)+p[0]*t,y:d[1]*(1-t)+p[1]*t}}p=[u,f,h]}return c&&l>=h&&(g={x:s,y:a}),{length:h,point:g,min:{x:Math.min(...v.map((t=>t.x))),y:Math.min(...v.map((t=>t.y)))},max:{x:Math.max(...v.map((t=>t.x))),y:Math.max(...v.map((t=>t.y)))}}},eh=(t,e,n,i,r,o,s)=>{const a=1-s;return{x:a**2*t+2*a*s*n+s**2*r,y:a**2*e+2*a*s*i+s**2*o}},nh=(t,e,n,i,r,o,s)=>{const a="number"==typeof s;let l=t,c=e,u=0,f=[l,c,u],h=[l,c],p=0,d={x:0,y:0},m=[{x:l,y:c}];a&&s<=0&&(d={x:l,y:c});for(let g=0;g<=300;g+=1){if(p=g/300,({x:l,y:c}=eh(t,e,n,i,r,o,p)),m=[...m,{x:l,y:c}],u+=_f(h,[l,c]),h=[l,c],a&&u>s&&s>f[2]){const t=(u-s)/(u-f[2]);d={x:h[0]*(1-t)+f[0]*t,y:h[1]*(1-t)+f[1]*t}}f=[l,c,u]}return a&&s>=u&&(d={x:r,y:o}),{length:u,point:d,min:{x:Math.min(...m.map((t=>t.x))),y:Math.min(...m.map((t=>t.y)))},max:{x:Math.max(...m.map((t=>t.x))),y:Math.max(...m.map((t=>t.y)))}}},ih=(t,e)=>{const n=Bf(t),i="number"==typeof e;let r,o,s,a=[],l=0,c=0,u=0,f=0,h=[],p=[],d=0,m={x:0,y:0},g=m,v=m,y=m,b=0;for(let t=0,x=n.length;t<x;t+=1)s=n[t],[o]=s,r="M"===o,a=r?a:[l,c,...s.slice(1)],r?([,u,f]=s,m={x:u,y:f},g=m,d=0,i&&e<.001&&(y=m)):"L"===o?({length:d,min:m,max:g,point:v}=Xf(...a,(e||0)-b)):"A"===o?({length:d,min:m,max:g,point:v}=Qf(...a,(e||0)-b)):"C"===o?({length:d,min:m,max:g,point:v}=th(...a,(e||0)-b)):"Q"===o?({length:d,min:m,max:g,point:v}=nh(...a,(e||0)-b)):"Z"===o&&(a=[l,c,u,f],({length:d,min:m,max:g,point:v}=Xf(...a,(e||0)-b))),i&&b<e&&b+d>=e&&(y=v),p=[...p,g],h=[...h,m],b+=d,[l,c]="Z"!==o?s.slice(-2):[u,f];return i&&e>=b&&(y={x:l,y:c}),{length:b,point:y,min:{x:Math.min(...h.map((t=>t.x))),y:Math.min(...h.map((t=>t.y)))},max:{x:Math.max(...p.map((t=>t.x))),y:Math.max(...p.map((t=>t.y)))}}},rh=t=>{if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const{min:{x:e,y:n},max:{x:i,y:r}}=ih(t),o=i-e,s=r-n;return{width:o,height:s,x:e,y:n,x2:i,y2:r,cx:e+o/2,cy:n+s/2,cz:Math.max(o,s)+Math.min(o,s)/2}},oh=(t,e,n)=>{if(t[n].length>7){t[n].shift();const i=t[n];let r=n;for(;i.length;)e[n]="A",t.splice(r+=1,0,["C",...i.splice(0,6)]);t.splice(n,1)}},sh=t=>Vf(t)&&t.every((([t])=>"MC".includes(t))),ah=(t,e,n)=>({x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}),lh=(t,e,n,i,r,o,s,a,l,c)=>{let u=t,f=e,h=n,p=i,d=a,m=l;const g=120*Math.PI/180,v=Math.PI/180*(+r||0);let y,b,x,w,_,$=[];if(c)[b,x,w,_]=c;else{y=ah(u,f,-v),u=y.x,f=y.y,y=ah(d,m,-v),d=y.x,m=y.y;const t=(u-d)/2,e=(f-m)/2;let n=t*t/(h*h)+e*e/(p*p);n>1&&(n=Math.sqrt(n),h*=n,p*=n);const i=h*h,r=p*p,a=(o===s?-1:1)*Math.sqrt(Math.abs((i*r-i*e*e-r*t*t)/(i*e*e+r*t*t)));w=a*h*e/p+(u+d)/2,_=a*-p*t/h+(f+m)/2,b=Math.asin(((f-_)/p*10**9>>0)/10**9),x=Math.asin(((m-_)/p*10**9>>0)/10**9),b=u<w?Math.PI-b:b,x=d<w?Math.PI-x:x,b<0&&(b=2*Math.PI+b),x<0&&(x=2*Math.PI+x),s&&b>x&&(b-=2*Math.PI),!s&&x>b&&(x-=2*Math.PI)}let M=x-b;if(Math.abs(M)>g){const t=x,e=d,n=m;x=b+g*(s&&x>b?1:-1),d=w+h*Math.cos(x),m=_+p*Math.sin(x),$=lh(d,m,h,p,r,0,s,e,n,[x,t,w,_])}M=x-b;const k=Math.cos(b),C=Math.sin(b),N=Math.cos(x),T=Math.sin(x),S=Math.tan(M/4),A=4/3*h*S,E=4/3*p*S,j=[u,f],D=[u+A*C,f-E*k],P=[d+A*T,m-E*N],z=[d,m];if(D[0]=2*j[0]-D[0],D[1]=2*j[1]-D[1],c)return[...D,...P,...z,...$];$=[...D,...P,...z,...$];const L=[];for(let t=0,e=$.length;t<e;t+=1)L[t]=t%2?ah($[t-1],$[t],v).y:ah($[t],$[t+1],v).x;return L},ch=(t,e,n,i,r,o)=>{const s=.3333333333333333,a=2/3;return[s*t+a*n,s*e+a*i,s*r+a*n,s*o+a*i,r,o]},uh=(t,e,n,i)=>[...Zf([t,e],[n,i],.5),n,i,n,i],fh=(t,e)=>{const[n]=t,i=t.slice(1).map(Number),[r,o]=i;let s;const{x1:a,y1:l,x:c,y:u}=e;return"TQ".includes(n)||(e.qx=null,e.qy=null),"M"===n?(e.x=r,e.y=o,t):"A"===n?(s=[a,l,...i],["C",...lh(...s)]):"Q"===n?(e.qx=r,e.qy=o,s=[a,l,...i],["C",...ch(...s)]):"L"===n?["C",...uh(a,l,r,o)]:"Z"===n?["C",...uh(a,l,c,u)]:t},hh=t=>{if(sh(t))return[...t];const e=Bf(t),n={...Wf},i=[];let r="",o=e.length;for(let t=0;t<o;t+=1){[r]=e[t],i[t]=r,e[t]=fh(e[t],n),oh(e,i,t),o=e.length;const s=e[t],a=s.length;n.x1=+s[a-2],n.y1=+s[a-1],n.x2=+s[a-4]||n.x1,n.y2=+s[a-3]||n.y1}return e},ph=t=>{let e=0,n=0,i=0;return hh(t).map((t=>"M"===t[0]?([,e,n]=t,0):(i=((t,e,n,i,r,o,s,a)=>3*((a-e)*(n+r)-(s-t)*(i+o)+i*(t-r)-n*(e-o)+a*(r+t/3)-s*(o+e/3))/20)(e,n,...t.slice(1)),[e,n]=t.slice(-2),i))).reduce(((t,e)=>t+e),0)},dh=t=>ih(t).length,mh=t=>ph(hh(t))>=0,gh=(t,e)=>ih(t,e).point,vh=(t,e)=>{const n=xf(t);let i=[...n],r=dh(i),o=i.length-1,s=0,a=0,l=n[0];const[c,u]=l.slice(-2),f={x:c,y:u};if(o<=0||!e||!Number.isFinite(e))return{segment:l,index:0,length:a,point:f,lengthAtSegment:s};if(e>=r)return i=n.slice(0,-1),s=dh(i),a=r-s,{segment:n[o],index:o,length:a,lengthAtSegment:s};const h=[];for(;o>0;)l=i[o],i=i.slice(0,-1),s=dh(i),a=r-s,r=s,h.push({segment:l,index:o,length:a,lengthAtSegment:s}),o-=1;return h.find((({lengthAtSegment:t})=>t<=e))},yh=(t,e)=>{const n=xf(t),i=Bf(n),r=dh(n),o=t=>{const n=t.x-e.x,i=t.y-e.y;return n*n+i*i};let s,a=8,l={x:0,y:0},c=0,u=0,f=1/0;for(let t=0;t<=r;t+=a)s=gh(i,t),c=o(s),c<f&&(l=s,u=t,f=c);a/=2;let h,p,d=0,m=0,g=0,v=0;for(;a>.5;)d=u-a,h=gh(i,d),g=o(h),m=u+a,p=gh(i,m),v=o(p),d>=0&&g<f?(l=h,u=d,f=g):m<=r&&v<f?(l=p,u=m,f=v):a/=2;const y=vh(n,u);return{closest:l,distance:Math.sqrt(f),segment:y}},bh=(t,e)=>yh(t,e).closest,xh=(t,e)=>yh(t,e).segment,wh=(t,e)=>vh(t,e).segment,_h=(t,e)=>{const{distance:n}=yh(t,e);return Math.abs(n)<.001},$h=t=>{if("string"!=typeof t)return!1;const e=new yf(t);for(df(e);e.index<e.max&&!e.err.length;)vf(e);return!e.err.length&&"mM".includes(e.segments[0][0])},Mh=t=>bf(t)&&t.slice(1).every((([t])=>t===t.toLowerCase())),kh=(t,e)=>{let{round:n}=of;if("off"===e||"off"===n)return[...t];n="number"==typeof e&&e>=0?e:n;const i="number"==typeof n&&n>=1?10**n:1;return t.map((t=>{const e=t.slice(1).map(Number).map((t=>n?Math.round(t*i)/i:Math.round(t)));return[t[0],...e]}))},Ch=(t,e)=>kh(t,e).map((t=>t[0]+t.slice(1).join(" "))).join(""),Nh={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},Th=(t,e,n)=>{const i=n||document,r=i.defaultView||window,o=Object.keys(Nh),s=t instanceof r.SVGElement,a=s?t.tagName:null;if(a&&o.every((t=>a!==t)))throw TypeError(`${sf}: "${a}" is not SVGElement`);const l=i.createElementNS("http://www.w3.org/2000/svg","path"),c=s?a:t.type,u=Nh[c],f={type:c};s?(u.forEach((e=>{u.includes(e)&&(f[e]=t.getAttribute(e))})),Object.values(t.attributes).forEach((({name:t,value:e})=>{u.includes(t)||l.setAttribute(t,e)}))):(Object.assign(f,t),Object.keys(f).forEach((t=>{!u.includes(t)&&"type"!==t&&l.setAttribute(t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),f[t])})));let h="";const p=of.round;return"circle"===c?h=Ch((t=>{const{cx:e,cy:n,r:i}=t;return[["M",e-i,n],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,-2*i,0]]})(f),p):"ellipse"===c?h=Ch((t=>{const{cx:e,cy:n,rx:i,ry:r}=t;return[["M",e-i,n],["a",i,r,0,1,0,2*i,0],["a",i,r,0,1,0,-2*i,0]]})(f),p):["polyline","polygon"].includes(c)?h=Ch((t=>{const e=[],n=(t.points||"").trim().split(/[\s|,]/).map(Number);let i=0;for(;i<n.length;)e.push([i?"L":"M",n[i],n[i+1]]),i+=2;return"polygon"===t.type?[...e,["z"]]:e})(f),p):"rect"===c?h=Ch((t=>{const e=+t.x||0,n=+t.y||0,i=+t.width,r=+t.height;let o=+t.rx,s=+t.ry;return o||s?(o=o||s,s=s||o,2*o>i&&(o-=(2*o-i)/2),2*s>r&&(s-=(2*s-r)/2),[["M",e+o,n],["h",i-2*o],["s",o,0,o,s],["v",r-2*s],["s",0,s,-o,s],["h",2*o-i],["s",-o,0,-o,-s],["v",2*s-r],["s",0,-s,o,-s]]):[["M",e,n],["h",i],["v",r],["H",e],["Z"]]})(f),p):"line"===c?h=Ch((t=>{const{x1:e,y1:n,x2:i,y2:r}=t;return[["M",e,n],["L",i,r]]})(f),p):"glyph"===c&&(h=s?t.getAttribute("d"):t.d),!!$h(h)&&(l.setAttribute("d",h),e&&s&&(t.before(l,t),t.remove()),l)},Sh=t=>{const e=[];let n,i=-1;return t.forEach((t=>{"M"===t[0]?(n=[t],i+=1):n=[...n,t],e[i]=n})),e},Ah=t=>{if(Mh(t))return[...t];const e=xf(t);let n=0,i=0,r=0,o=0;return e.map((t=>{const e=t.slice(1).map(Number),[s]=t,a=s.toLowerCase();if("M"===s)return[n,i]=e,r=n,o=i,["M",n,i];let l=[];if(s!==a)if("a"===a)l=[a,e[0],e[1],e[2],e[3],e[4],e[5]-n,e[6]-i];else if("v"===a)l=[a,e[0]-i];else if("h"===a)l=[a,e[0]-n];else{l=[a,...e.map(((t,e)=>t-(e%2?i:n)))]}else"m"===s&&(r=e[0]+n,o=e[1]+i),l=[a,...e];const c=l.length;return"z"===a?(n=r,i=o):"h"===a?n+=l[1]:"v"===a?i+=l[1]:(n+=l[c-2],i+=l[c-1]),l}))},Eh=(t,e,n,i)=>{const[r]=t,o=t=>Math.round(1e4*t)/1e4,s=t.slice(1).map((t=>+t)),a=e.slice(1).map((t=>+t)),{x1:l,y1:c,x2:u,y2:f,x:h,y:p}=n;let d=t;const[m,g]=a.slice(-2);if("TQ".includes(r)||(n.qx=null,n.qy=null),["V","H","S","T","Z"].includes(r))d=[r,...s];else if("L"===r)o(h)===o(m)?d=["V",g]:o(p)===o(g)&&(d=["H",m]);else if("C"===r){const[t,e]=a;"CS".includes(i)&&(o(t)===o(2*l-u)&&o(e)===o(2*c-f)||o(l)===o(2*u-h)&&o(c)===o(2*f-p))&&(d=["S",...a.slice(-4)]),n.x1=t,n.y1=e}else if("Q"===r){const[t,e]=a;n.qx=t,n.qy=e,"QT".includes(i)&&(o(t)===o(2*l-u)&&o(e)===o(2*c-f)||o(l)===o(2*u-h)&&o(c)===o(2*f-p))&&(d=["T",...a.slice(-2)])}return d},jh=(t,e)=>{const n=qf(t),i=Bf(n),r={...Wf},o=[],s=n.length;let a="",l="",c=0,u=0,f=0,h=0;for(let t=0;t<s;t+=1){[a]=n[t],o[t]=a,t&&(l=o[t-1]),n[t]=Eh(n[t],i[t],r,l);const e=n[t],s=e.length;switch(r.x1=+e[s-2],r.y1=+e[s-1],r.x2=+e[s-4]||r.x1,r.y2=+e[s-3]||r.y1,a){case"Z":c=f,u=h;break;case"H":[,c]=e;break;case"V":[,u]=e;break;default:[c,u]=e.slice(-2).map(Number),"M"===a&&(f=c,h=u)}r.x=c,r.y=u}const p=kh(n,e),d=kh(Ah(n),e);return p.map(((t,e)=>e?t.join("").length<d[e].join("").length?t:d[e]:t))},Dh=t=>{const e=t.slice(1).map(((e,n,i)=>n?[...i[n-1].slice(-2),...e.slice(1)]:[...t[0].slice(1),...e.slice(1)])).map((t=>t.map(((e,n)=>t[t.length-n-2*(1-n%2)])))).reverse();return[["M",...e[0].slice(0,2)],...e.map((t=>["C",...t.slice(2)]))]},Ph=t=>{const e=qf(t),n="Z"===e.slice(-1)[0][0],i=Bf(e).map(((t,n)=>{const[i,r]=t.slice(-2).map(Number);return{seg:e[n],n:t,c:e[n][0],x:i,y:r}})).map(((t,e,i)=>{const r=t.seg,o=t.n,s=e&&i[e-1],a=i[e+1],l=t.c,c=i.length,u=e?i[e-1].x:i[c-1].x,f=e?i[e-1].y:i[c-1].y;let h=[];switch(l){case"M":h=n?["Z"]:[l,u,f];break;case"A":h=[l,...r.slice(1,-3),1===r[5]?0:1,u,f];break;case"C":h=a&&"S"===a.c?["S",r[1],r[2],u,f]:[l,r[3],r[4],r[1],r[2],u,f];break;case"S":h=!s||!"CS".includes(s.c)||a&&"S"===a.c?[l,o[1],o[2],u,f]:["C",o[3],o[4],o[1],o[2],u,f];break;case"Q":h=a&&"T"===a.c?["T",u,f]:[l,...r.slice(1,-2),u,f];break;case"T":h=!s||!"QT".includes(s.c)||a&&"T"===a.c?[l,u,f]:["Q",o[1],o[2],u,f];break;case"Z":h=["M",u,f];break;case"H":h=[l,u];break;case"V":h=[l,f];break;default:h=[l,...r.slice(1,-2),u,f]}return h}));return n?i.reverse():[i[0],...i.slice(1).reverse()]},zh=(t,e,n)=>{const[i,r,o]=n,[s,a,l]=((t,e)=>{let n=Uf.Translate(...e.slice(0,-1));return[,,,n.m44]=e,n=t.multiply(n),[n.m41,n.m42,n.m43,n.m44]})(t,[...e,0,1]),c=a-r,u=l-o;return[(s-i)*(Math.abs(o)/Math.abs(u)||1)+i,c*(Math.abs(o)/Math.abs(u)||1)+r]},Lh=(t,e)=>{let n,i,r,o,s,a,l=0,c=0;const u=qf(t),f=e&&Object.keys(e);if(!e||f&&!f.length)return[...u];const h=Bf(u);if(!e.origin){const{origin:t}=of;Object.assign(e,{origin:t})}const p=(t=>{let e=new Uf;const{origin:n}=t,[i,r]=n,{translate:o}=t,{rotate:s}=t,{skew:a}=t,{scale:l}=t;return Array.isArray(o)&&o.length>=2&&o.every((t=>!Number.isNaN(+t)))&&o.some((t=>0!==t))?e=e.translate(...o):"number"==typeof o&&!Number.isNaN(o)&&(e=e.translate(o)),(s||a||l)&&(e=e.translate(i,r),Array.isArray(s)&&s.length>=2&&s.every((t=>!Number.isNaN(+t)))&&s.some((t=>0!==t))?e=e.rotate(...s):"number"==typeof s&&!Number.isNaN(s)&&(e=e.rotate(s)),Array.isArray(a)&&2===a.length&&a.every((t=>!Number.isNaN(+t)))&&a.some((t=>0!==t))?(e=a[0]?e.skewX(a[0]):e,e=a[1]?e.skewY(a[1]):e):"number"==typeof a&&!Number.isNaN(a)&&(e=e.skewX(a)),Array.isArray(l)&&l.length>=2&&l.every((t=>!Number.isNaN(+t)))&&l.some((t=>1!==t))?e=e.scale(...l):"number"==typeof l&&!Number.isNaN(l)&&(e=e.scale(l)),e=e.translate(-i,-r)),e})(e),{origin:d}=e,m={...Wf};let g=[],v=0,y="",b=[];const x=[];if(!p.isIdentity){for(n=0,r=u.length;n<r;n+=1){g=u[n],u[n]&&([y]=g),x[n]=y,"A"===y&&(g=fh(h[n],m),u[n]=fh(h[n],m),oh(u,x,n),h[n]=fh(h[n],m),oh(h,x,n),r=Math.max(u.length,h.length)),g=h[n],v=g.length,m.x1=+g[v-2],m.y1=+g[v-1],m.x2=+g[v-4]||m.x1,m.y2=+g[v-3]||m.y1;const t={s:u[n],c:u[n][0],x:m.x1,y:m.y1};b=[...b,t]}return b.map((t=>{if(y=t.c,g=t.s,"L"===y||"H"===y||"V"===y)return[s,a]=zh(p,[t.x,t.y],d),l!==s&&c!==a?g=["L",s,a]:c===a?g=["H",s]:l===s&&(g=["V",a]),l=s,c=a,g;for(i=1,o=g.length;i<o;i+=2)[l,c]=zh(p,[+g[i],+g[i+1]],d),g[i]=l,g[i+1]=c;return g}))}return[...u]},Rh=t=>{const e=t.slice(0,2),n=t.slice(2,4),i=t.slice(4,6),r=t.slice(6,8),o=Zf(e,n,.5),s=Zf(n,i,.5),a=Zf(i,r,.5),l=Zf(o,s,.5),c=Zf(s,a,.5),u=Zf(l,c,.5);return[["C",...o,...l,...u],["C",...c,...a,...r]]};class Oh{static CSSMatrix=Uf;static getPathBBox=rh;static getPathArea=ph;static getTotalLength=dh;static getDrawDirection=mh;static getPointAtLength=gh;static pathLengthFactory=ih;static getPropertiesAtLength=vh;static getPropertiesAtPoint=yh;static polygonLength=$f;static polygonArea=wf;static getClosestPoint=bh;static getSegmentOfPoint=xh;static getSegmentAtLength=wh;static isPointInStroke=_h;static isValidPath=$h;static isPathArray=bf;static isAbsoluteArray=Yf;static isRelativeArray=Mh;static isCurveArray=sh;static isNormalizedArray=Vf;static shapeToPath=Th;static parsePathString=xf;static roundPath=kh;static splitPath=Sh;static splitCubic=Rh;static optimizePath=jh;static reverseCurve=Dh;static reversePath=Ph;static normalizePath=Bf;static transformPath=Lh;static pathToAbsolute=qf;static pathToRelative=Ah;static pathToCurve=hh;static pathToString=Ch;constructor(t,e){const n=e||{},i=typeof t>"u";if(i||!t.length)throw TypeError(`${sf}: "pathValue" is ${i?"undefined":"empty"}`);const r=xf(t);this.segments=r;const{width:o,height:s,cx:a,cy:l,cz:c}=this.getBBox(),{round:u,origin:f}=n;let h,p;if("auto"===u){const t=`${Math.floor(Math.max(o,s))}`.length;h=t>=4?0:4-t}else h=Number.isInteger(u)||"off"===u?u:of.round;if(Array.isArray(f)&&f.length>=2){const[t,e,n]=f.map(Number);p=[Number.isNaN(t)?a:t,Number.isNaN(e)?l:e,Number.isNaN(n)?c:n]}else p=[a,l,c];return this.round=h,this.origin=p,this}getBBox(){return rh(this.segments)}getTotalLength(){return dh(this.segments)}getPointAtLength(t){return gh(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=qf(t),this}toRelative(){const{segments:t}=this;return this.segments=Ah(t),this}toCurve(){const{segments:t}=this;return this.segments=hh(t),this}reverse(t){this.toAbsolute();const{segments:e}=this,n=Sh(e),i=n.length>1&&n,r=i?[...i].map(((e,n)=>t?n?Ph(e):[...e]:Ph(e))):[...e];let o=[];return o=i?r.flat(1):t?e:Ph(e),this.segments=[...o],this}normalize(){const{segments:t}=this;return this.segments=Bf(t),this}optimize(){const{segments:t}=this;return this.segments=jh(t,this.round),this}transform(t){if(!t||"object"!=typeof t||"object"==typeof t&&!["translate","rotate","skew","scale"].some((e=>e in t)))return this;const{segments:e,origin:[n,i,r]}=this,o={};for(const[e,n]of Object.entries(t))"skew"===e&&Array.isArray(n)||("rotate"===e||"translate"===e||"origin"===e||"scale"===e)&&Array.isArray(n)?o[e]=n.map(Number):"origin"!==e&&"number"==typeof Number(n)&&(o[e]=Number(n));const{origin:s}=o;if(Array.isArray(s)&&s.length>=2){const[t,e,a]=s.map(Number);o.origin=[Number.isNaN(t)?n:t,Number.isNaN(e)?i:e,a||r]}else o.origin=[n,i,r];return this.segments=Lh(e,o),this}flipX(){return this.transform({rotate:[0,180,0]}),this}flipY(){return this.transform({rotate:[180,0,0]}),this}toString(){return Ch(this.segments,this.round)}}function Fh(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function Ih(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function Uh(t,e,n){const i=t.slice();i[28]=e[n],i[26]=n;const r=i[7].get(i[28].from);i[29]=r;const o=i[7].get(i[28].to);i[30]=o;const s=i[8](Dl(),{from:i[29],to:i[30],link:i[28]}).toString();i[31]=s;const a=Oh.getTotalLength(i[31]);i[32]=a;const l=Oh.getPointAtLength(i[31],i[32]/2);i[33]=l;const c=Oh.getPointAtLength(i[31],.48*i[32]);i[34]=c;const u=Oh.getPointAtLength(i[31],.52*i[32]);return i[35]=u,i}function Yh(e){let n,i,r,o,s;return{c(){n=S("path"),r=S("path"),L(n,"class","link linkTo-"+e[30].node+" linkFrom-"+e[29].node+" svelte-1dl0j8b"),L(n,"stroke-width",e[28].value),L(n,"d",e[31]),L(r,"class","arrow arrowTo-"+e[30].node+" arrowFrom-"+e[29].node+" svelte-1dl0j8b"),L(r,"d",e[9]([e[34],e[33],e[35]])),L(r,"marker-end","url(#triangle)")},m(t,i){k(t,n,i),k(t,r,i),o||(s=D(n,"introend",e[10]),o=!0)},p(t,n){e=t},i(t){i||at((()=>{i=_t(n,rf,{duration:1e3,delay:200+10*e[28].value}),i.start()}))},o:t,d(t){t&&C(n),t&&C(r),o=!1,s()}}}function qh(e){let n,i=e[1]&&Yh(e);return{c(){i&&i.c(),n=j()},m(t,e){i&&i.m(t,e),k(t,n,e)},p(t,e){t[1]?i?(i.p(t,e),2&e[0]&&bt(i,1)):(i=Yh(t),i.c(),bt(i,1),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(t){bt(i)},o:t,d(t){i&&i.d(t),t&&C(n)}}}function Hh(e){let n,i,r=e[6].filter(Kh),o=[];for(let t=0;t<r.length;t+=1)o[t]=Vh(Ih(e,r,t));let s=e[6].filter(Gh),a=[];for(let t=0;t<s.length;t+=1)a[t]=Wh(Fh(e,s,t));return{c(){n=S("g");for(let t=0;t<o.length;t+=1)o[t].c();i=j();for(let t=0;t<a.length;t+=1)a[t].c();L(n,"class","node-group")},m(t,e){k(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);_(n,i);for(let t=0;t<a.length;t+=1)a[t].m(n,null)},p(t,e){if(64&e[0]){let s;for(r=t[6].filter(Kh),s=0;s<r.length;s+=1){const a=Ih(t,r,s);o[s]?(o[s].p(a,e),bt(o[s],1)):(o[s]=Vh(a),o[s].c(),bt(o[s],1),o[s].m(n,i))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}if(64&e[0]){let i;for(s=t[6].filter(Gh),i=0;i<s.length;i+=1){const r=Fh(t,s,i);a[i]?(a[i].p(r,e),bt(a[i],1)):(a[i]=Wh(r),a[i].c(),bt(a[i],1),a[i].m(n,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},i(t){for(let t=0;t<r.length;t+=1)bt(o[t]);for(let t=0;t<s.length;t+=1)bt(a[t])},o:t,d(t){t&&C(n),N(o,t),N(a,t)}}}function Vh(e){let n,i,o,s,a,l,c,u,f,h=e[24].archetype+"";function p(...t){return e[11](e[24],...t)}function d(...t){return e[12](e[24],...t)}return{c(){n=S("g"),i=S("circle"),s=S("text"),a=A(h),L(i,"class","node svelte-1dl0j8b"),L(i,"r",e[24].r),L(s,"class","node-label svelte-1dl0j8b"),L(s,"dy",l=-(e[24].r+3)),L(n,"transform",c="translate("+e[24].x+", "+e[24].y+")")},m(t,e){k(t,n,e),_(n,i),_(n,s),_(s,a),u||(f=[D(i,"mouseenter",p),D(i,"mouseleave",d)],u=!0)},p(t,n){e=t},i(t){o||at((()=>{o=_t(i,nf,{duration:1e3}),o.start()}))},o:t,d(t){t&&C(n),u=!1,r(f)}}}function Wh(e){let n,i,o,s,a,l,c,u,f,h=e[24].archetype+"";function p(...t){return e[13](e[24],...t)}function d(...t){return e[14](e[24],...t)}return{c(){n=S("g"),i=S("circle"),s=S("text"),a=A(h),L(i,"class","node svelte-1dl0j8b"),L(i,"r",e[24].r),L(s,"class","node-label svelte-1dl0j8b"),L(s,"dy",l=e[24].r+18),L(n,"transform",c="translate("+e[24].x+", "+e[24].y+")")},m(t,e){k(t,n,e),_(n,i),_(n,s),_(s,a),u||(f=[D(i,"mouseenter",p),D(i,"mouseleave",d)],u=!0)},p(t,n){e=t},i(t){o||at((()=>{o=_t(i,nf,{duration:1e3}),o.start()}))},o:t,d(t){t&&C(n),u=!1,r(f)}}}function Bh(e){let n,i,r,o=e[5],s=[];for(let t=0;t<o.length;t+=1)s[t]=qh(Uh(e,o,t));let a=e[1]&&Hh(e);return{c(){n=S("g");for(let t=0;t<s.length;t+=1)s[t].c();i=E(),a&&a.c(),r=j(),L(n,"class","link-group"),L(n,"id","link-group")},m(t,e){k(t,n,e);for(let t=0;t<s.length;t+=1)s[t].m(n,null);k(t,i,e),a&&a.m(t,e),k(t,r,e)},p(t,e){if(931&e[0]){let i;for(o=t[5],i=0;i<o.length;i+=1){const r=Uh(t,o,i);s[i]?(s[i].p(r,e),bt(s[i],1)):(s[i]=qh(r),s[i].c(),bt(s[i],1),s[i].m(n,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=o.length}t[1]?a?(a.p(t,e),2&e[0]&&bt(a,1)):(a=Hh(t),a.c(),bt(a,1),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(t){for(let t=0;t<o.length;t+=1)bt(s[t]);bt(a)},o:t,d(t){t&&C(n),N(s,t),t&&C(i),a&&a.d(t),t&&C(r)}}}function Zh(t,e){const n=document.getElementById("link-group"),i=document.getElementsByClassName(`linkFrom-${e.node}`),r=document.getElementsByClassName(`arrowFrom-${e.node}`),o=document.getElementsByClassName(`linkTo-${e.node}`),s=document.getElementsByClassName(`arrowTo-${e.node}`),a=[];for(const t of i)t.classList.toggle("linkFrom"),a.push({selection:t});for(const t of o)t.classList.toggle("linkTo"),a.push({selection:t});for(const t of r)t.classList.toggle("arrowVisible"),a.push({selection:t});for(const t of s)t.classList.toggle("arrowVisible"),a.push({selection:t});for(const t of a)n.appendChild(t.selection)}function Xh(t,e){const n=document.getElementsByClassName(`linkFrom-${e.node}`),i=document.getElementsByClassName(`arrowFrom-${e.node}`),r=document.getElementsByClassName(`linkTo-${e.node}`),o=document.getElementsByClassName(`arrowTo-${e.node}`);for(const t of n)t.classList.toggle("linkFrom");for(const t of r)t.classList.toggle("linkTo");for(const t of i)t.classList.toggle("arrowVisible");for(const t of o)t.classList.toggle("arrowVisible")}const Kh=t=>t.node<9,Gh=t=>9===t.node;function Qh(t,e,n){let i,r,o,s,a;const{custom:c,width:u,height:f}=tt("LayerCake");l(t,c,(t=>n(17,a=t))),l(t,u,(t=>n(16,s=t))),l(t,f,(t=>n(15,o=t)));const{nodes:h,links:p}=a,d=s/1.75,m=Math.acos((2*Math.pow(d,2)-Math.pow(s,2))/(2*Math.pow(d,2))),g=m/(h.length-1),v=m/2-g/2,y=h.map(((t,e)=>{let n,i,r;return t.node<9?(n=s/2+d*Math.cos(g*e-Math.PI/2-v),i=(1+Math.sin(g*e-Math.PI/2-v))*d,r=t.population_size/(1+4*Math.random())):(r=20,n=s/2,i=o-r),Object.assign(Object.assign({},t),{x:n,y:i,r:r})})),b=new Map(y.map((t=>[t.node.toFixed(0),t])));se(p,(t=>t.from));const x=Il().x((t=>t.x)).y((t=>t.y)).curve(Kl);Q((()=>n(1,i=!0)));return n(1,i=!1),n(0,r=!1),[r,i,c,u,f,p,y,b,function(t,e){if(t.moveTo(e.from.x,e.from.y),"9"===e.link.to){const n=e.from.x>s/2?s:0;t.quadraticCurveTo(n,o/1.5,e.to.x,e.to.y)}else 1===Math.abs(+e.link.to-+e.link.from)?t.lineTo(e.to.x,e.to.y):t.quadraticCurveTo(s/2,.1+Math.random()*o,e.to.x,e.to.y);return t},x,()=>{r||n(0,r=!0)},(t,e)=>Zh(0,t),(t,e)=>Xh(0,t),(t,e)=>Zh(0,t),(t,e)=>Xh(0,t)]}class Jh extends St{constructor(t){super(),Tt(this,t,Qh,Bh,s,{},null,[-1,-1])}}function tp(t){let e,n;return e=new Jh({}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function ep(t){let e,n,i,r,o,s,a=t[8]&&tp();return{c(){e=S("defs"),n=S("marker"),i=S("path"),r=E(),a&&a.c(),o=j(),L(i,"d","M 0 0 L 10 5 L 0 10 z"),L(i,"fill","black"),L(n,"id","triangle"),L(n,"viewBox","0 0 10 10"),L(n,"refX","1"),L(n,"refY","5"),L(n,"markerUnits","userSpaceOnUse"),L(n,"markerWidth","6"),L(n,"markerHeight","6"),L(n,"orient","auto")},m(t,l){k(t,e,l),_(e,n),_(n,i),k(t,r,l),a&&a.m(t,l),k(t,o,l),s=!0},p(t,e){t[8]?a?256&e&&bt(a,1):(a=tp(),a.c(),bt(a,1),a.m(o.parentNode,o)):a&&(vt(),xt(a,1,1,(()=>{a=null})),yt())},i(t){s||(bt(a),s=!0)},o(t){xt(a),s=!1},d(t){t&&C(e),t&&C(r),a&&a.d(t),t&&C(o)}}}function np(t){let e,n;return e=new xs({props:{$$slots:{default:[ep]},$$scope:{ctx:t}}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};768&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function ip(t){let e,n;return e=new bu({props:{caption:t[1],url:t[4],type:12===t[6]?"split-cols":"single-cols"}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.caption=t[1]),16&n&&(i.url=t[4]),64&n&&(i.type=12===t[6]?"split-cols":"single-cols"),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function rp(t){let e,n,i,r,o,s;n=new ls({props:{padding:t[0],custom:{nodes:t[2],links:t[3]},$$slots:{default:[np]},$$scope:{ctx:t}}});let a=t[5]&&ip(t);return{c(){e=T("div"),Mt(n.$$.fragment),r=E(),a&&a.c(),o=j(),L(e,"class",i="chart flow-chart "+t[7])},m(t,i){k(t,e,i),kt(n,e,null),k(t,r,i),a&&a.m(t,i),k(t,o,i),s=!0},p(t,[r]){const l={};1&r&&(l.padding=t[0]),12&r&&(l.custom={nodes:t[2],links:t[3]}),768&r&&(l.$$scope={dirty:r,ctx:t}),n.$set(l),(!s||128&r&&i!==(i="chart flow-chart "+t[7]))&&L(e,"class",i),t[5]?a?(a.p(t,r),32&r&&bt(a,1)):(a=ip(t),a.c(),bt(a,1),a.m(o.parentNode,o)):a&&(vt(),xt(a,1,1,(()=>{a=null})),yt())},i(t){s||(bt(n.$$.fragment,t),bt(a),s=!0)},o(t){xt(n.$$.fragment,t),xt(a),s=!1},d(t){t&&C(e),Ct(n),t&&C(r),a&&a.d(t),t&&C(o)}}}function op(t,e,n){let i,{margins:r={top:50,right:0,bottom:50,left:0}}=e,{caption:o=""}=e,{nodes:s}=e,{links:a}=e,{url:l=""}=e,{includeCaption:c=!0}=e,{spanCol:u}=e,{customClass:f=""}=e;return Q((()=>n(8,i=!0))),t.$$set=t=>{"margins"in t&&n(0,r=t.margins),"caption"in t&&n(1,o=t.caption),"nodes"in t&&n(2,s=t.nodes),"links"in t&&n(3,a=t.links),"url"in t&&n(4,l=t.url),"includeCaption"in t&&n(5,c=t.includeCaption),"spanCol"in t&&n(6,u=t.spanCol),"customClass"in t&&n(7,f=t.customClass)},n(8,i=!1),[r,o,s,a,l,c,u,f,i]}class sp extends St{constructor(t){super(),Tt(this,t,op,rp,s,{margins:0,caption:1,nodes:2,links:3,url:4,includeCaption:5,spanCol:6,customClass:7})}}function ap(t,e,n){const i=t.slice();return i[8]=e[n],i}function lp(t,e,n){const i=t.slice();return i[8]=e[n],i[12]=n,i}function cp(t){let e,n;return e=new sp({props:{nodes:t[5],links:t[6],spanCol:12,url:pp,caption:t[3][0].value,customClass:"chart-large"}}),{c(){Mt(e.$$.fragment)},m(t,i){kt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.nodes=t[5]),64&n&&(i.links=t[6]),8&n&&(i.caption=t[3][0].value),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function up(t){let e,n,i,r=t[8].value+"";return{c(){e=T("p"),n=A(r),i=E()},m(t,r){k(t,e,r),_(e,n),_(e,i)},p(t,e){2&e&&r!==(r=t[8].value+"")&&R(n,r)},d(t){t&&C(e)}}}function fp(t){let e,n,i,r=t[8].value+"";return{c(){e=T("p"),n=A(r),i=E()},m(t,r){k(t,e,r),_(e,n),_(e,i)},p(t,e){4&e&&r!==(r=t[8].value+"")&&R(n,r)},d(t){t&&C(e)}}}function hp(t){let e,n,i,s,a,l,c,u,f,h,p=t[4]&&t[5]&&t[6]&&cp(t),d=t[1],m=[];for(let e=0;e<d.length;e+=1)m[e]=up(lp(t,d,e));let v=t[2],y=[];for(let e=0;e<v.length;e+=1)y[e]=fp(ap(t,v,e));return{c(){e=T("div"),n=T("div"),p&&p.c(),i=E(),s=T("div");for(let t=0;t<m.length;t+=1)m[t].c();a=E(),l=T("div");for(let t=0;t<y.length;t+=1)y[t].c();L(n,"class","chart-wrapper svelte-1acmlh6"),L(s,"class","copy svelte-1acmlh6"),L(l,"class","references svelte-1acmlh6"),L(e,"class","section section-2 svelte-1acmlh6")},m(r,o){k(r,e,o),_(e,n),p&&p.m(n,null),_(e,i),_(e,s);for(let t=0;t<m.length;t+=1)m[t].m(s,null);_(e,a),_(e,l);for(let t=0;t<y.length;t+=1)y[t].m(l,null);u=!0,f||(h=[g(c=Bc.call(null,e,{once:t[0]})),D(e,"enter",t[7])],f=!0)},p(t,[e]){if(t[4]&&t[5]&&t[6]?p?(p.p(t,e),112&e&&bt(p,1)):(p=cp(t),p.c(),bt(p,1),p.m(n,null)):p&&(vt(),xt(p,1,1,(()=>{p=null})),yt()),2&e){let n;for(d=t[1],n=0;n<d.length;n+=1){const i=lp(t,d,n);m[n]?m[n].p(i,e):(m[n]=up(i),m[n].c(),m[n].m(s,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}if(4&e){let n;for(v=t[2],n=0;n<v.length;n+=1){const i=ap(t,v,n);y[n]?y[n].p(i,e):(y[n]=fp(i),y[n].c(),y[n].m(l,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=v.length}c&&o(c.update)&&1&e&&c.update.call(null,{once:t[0]})},i(t){u||(bt(p),u=!0)},o(t){xt(p),u=!1},d(t){t&&C(e),p&&p.d(),N(m,t),N(y,t),f=!1,r(h)}}}let pp="assets/data/nodes.csv";function dp(t,e,n){let i,r,o=!1,{once:s}=e,{copy:a}=e,{refs:l}=e,{captions:c}=e;Q((async()=>{const t=await Zt(pp,qt);n(5,i=t.map((t=>Object.assign({},t))));const e=await Zt("assets/data/links.csv",qt);n(6,r=e.reduce(((t,e)=>{const n=Object.entries(e),i=n.filter((t=>"from"!==t[0]&&null!==t[1])),r=n.filter((t=>"from"===t[0]))[0][1].toFixed(0);return i.forEach((e=>{t.push({from:r,to:e[0],value:e[1]})})),t}),[]))}));return t.$$set=t=>{"once"in t&&n(0,s=t.once),"copy"in t&&n(1,a=t.copy),"refs"in t&&n(2,l=t.refs),"captions"in t&&n(3,c=t.captions)},[s,a,l,c,o,i,r,()=>n(4,o=!0)]}class mp extends St{constructor(t){super(),Tt(this,t,dp,hp,s,{once:0,copy:1,refs:2,captions:3})}}function gp(t){let e,n,i,r,o,s,a,l,c,u;return e=new jt({}),i=new Wc({props:{title:t[0].title,authors:t[1],standfirst:t[0].standfirst}}),o=new Ju({props:{once:!0,copy:t[0]["section-one"].copy,refs:t[0]["section-one"].references,captions:t[0]["section-one"].captions}}),a=new mp({props:{once:!0,copy:t[0]["section-two"].copy,refs:t[0]["section-two"].references,captions:t[0]["section-two"].captions}}),c=new Pt({}),{c(){Mt(e.$$.fragment),n=E(),Mt(i.$$.fragment),r=E(),Mt(o.$$.fragment),s=E(),Mt(a.$$.fragment),l=E(),Mt(c.$$.fragment)},m(t,f){kt(e,t,f),k(t,n,f),kt(i,t,f),k(t,r,f),kt(o,t,f),k(t,s,f),kt(a,t,f),k(t,l,f),kt(c,t,f),u=!0},p(t,[e]){const n={};1&e&&(n.title=t[0].title),2&e&&(n.authors=t[1]),1&e&&(n.standfirst=t[0].standfirst),i.$set(n);const r={};1&e&&(r.copy=t[0]["section-one"].copy),1&e&&(r.refs=t[0]["section-one"].references),1&e&&(r.captions=t[0]["section-one"].captions),o.$set(r);const s={};1&e&&(s.copy=t[0]["section-two"].copy),1&e&&(s.refs=t[0]["section-two"].references),1&e&&(s.captions=t[0]["section-two"].captions),a.$set(s)},i(t){u||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),bt(o.$$.fragment,t),bt(a.$$.fragment,t),bt(c.$$.fragment,t),u=!0)},o(t){xt(e.$$.fragment,t),xt(i.$$.fragment,t),xt(o.$$.fragment,t),xt(a.$$.fragment,t),xt(c.$$.fragment,t),u=!1},d(t){Ct(e,t),t&&C(n),Ct(i,t),t&&C(r),Ct(o,t),t&&C(s),Ct(a,t),t&&C(l),Ct(c,t)}}}function vp(t,e,n){let{data:i}=e,{authors:r}=e;return t.$$set=t=>{"data"in t&&n(0,i=t.data),"authors"in t&&n(1,r=t.authors)},[i,r]}var yp={title:"Information ecosystem",standfirst:[{type:"text",value:"YouTube is arguably the largest and most engaging online media platform in the world. Its scale has fueled concerns that YouTube users are being radicalized by biased recommendations and professedly apolitical “anti-woke” channels."},{type:"text",value:"Here we test this hypothesis using a panel of more than 300,000 Americans and their individual-level browsing behavior, on and off YouTube, from January 2016 to September 2021. The dashboards below present key findings from our analysis."}],"section-one":{copy:[{type:"text",value:"To check for overall trends in political category preferences, we examine changes in the six viewing clusters’ total consumption. Here, we track how many YouTube users fall into each political cluster over time, which tells us whether these communities are growing or shrinking."},{type:"text",value:"Selecting “User share” from the dropdown above shows the percentages of the total number of YouTube users who fall into each of our six defined viewing clusters, corresponding to the political content categories."},{type:"text",value:"Selecting “Total consumption share” shows the percentages of the total amount (in minutes) of viewed YouTube content which fall into each of the six categories of news content."},{type:"text",value:"Our results reveal that news, in general, makes up only a small portion of YouTube consumption. However, even a small percentage of users can mean large absolute numbers at the scale of YouTube. For example, averaged over the 4-year period, 764,405 Americans consumed anti-woke content at least once in a given month, with that number growing steadily over time."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Percent of YouTube users falling into the six political categories. In other words, out of all American YouTube viewers, 1.3% were in the left cluster in February 2020. This shows how large YouTube’s political communities are relative to the entire platform."},{type:"text",value:"Consumption share of the six political channel categories. For example, out of the total minutes of content that Americans viewed across the platform in October 2018, 1.76% of those minutes were far-right content. These statistics shed light on the amount of political content being consumed, and not necessarily the communities that consume it."}]},"section-two":{copy:[{type:"text",value:"To check for overall trends in political category preferences, we examine changes in the six viewing clusters’ total consumption. Here, we track how many YouTube users fall into each political cluster over time, which tells us whether these communities are growing or shrinking."},{type:"text",value:"Selecting “User share” from the dropdown above shows the percentages of the total number of YouTube users who fall into each of our six defined viewing clusters, corresponding to the political content categories."},{type:"text",value:"Selecting “Total consumption share” shows the percentages of the total amount (in minutes) of viewed YouTube content which fall into each of the six categories of news content."},{type:"text",value:"Our results reveal that news, in general, makes up only a small portion of YouTube consumption. However, even a small percentage of users can mean large absolute numbers at the scale of YouTube. For example, averaged over the 4-year period, 764,405 Americans consumed anti-woke content at least once in a given month, with that number growing steadily over time."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Percent of YouTube users falling into the six political categories. In other words, out of all American YouTube viewers, 1.3% were in the left cluster in February 2020. This shows how large YouTube’s political communities are relative to the entire platform."},{type:"text",value:"Consumption share of the six political channel categories. For example, out of the total minutes of content that Americans viewed across the platform in October 2018, 1.76% of those minutes were far-right content. These statistics shed light on the amount of political content being consumed, and not necessarily the communities that consume it."}]}};return new class extends St{constructor(t){super(),Tt(this,t,vp,gp,s,{data:0,authors:1})}}({target:document.body,props:{data:yp,authors:[{name:"Homa Hosseinmardi",detail:["Department of Computer and Information Science, University of Pennsylvania, Philadelphia, PA 19104","homahm@seas.upenn.edu"]},{name:"Amir Ghasemian",detail:["Department of Statistics, Harvard University, Cambridge, MA 02138","Department of Statistical Science, Fox School of Business, Temple University, Philadelphia, PA 19122"]},{name:"Aaron Clauset",detail:["Department of Computer Science, University of Colorado Boulder, Boulder, CO 80309","BioFrontiers Institute, University of Colorado Boulder, Boulder, CO 80303","Santa Fe Institute, Santa Fe, NM 87501"]},{name:"Markus Mobius",detail:["Microsoft Research New England, Cambridge, MA 02142"]},{name:"David M. Rothschild",detail:["Microsoft Research New York, New York, NY 10012"]},{name:"Duncan J. Watts",detail:["Department of Computer and Information Science, University of Pennsylvania, Philadelphia, PA 19104","The Annenberg School of Communication, University of Pennsylvania, Philadelphia, PA 19104","Operations, Information, and Decisions Department, University of Pennsylvania, Philadelphia, PA 19104","djwatts@seas.upenn.edu"]}]}})}();
//# sourceMappingURL=bundle.js.map
